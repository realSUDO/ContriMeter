var Lv=t=>{throw TypeError(t)};var sf=(t,e,n)=>e.has(t)||Lv("Cannot "+n);var z=(t,e,n)=>(sf(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?Lv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(sf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(sf(t,e,"access private method"),n);var Bc=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return z(t,e,r)}});function gA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function S1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I1={exports:{}},zd={},C1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),yA=Symbol.for("react.portal"),vA=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),_A=Symbol.for("react.profiler"),EA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),SA=Symbol.for("react.suspense"),IA=Symbol.for("react.memo"),CA=Symbol.for("react.lazy"),Vv=Symbol.iterator;function AA(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var A1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b1=Object.assign,R1={};function aa(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||A1}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P1(){}P1.prototype=aa.prototype;function Vm(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||A1}var jm=Vm.prototype=new P1;jm.constructor=Vm;b1(jm,aa.prototype);jm.isPureReactComponent=!0;var jv=Array.isArray,k1=Object.prototype.hasOwnProperty,Fm={current:null},N1={key:!0,ref:!0,__self:!0,__source:!0};function D1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)k1.call(e,r)&&!N1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:oc,type:t,key:i,ref:o,props:s,_owner:Fm.current}}function bA(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Um(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function RA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fv=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RA(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oc:case yA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+of(o,0):r,jv(s)?(n="",t!=null&&(n=t.replace(Fv,"$&/")+"/"),wu(s,e,n,"",function(u){return u})):s!=null&&(Um(s)&&(s=bA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+of(i,a);o+=wu(i,e,n,l,s)}else if(l=AA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+of(i,a++),o+=wu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function PA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},_u={transition:null},kA={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Fm};function O1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!Um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=aa;fe.Fragment=vA;fe.Profiler=_A;fe.PureComponent=Vm;fe.StrictMode=wA;fe.Suspense=SA;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kA;fe.act=O1;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=b1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Fm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k1.call(e,l)&&!N1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:oc,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:xA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EA,_context:t},t.Consumer=t};fe.createElement=D1;fe.createFactory=function(t){var e=D1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:TA,render:t}};fe.isValidElement=Um;fe.lazy=function(t){return{$$typeof:CA,_payload:{_status:-1,_result:t},_init:PA}};fe.memo=function(t,e){return{$$typeof:IA,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};fe.unstable_act=O1;fe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};fe.useContext=function(t){return Mt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};fe.useId=function(){return Mt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};fe.useRef=function(t){return Mt.current.useRef(t)};fe.useState=function(t){return Mt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Mt.current.useTransition()};fe.version="18.3.1";C1.exports=fe;var I=C1.exports;const G=S1(I),M1=gA({__proto__:null,default:G},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=I,DA=Symbol.for("react.element"),OA=Symbol.for("react.fragment"),MA=Object.prototype.hasOwnProperty,LA=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VA={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MA.call(e,r)&&!VA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:DA,type:t,key:i,ref:o,props:s,_owner:LA.current}}zd.Fragment=OA;zd.jsx=L1;zd.jsxs=L1;I1.exports=zd;var g=I1.exports,V1={exports:{}},an={},j1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var Y=F.length;F.push(H);e:for(;0<Y;){var ie=Y-1>>>1,Z=F[ie];if(0<s(Z,H))F[ie]=H,F[Y]=Z,Y=ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Y=F.pop();if(Y!==H){F[0]=Y;e:for(var ie=0,Z=F.length,de=Z>>>1;ie<de;){var ce=2*(ie+1)-1,Me=F[ce],Ke=ce+1,ye=F[Ke];if(0>s(Me,Y))Ke<Z&&0>s(ye,Me)?(F[ie]=ye,F[Ke]=Y,ie=Ke):(F[ie]=Me,F[ce]=Y,ie=ce);else if(Ke<Z&&0>s(ye,Y))F[ie]=ye,F[Ke]=Y,ie=Ke;else break e}}return H}function s(F,H){var Y=F.sortIndex-H.sortIndex;return Y!==0?Y:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,T=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=F)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function k(F){if(v=!1,x(F),!T)if(n(l)!==null)T=!0,q(O);else{var H=n(u);H!==null&&te(k,H.startTime-F)}}function O(F,H){T=!1,v&&(v=!1,E(S),S=-1),m=!0;var Y=p;try{for(x(H),h=n(l);h!==null&&(!(h.expirationTime>H)||F&&!N());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var Z=ie(h.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),x(H)}else r(l);h=n(l)}if(h!==null)var de=!0;else{var ce=n(u);ce!==null&&te(k,ce.startTime-H),de=!1}return de}finally{h=null,p=Y,m=!1}}var M=!1,C=null,S=-1,R=5,P=-1;function N(){return!(t.unstable_now()-P<R)}function D(){if(C!==null){var F=t.unstable_now();P=F;var H=!0;try{H=C(!0,F)}finally{H?b():(M=!1,C=null)}}else M=!1}var b;if(typeof _=="function")b=function(){_(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,$=j.port2;j.port1.onmessage=D,b=function(){$.postMessage(null)}}else b=function(){w(D,0)};function q(F){C=F,M||(M=!0,b())}function te(F,H){S=w(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,q(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var Y=p;p=H;try{return F()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return H()}finally{p=Y}},t.unstable_scheduleCallback=function(F,H,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,F={id:d++,callback:H,priorityLevel:F,startTime:Y,expirationTime:Z,sortIndex:-1},Y>ie?(F.sortIndex=Y,e(u,F),n(l)===null&&F===n(u)&&(v?(E(S),S=-1):v=!0,te(k,Y-ie))):(F.sortIndex=Z,e(l,F),T||m||(T=!0,q(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var H=p;return function(){var Y=p;p=H;try{return F.apply(this,arguments)}finally{p=Y}}}})(F1);j1.exports=F1;var jA=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=I,on=jA;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U1=new Set,Sl={};function Qi(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(Sl[t]=e,t=0;t<e.length;t++)U1.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,UA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uv={},$v={};function $A(t){return ep.call($v,t)?!0:ep.call(Uv,t)?!1:UA.test(t)?$v[t]=!0:(Uv[t]=!0,!1)}function zA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BA(t,e,n,r){if(e===null||typeof e>"u"||zA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $m=/[\-:]([a-z])/g;function zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($m,zm);vt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($m,zm);vt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($m,zm);vt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bm(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BA(e,n,s,r)&&(n=null),r||s===null?$A(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=FA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),qm=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),B1=Symbol.for("react.offscreen"),zv=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,af;function Ja(t){if(af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);af=e&&e[1]||""}return`
`+af+t}var lf=!1;function cf(t,e){if(!t||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function HA(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=cf(t.type,!1),t;case 11:return t=cf(t.type.render,!1),t;case 1:return t=cf(t.type,!0),t;default:return""}}function sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case tp:return"Profiler";case Hm:return"StrictMode";case np:return"Suspense";case rp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z1:return(t.displayName||"Context")+".Consumer";case $1:return(t._context.displayName||"Context")+".Provider";case Wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qm:return e=t.displayName||null,e!==null?e:sp(t.type)||"Memo";case hs:e=t._payload,t=t._init;try{return sp(t(e))}catch{}}return null}function WA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(e);case 8:return e===Hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qA(t){var e=H1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=qA(t))}function W1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q1(t,e){e=e.checked,e!=null&&Bm(t,"checked",e,!1)}function op(t,e){q1(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&ap(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ap(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Za(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function G1(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Q1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GA=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){GA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function Y1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function X1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Y1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KA=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(t,e){if(e){if(KA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function Gm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,Co=null,Ao=null;function Gv(t){if(t=cc(t)){if(typeof fp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Gd(e),fp(t.stateNode,t.type,e))}}function J1(t){Co?Ao?Ao.push(t):Ao=[t]:Co=t}function Z1(){if(Co){var t=Co,e=Ao;if(Ao=Co=null,Gv(t),e)for(t=0;t<e.length;t++)Gv(e[t])}}function eE(t,e){return t(e)}function tE(){}var uf=!1;function nE(t,e,n){if(uf)return t(e,n);uf=!0;try{return eE(t,e,n)}finally{uf=!1,(Co!==null||Ao!==null)&&(tE(),Z1())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var pp=!1;if(jr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){pp=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{pp=!1}function QA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var cl=!1,Wu=null,qu=!1,mp=null,YA={onError:function(t){cl=!0,Wu=t}};function XA(t,e,n,r,s,i,o,a,l){cl=!1,Wu=null,QA.apply(YA,arguments)}function JA(t,e,n,r,s,i,o,a,l){if(XA.apply(this,arguments),cl){if(cl){var u=Wu;cl=!1,Wu=null}else throw Error(W(198));qu||(qu=!0,mp=u)}}function Yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kv(t){if(Yi(t)!==t)throw Error(W(188))}function ZA(t){var e=t.alternate;if(!e){if(e=Yi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kv(s),t;if(i===r)return Kv(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function sE(t){return t=ZA(t),t!==null?iE(t):null}function iE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iE(t);if(e!==null)return e;t=t.sibling}return null}var oE=on.unstable_scheduleCallback,Qv=on.unstable_cancelCallback,eb=on.unstable_shouldYield,tb=on.unstable_requestPaint,Ge=on.unstable_now,nb=on.unstable_getCurrentPriorityLevel,Km=on.unstable_ImmediatePriority,aE=on.unstable_UserBlockingPriority,Gu=on.unstable_NormalPriority,rb=on.unstable_LowPriority,lE=on.unstable_IdlePriority,Bd=null,sr=null;function sb(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Bd,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:ab,ib=Math.log,ob=Math.LN2;function ab(t){return t>>>=0,t===0?32:31-(ib(t)/ob|0)|0}var Kc=64,Qc=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=el(a):(i&=o,i!==0&&(r=el(i)))}else o=n&~s,o!==0?r=el(o):i!==0&&(r=el(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),s=1<<n,r|=t[n],e&=~s;return r}function lb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-On(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=lb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cE(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function ub(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-On(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Qm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function uE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dE,Ym,hE,fE,pE,yp=!1,Yc=[],As=null,bs=null,Rs=null,Al=new Map,bl=new Map,ps=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function Ha(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cc(e),e!==null&&Ym(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hb(t,e,n,r,s){switch(e){case"focusin":return As=Ha(As,t,e,n,r,s),!0;case"dragenter":return bs=Ha(bs,t,e,n,r,s),!0;case"mouseover":return Rs=Ha(Rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Al.set(i,Ha(Al.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bl.set(i,Ha(bl.get(i)||null,t,e,n,r,s)),!0}return!1}function mE(t){var e=Ei(t.target);if(e!==null){var n=Yi(e);if(n!==null){if(e=n.tag,e===13){if(e=rE(n),e!==null){t.blockedOn=e,pE(t.priority,function(){hE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return e=cc(n),e!==null&&Ym(e),t.blockedOn=n,!1;e.shift()}return!0}function Xv(t,e,n){Eu(t)&&n.delete(e)}function fb(){yp=!1,As!==null&&Eu(As)&&(As=null),bs!==null&&Eu(bs)&&(bs=null),Rs!==null&&Eu(Rs)&&(Rs=null),Al.forEach(Xv),bl.forEach(Xv)}function Wa(t,e){t.blockedOn===e&&(t.blockedOn=null,yp||(yp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,fb)))}function Rl(t){function e(s){return Wa(s,t)}if(0<Yc.length){Wa(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Wa(As,t),bs!==null&&Wa(bs,t),Rs!==null&&Wa(Rs,t),Al.forEach(e),bl.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&ps.shift()}var bo=Qr.ReactCurrentBatchConfig,Qu=!0;function pb(t,e,n,r){var s=Te,i=bo.transition;bo.transition=null;try{Te=1,Xm(t,e,n,r)}finally{Te=s,bo.transition=i}}function mb(t,e,n,r){var s=Te,i=bo.transition;bo.transition=null;try{Te=4,Xm(t,e,n,r)}finally{Te=s,bo.transition=i}}function Xm(t,e,n,r){if(Qu){var s=vp(t,e,n,r);if(s===null)Ef(t,e,r,Yu,n),Yv(t,r);else if(hb(s,t,e,n,r))r.stopPropagation();else if(Yv(t,r),e&4&&-1<db.indexOf(t)){for(;s!==null;){var i=cc(s);if(i!==null&&dE(i),i=vp(t,e,n,r),i===null&&Ef(t,e,r,Yu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ef(t,e,r,null,n)}}var Yu=null;function vp(t,e,n,r){if(Yu=null,t=Gm(r),t=Ei(t),t!==null)if(e=Yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function gE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nb()){case Km:return 1;case aE:return 4;case Gu:case rb:return 16;case lE:return 536870912;default:return 16}default:return 16}}var Ts=null,Jm=null,xu=null;function yE(){if(xu)return xu;var t,e=Jm,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return xu=s.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function Jv(){return!1}function ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:Jv,this.isPropagationStopped=Jv,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zm=ln(la),lc=Ue({},la,{view:0,detail:0}),gb=ln(lc),hf,ff,qa,Hd=Ue({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(hf=t.screenX-qa.screenX,ff=t.screenY-qa.screenY):ff=hf=0,qa=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:ff}}),Zv=ln(Hd),yb=Ue({},Hd,{dataTransfer:0}),vb=ln(yb),wb=Ue({},lc,{relatedTarget:0}),pf=ln(wb),_b=Ue({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Eb=ln(_b),xb=Ue({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tb=ln(xb),Sb=Ue({},la,{data:0}),e0=ln(Sb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ab[t])?!!e[t]:!1}function eg(){return bb}var Rb=Ue({},lc,{key:function(t){if(t.key){var e=Ib[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pb=ln(Rb),kb=Ue({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t0=ln(kb),Nb=Ue({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),Db=ln(Nb),Ob=Ue({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mb=ln(Ob),Lb=Ue({},Hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=ln(Lb),jb=[9,13,27,32],tg=jr&&"CompositionEvent"in window,ul=null;jr&&"documentMode"in document&&(ul=document.documentMode);var Fb=jr&&"TextEvent"in window&&!ul,vE=jr&&(!tg||ul&&8<ul&&11>=ul),n0=" ",r0=!1;function wE(t,e){switch(t){case"keyup":return jb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mo=!1;function Ub(t,e){switch(t){case"compositionend":return _E(e);case"keypress":return e.which!==32?null:(r0=!0,n0);case"textInput":return t=e.data,t===n0&&r0?null:t;default:return null}}function $b(t,e){if(mo)return t==="compositionend"||!tg&&wE(t,e)?(t=yE(),xu=Jm=Ts=null,mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vE&&e.locale!=="ko"?null:e.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zb[t.type]:e==="textarea"}function EE(t,e,n,r){J1(r),e=Xu(e,"onChange"),0<e.length&&(n=new Zm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dl=null,Pl=null;function Bb(t){NE(t,0)}function Wd(t){var e=vo(t);if(W1(e))return t}function Hb(t,e){if(t==="change")return e}var xE=!1;if(jr){var mf;if(jr){var gf="oninput"in document;if(!gf){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),gf=typeof i0.oninput=="function"}mf=gf}else mf=!1;xE=mf&&(!document.documentMode||9<document.documentMode)}function o0(){dl&&(dl.detachEvent("onpropertychange",TE),Pl=dl=null)}function TE(t){if(t.propertyName==="value"&&Wd(Pl)){var e=[];EE(e,Pl,t,Gm(t)),nE(Bb,e)}}function Wb(t,e,n){t==="focusin"?(o0(),dl=e,Pl=n,dl.attachEvent("onpropertychange",TE)):t==="focusout"&&o0()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wd(Pl)}function Gb(t,e){if(t==="click")return Wd(e)}function Kb(t,e){if(t==="input"||t==="change")return Wd(e)}function Qb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:Qb;function kl(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ep.call(e,s)||!Vn(t[s],e[s]))return!1}return!0}function a0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l0(t,e){var n=a0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a0(n)}}function SE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yb(t){var e=IE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SE(n.ownerDocument.documentElement,n)){if(r!==null&&ng(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=l0(n,i);var o=l0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xb=jr&&"documentMode"in document&&11>=document.documentMode,go=null,wp=null,hl=null,_p=!1;function c0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||go==null||go!==Hu(r)||(r=go,"selectionStart"in r&&ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&kl(hl,r)||(hl=r,r=Xu(wp,"onSelect"),0<r.length&&(e=new Zm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},yf={},CE={};jr&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function qd(t){if(yf[t])return yf[t];if(!yo[t])return t;var e=yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CE)return yf[t]=e[n];return t}var AE=qd("animationend"),bE=qd("animationiteration"),RE=qd("animationstart"),PE=qd("transitionend"),kE=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){kE.set(t,e),Qi(e,[t])}for(var vf=0;vf<u0.length;vf++){var wf=u0[vf],Jb=wf.toLowerCase(),Zb=wf[0].toUpperCase()+wf.slice(1);Zs(Jb,"on"+Zb)}Zs(AE,"onAnimationEnd");Zs(bE,"onAnimationIteration");Zs(RE,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(PE,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function d0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JA(r,e,void 0,t),t.currentTarget=null}function NE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;d0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;d0(s,a,u),i=l}}}if(qu)throw t=mp,qu=!1,mp=null,t}function Ne(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var r=t+"__bubble";n.has(r)||(DE(e,t,2,!1),n.add(r))}function _f(t,e,n){var r=0;e&&(r|=4),DE(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[Zc]){t[Zc]=!0,U1.forEach(function(n){n!=="selectionchange"&&(eR.has(n)||_f(n,!1,t),_f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,_f("selectionchange",!1,e))}}function DE(t,e,n,r){switch(gE(e)){case 1:var s=pb;break;case 4:s=mb;break;default:s=Xm}n=s.bind(null,e,n,t),s=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ef(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nE(function(){var u=i,d=Gm(n),h=[];e:{var p=kE.get(t);if(p!==void 0){var m=Zm,T=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":m=Pb;break;case"focusin":T="focus",m=pf;break;case"focusout":T="blur",m=pf;break;case"beforeblur":case"afterblur":m=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Db;break;case AE:case bE:case RE:m=Eb;break;case PE:m=Mb;break;case"scroll":m=gb;break;case"wheel":m=Vb;break;case"copy":case"cut":case"paste":m=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=t0}var v=(e&4)!==0,w=!v&&t==="scroll",E=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,x;_!==null;){x=_;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,E!==null&&(k=Cl(_,E),k!=null&&v.push(Dl(_,k,x)))),w)break;_=_.return}0<v.length&&(p=new m(p,T,null,n,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==hp&&(T=n.relatedTarget||n.fromElement)&&(Ei(T)||T[Fr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Ei(T):null,T!==null&&(w=Yi(T),T!==w||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(v=Zv,k="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=t0,k="onPointerLeave",E="onPointerEnter",_="pointer"),w=m==null?p:vo(m),x=T==null?p:vo(T),p=new v(k,_+"leave",m,n,d),p.target=w,p.relatedTarget=x,k=null,Ei(d)===u&&(v=new v(E,_+"enter",T,n,d),v.target=x,v.relatedTarget=w,k=v),w=k,m&&T)t:{for(v=m,E=T,_=0,x=v;x;x=ao(x))_++;for(x=0,k=E;k;k=ao(k))x++;for(;0<_-x;)v=ao(v),_--;for(;0<x-_;)E=ao(E),x--;for(;_--;){if(v===E||E!==null&&v===E.alternate)break t;v=ao(v),E=ao(E)}v=null}else v=null;m!==null&&h0(h,p,m,v,!1),T!==null&&w!==null&&h0(h,w,T,v,!0)}}e:{if(p=u?vo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=Hb;else if(s0(p))if(xE)O=Kb;else{O=qb;var M=Wb}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=Gb);if(O&&(O=O(t,u))){EE(h,O,n,d);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&ap(p,"number",p.value)}switch(M=u?vo(u):window,t){case"focusin":(s0(M)||M.contentEditable==="true")&&(go=M,wp=u,hl=null);break;case"focusout":hl=wp=go=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,c0(h,n,d);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":c0(h,n,d)}var C;if(tg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else mo?wE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(vE&&n.locale!=="ko"&&(mo||S!=="onCompositionStart"?S==="onCompositionEnd"&&mo&&(C=yE()):(Ts=d,Jm="value"in Ts?Ts.value:Ts.textContent,mo=!0)),M=Xu(u,S),0<M.length&&(S=new e0(S,t,null,n,d),h.push({event:S,listeners:M}),C?S.data=C:(C=_E(n),C!==null&&(S.data=C)))),(C=Fb?Ub(t,n):$b(t,n))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(d=new e0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}NE(h,e)})}function Dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cl(t,n),i!=null&&r.unshift(Dl(t,i,s)),i=Cl(t,e),i!=null&&r.push(Dl(t,i,s))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Cl(n,i),l!=null&&o.unshift(Dl(n,l,a))):s||(l=Cl(n,i),l!=null&&o.push(Dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function f0(t){return(typeof t=="string"?t:""+t).replace(tR,`
`).replace(nR,"")}function eu(t,e,n){if(e=f0(e),f0(t)!==e&&n)throw Error(W(425))}function Ju(){}var Ep=null,xp=null;function Tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(t){return p0.resolve(null).then(t).catch(iR)}:Sp;function iR(t){setTimeout(function(){throw t})}function xf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),nr="__reactFiber$"+ca,Ol="__reactProps$"+ca,Fr="__reactContainer$"+ca,Ip="__reactEvents$"+ca,oR="__reactListeners$"+ca,aR="__reactHandles$"+ca;function Ei(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m0(t);t!==null;){if(n=t[nr])return n;t=m0(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[nr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Gd(t){return t[Ol]||null}var Cp=[],wo=-1;function ei(t){return{current:t}}function Oe(t){0>wo||(t.current=Cp[wo],Cp[wo]=null,wo--)}function Re(t,e){wo++,Cp[wo]=t.current,t.current=e}var Us={},bt=ei(Us),Wt=ei(!1),Vi=Us;function qo(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function Zu(){Oe(Wt),Oe(bt)}function g0(t,e,n){if(bt.current!==Us)throw Error(W(168));Re(bt,e),Re(Wt,n)}function OE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,WA(t)||"Unknown",s));return Ue({},n,r)}function ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Vi=bt.current,Re(bt,t),Re(Wt,Wt.current),!0}function y0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=OE(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,Oe(Wt),Oe(bt),Re(bt,t)):Oe(Wt),Re(Wt,n)}var Ar=null,Kd=!1,Tf=!1;function ME(t){Ar===null?Ar=[t]:Ar.push(t)}function lR(t){Kd=!0,ME(t)}function ti(){if(!Tf&&Ar!==null){Tf=!0;var t=0,e=Te;try{var n=Ar;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Kd=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),oE(Km,ti),s}finally{Te=e,Tf=!1}}return null}var _o=[],Eo=0,td=null,nd=0,hn=[],fn=0,ji=null,kr=1,Nr="";function yi(t,e){_o[Eo++]=nd,_o[Eo++]=td,td=t,nd=e}function LE(t,e,n){hn[fn++]=kr,hn[fn++]=Nr,hn[fn++]=ji,ji=t;var r=kr;t=Nr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var i=32-On(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kr=1<<32-On(e)+s|n<<s|r,Nr=i+t}else kr=1<<i|n<<s|r,Nr=t}function rg(t){t.return!==null&&(yi(t,1),LE(t,1,0))}function sg(t){for(;t===td;)td=_o[--Eo],_o[Eo]=null,nd=_o[--Eo],_o[Eo]=null;for(;t===ji;)ji=hn[--fn],hn[fn]=null,Nr=hn[--fn],hn[fn]=null,kr=hn[--fn],hn[fn]=null}var rn=null,tn=null,Le=!1,kn=null;function VE(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,tn=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:kr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,tn=null,!0):!1;default:return!1}}function Ap(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bp(t){if(Le){var e=tn;if(e){var n=e;if(!v0(t,e)){if(Ap(t))throw Error(W(418));e=Ps(n.nextSibling);var r=rn;e&&v0(t,e)?VE(r,n):(t.flags=t.flags&-4097|2,Le=!1,rn=t)}}else{if(Ap(t))throw Error(W(418));t.flags=t.flags&-4097|2,Le=!1,rn=t}}}function w0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function tu(t){if(t!==rn)return!1;if(!Le)return w0(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tp(t.type,t.memoizedProps)),e&&(e=tn)){if(Ap(t))throw jE(),Error(W(418));for(;e;)VE(t,e),e=Ps(e.nextSibling)}if(w0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=rn?Ps(t.stateNode.nextSibling):null;return!0}function jE(){for(var t=tn;t;)t=Ps(t.nextSibling)}function Go(){tn=rn=null,Le=!1}function ig(t){kn===null?kn=[t]:kn.push(t)}var cR=Qr.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _0(t){var e=t._init;return e(t._payload)}function FE(t){function e(E,_){if(t){var x=E.deletions;x===null?(E.deletions=[_],E.flags|=16):x.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Os(E,_),E.index=0,E.sibling=null,E}function i(E,_,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<_?(E.flags|=2,_):x):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,x,k){return _===null||_.tag!==6?(_=Pf(x,E.mode,k),_.return=E,_):(_=s(_,x),_.return=E,_)}function l(E,_,x,k){var O=x.type;return O===po?d(E,_,x.props.children,k,x.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hs&&_0(O)===_.type)?(k=s(_,x.props),k.ref=Ga(E,_,x),k.return=E,k):(k=Pu(x.type,x.key,x.props,null,E.mode,k),k.ref=Ga(E,_,x),k.return=E,k)}function u(E,_,x,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=kf(x,E.mode,k),_.return=E,_):(_=s(_,x.children||[]),_.return=E,_)}function d(E,_,x,k,O){return _===null||_.tag!==7?(_=Di(x,E.mode,k,O),_.return=E,_):(_=s(_,x),_.return=E,_)}function h(E,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Pf(""+_,E.mode,x),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:return x=Pu(_.type,_.key,_.props,null,E.mode,x),x.ref=Ga(E,null,_),x.return=E,x;case fo:return _=kf(_,E.mode,x),_.return=E,_;case hs:var k=_._init;return h(E,k(_._payload),x)}if(Za(_)||za(_))return _=Di(_,E.mode,x,null),_.return=E,_;nu(E,_)}return null}function p(E,_,x,k){var O=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(E,_,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wc:return x.key===O?l(E,_,x,k):null;case fo:return x.key===O?u(E,_,x,k):null;case hs:return O=x._init,p(E,_,O(x._payload),k)}if(Za(x)||za(x))return O!==null?null:d(E,_,x,k,null);nu(E,x)}return null}function m(E,_,x,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(x)||null,a(_,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Wc:return E=E.get(k.key===null?x:k.key)||null,l(_,E,k,O);case fo:return E=E.get(k.key===null?x:k.key)||null,u(_,E,k,O);case hs:var M=k._init;return m(E,_,x,M(k._payload),O)}if(Za(k)||za(k))return E=E.get(x)||null,d(_,E,k,O,null);nu(_,k)}return null}function T(E,_,x,k){for(var O=null,M=null,C=_,S=_=0,R=null;C!==null&&S<x.length;S++){C.index>S?(R=C,C=null):R=C.sibling;var P=p(E,C,x[S],k);if(P===null){C===null&&(C=R);break}t&&C&&P.alternate===null&&e(E,C),_=i(P,_,S),M===null?O=P:M.sibling=P,M=P,C=R}if(S===x.length)return n(E,C),Le&&yi(E,S),O;if(C===null){for(;S<x.length;S++)C=h(E,x[S],k),C!==null&&(_=i(C,_,S),M===null?O=C:M.sibling=C,M=C);return Le&&yi(E,S),O}for(C=r(E,C);S<x.length;S++)R=m(C,E,S,x[S],k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),_=i(R,_,S),M===null?O=R:M.sibling=R,M=R);return t&&C.forEach(function(N){return e(E,N)}),Le&&yi(E,S),O}function v(E,_,x,k){var O=za(x);if(typeof O!="function")throw Error(W(150));if(x=O.call(x),x==null)throw Error(W(151));for(var M=O=null,C=_,S=_=0,R=null,P=x.next();C!==null&&!P.done;S++,P=x.next()){C.index>S?(R=C,C=null):R=C.sibling;var N=p(E,C,P.value,k);if(N===null){C===null&&(C=R);break}t&&C&&N.alternate===null&&e(E,C),_=i(N,_,S),M===null?O=N:M.sibling=N,M=N,C=R}if(P.done)return n(E,C),Le&&yi(E,S),O;if(C===null){for(;!P.done;S++,P=x.next())P=h(E,P.value,k),P!==null&&(_=i(P,_,S),M===null?O=P:M.sibling=P,M=P);return Le&&yi(E,S),O}for(C=r(E,C);!P.done;S++,P=x.next())P=m(C,E,S,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),_=i(P,_,S),M===null?O=P:M.sibling=P,M=P);return t&&C.forEach(function(D){return e(E,D)}),Le&&yi(E,S),O}function w(E,_,x,k){if(typeof x=="object"&&x!==null&&x.type===po&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wc:e:{for(var O=x.key,M=_;M!==null;){if(M.key===O){if(O=x.type,O===po){if(M.tag===7){n(E,M.sibling),_=s(M,x.props.children),_.return=E,E=_;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hs&&_0(O)===M.type){n(E,M.sibling),_=s(M,x.props),_.ref=Ga(E,M,x),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}x.type===po?(_=Di(x.props.children,E.mode,k,x.key),_.return=E,E=_):(k=Pu(x.type,x.key,x.props,null,E.mode,k),k.ref=Ga(E,_,x),k.return=E,E=k)}return o(E);case fo:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(E,_.sibling),_=s(_,x.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=kf(x,E.mode,k),_.return=E,E=_}return o(E);case hs:return M=x._init,w(E,_,M(x._payload),k)}if(Za(x))return T(E,_,x,k);if(za(x))return v(E,_,x,k);nu(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,x),_.return=E,E=_):(n(E,_),_=Pf(x,E.mode,k),_.return=E,E=_),o(E)):n(E,_)}return w}var Ko=FE(!0),UE=FE(!1),rd=ei(null),sd=null,xo=null,og=null;function ag(){og=xo=sd=null}function lg(t){var e=rd.current;Oe(rd),t._currentValue=e}function Rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){sd=t,og=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(og!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(sd===null)throw Error(W(308));xo=t,sd.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var xi=null;function cg(t){xi===null?xi=[t]:xi.push(t)}function $E(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,cg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fs=!1;function ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,cg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qm(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var s=t.updateQueue;fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(p=e,m=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){h=T.call(m,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,p=typeof T=="function"?T.call(m,h,p):T,p==null)break e;h=Ue({},h,p);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=h}}function x0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var uc={},ir=ei(uc),Ml=ei(uc),Ll=ei(uc);function Ti(t){if(t===uc)throw Error(W(174));return t}function dg(t,e){switch(Re(Ll,e),Re(Ml,t),Re(ir,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cp(e,t)}Oe(ir),Re(ir,e)}function Qo(){Oe(ir),Oe(Ml),Oe(Ll)}function BE(t){Ti(Ll.current);var e=Ti(ir.current),n=cp(e,t.type);e!==n&&(Re(Ml,t),Re(ir,n))}function hg(t){Ml.current===t&&(Oe(ir),Oe(Ml))}var je=ei(0);function od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sf=[];function fg(){for(var t=0;t<Sf.length;t++)Sf[t]._workInProgressVersionPrimary=null;Sf.length=0}var Iu=Qr.ReactCurrentDispatcher,If=Qr.ReactCurrentBatchConfig,Fi=0,Fe=null,rt=null,ht=null,ad=!1,fl=!1,Vl=0,uR=0;function Et(){throw Error(W(321))}function pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function mg(t,e,n,r,s,i){if(Fi=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?pR:mR,t=n(r,s),fl){i=0;do{if(fl=!1,Vl=0,25<=i)throw Error(W(301));i+=1,ht=rt=null,e.updateQueue=null,Iu.current=gR,t=n(r,s)}while(fl)}if(Iu.current=ld,e=rt!==null&&rt.next!==null,Fi=0,ht=rt=Fe=null,ad=!1,e)throw Error(W(300));return t}function gg(){var t=Vl!==0;return Vl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Fe.memoizedState=ht=t:ht=ht.next=t,ht}function wn(){if(rt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ht===null?Fe.memoizedState:ht.next;if(e!==null)ht=e,rt=t;else{if(t===null)throw Error(W(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ht===null?Fe.memoizedState=ht=t:ht=ht.next=t}return ht}function jl(t,e){return typeof e=="function"?e(t):e}function Cf(t){var e=wn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Fi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,Ui|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Vn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,Ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Af(t){var e=wn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function HE(){}function WE(t,e){var n=Fe,r=wn(),s=e(),i=!Vn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,yg(KE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Fl(9,GE.bind(null,n,r,s,e),void 0,null),ft===null)throw Error(W(349));Fi&30||qE(n,e,s)}return s}function qE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&YE(t)}function KE(t,e,n){return n(function(){QE(e)&&YE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function YE(t){var e=Ur(t,1);e!==null&&Mn(e,t,1,-1)}function T0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=fR.bind(null,Fe,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XE(){return wn().memoizedState}function Cu(t,e,n,r){var s=Xn();Fe.flags|=t,s.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function Qd(t,e,n,r){var s=wn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&pg(r,o.deps)){s.memoizedState=Fl(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Fl(1|e,n,i,r)}function S0(t,e){return Cu(8390656,8,t,e)}function yg(t,e){return Qd(2048,8,t,e)}function JE(t,e){return Qd(4,2,t,e)}function ZE(t,e){return Qd(4,4,t,e)}function ex(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tx(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4,4,ex.bind(null,e,t),n)}function vg(){}function nx(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rx(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sx(t,e,n){return Fi&21?(Vn(n,e)||(n=cE(),Fe.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function dR(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=If.transition;If.transition={};try{t(!1),e()}finally{Te=n,If.transition=r}}function ix(){return wn().memoizedState}function hR(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ox(t))ax(e,n);else if(n=$E(t,e,n,r),n!==null){var s=Ot();Mn(n,t,r,s),lx(n,e,r)}}function fR(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ox(t))ax(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vn(a,o)){var l=e.interleaved;l===null?(s.next=s,cg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$E(t,e,s,r),n!==null&&(s=Ot(),Mn(n,t,r,s),lx(n,e,r))}}function ox(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function ax(t,e){fl=ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qm(t,n)}}var ld={readContext:vn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},pR={readContext:vn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:S0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,ex.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hR.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:T0,useDebugValue:vg,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=T0(!1),e=t[0];return t=dR.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=Xn();if(Le){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),ft===null)throw Error(W(349));Fi&30||qE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,S0(KE.bind(null,r,i,t),[t]),r.flags|=2048,Fl(9,GE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ft.identifierPrefix;if(Le){var n=Nr,r=kr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mR={readContext:vn,useCallback:nx,useContext:vn,useEffect:yg,useImperativeHandle:tx,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:rx,useReducer:Cf,useRef:XE,useState:function(){return Cf(jl)},useDebugValue:vg,useDeferredValue:function(t){var e=wn();return sx(e,rt.memoizedState,t)},useTransition:function(){var t=Cf(jl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:WE,useId:ix,unstable_isNewReconciler:!1},gR={readContext:vn,useCallback:nx,useContext:vn,useEffect:yg,useImperativeHandle:tx,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:rx,useReducer:Af,useRef:XE,useState:function(){return Af(jl)},useDebugValue:vg,useDeferredValue:function(t){var e=wn();return rt===null?e.memoizedState=t:sx(e,rt.memoizedState,t)},useTransition:function(){var t=Af(jl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:WE,useId:ix,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yd={isMounted:function(t){return(t=t._reactInternals)?Yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=Mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Mn(e,t,s,r),Su(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=Mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Mn(e,t,s,r),Su(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Ds(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ks(t,s,r),e!==null&&(Mn(e,t,r,n),Su(e,t,r))}};function I0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(s,i):!0}function cx(t,e,n){var r=!1,s=Us,i=e.contextType;return typeof i=="object"&&i!==null?i=vn(i):(s=qt(e)?Vi:bt.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):Us),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function C0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yd.enqueueReplaceState(e,e.state,null)}function kp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ug(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vn(i):(i=qt(e)?Vi:bt.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yd.enqueueReplaceState(s,s.state,null),id(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=HA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yR=typeof WeakMap=="function"?WeakMap:Map;function ux(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,zp=r),Np(t,e)},n}function dx(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function A0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kR.bind(null,t,e,n),e.then(t,t))}function b0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var vR=Qr.ReactCurrentOwner,Ht=!1;function Nt(t,e,n,r){e.child=t===null?UE(e,null,n,r):Ko(e,t.child,n,r)}function P0(t,e,n,r,s){n=n.render;var i=e.ref;return Ro(e,s),r=mg(t,e,n,r,i,s),n=gg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(Le&&n&&rg(e),e.flags|=1,Nt(t,e,r,s),e.child)}function k0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hx(t,e,i,r,s)):(t=Pu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&t.ref===e.ref)return $r(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function hx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(kl(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,$r(t,e,s)}return Dp(t,e,n,r,s)}function fx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(So,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(So,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(So,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Re(So,Zt),Zt|=r;return Nt(t,e,s,n),e.child}function px(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dp(t,e,n,r,s){var i=qt(n)?Vi:bt.current;return i=qo(e,i),Ro(e,s),n=mg(t,e,n,r,i,s),r=gg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(Le&&r&&rg(e),e.flags|=1,Nt(t,e,n,s),e.child)}function N0(t,e,n,r,s){if(qt(n)){var i=!0;ed(e)}else i=!1;if(Ro(e,s),e.stateNode===null)Au(t,e),cx(e,n,r),kp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vn(u):(u=qt(n)?Vi:bt.current,u=qo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&C0(e,o,r,u),fs=!1;var p=e.memoizedState;o.state=p,id(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Wt.current||fs?(typeof d=="function"&&(Pp(e,n,d,r),l=e.memoizedState),(a=fs||I0(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vn(l):(l=qt(n)?Vi:bt.current,l=qo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&C0(e,o,r,l),fs=!1,p=e.memoizedState,o.state=p,id(e,r,o,s);var T=e.memoizedState;a!==h||p!==T||Wt.current||fs?(typeof m=="function"&&(Pp(e,n,m,r),T=e.memoizedState),(u=fs||I0(e,n,u,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,i,s)}function Op(t,e,n,r,s,i){px(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&y0(e,n,!1),$r(t,e,i);r=e.stateNode,vR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&y0(e,n,!0),e.child}function mx(t){var e=t.stateNode;e.pendingContext?g0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g0(t,e.context,!1),dg(t,e.containerInfo)}function D0(t,e,n,r,s){return Go(),ig(s),e.flags|=256,Nt(t,e,n,r),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function gx(t,e,n){var r=e.pendingProps,s=je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(je,s&1),t===null)return bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zd(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lp(n),e.memoizedState=Mp,t):wg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Mp,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wg(t,e){return e=Zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&ig(r),Ko(e,t.child,null,n),t=wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bf(Error(W(422))),ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zd({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Lp(o),e.memoizedState=Mp,i);if(!(e.mode&1))return ru(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=bf(i,r,void 0),ru(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),Mn(r,t,s,-1))}return Ig(),r=bf(Error(W(421))),ru(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tn=Ps(s.nextSibling),rn=e,Le=!0,kn=null,t!==null&&(hn[fn++]=kr,hn[fn++]=Nr,hn[fn++]=ji,kr=t.id,Nr=t.overflow,ji=e),e=wg(e,r.children),e.flags|=4096,e)}function O0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rp(t.return,e,n)}function Rf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,n,e);else if(t.tag===19)O0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&od(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&od(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rf(e,!0,n,null,i);break;case"together":Rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _R(t,e,n){switch(e.tag){case 3:mx(e),Go();break;case 5:BE(e);break;case 1:qt(e.type)&&ed(e);break;case 4:dg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(rd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?gx(t,e,n):(Re(je,je.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Re(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,fx(t,e,n)}return $r(t,e,n)}var vx,Vp,wx,_x;vx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};wx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ti(ir.current);var i=null;switch(n){case"input":s=ip(t,s),r=ip(t,r),i=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":s=lp(t,s),r=lp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}up(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_x=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ER(t,e,n){var r=e.pendingProps;switch(sg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return qt(e.type)&&Zu(),xt(e),null;case 3:return r=e.stateNode,Qo(),Oe(Wt),Oe(bt),fg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Wp(kn),kn=null))),Vp(t,e),xt(e),null;case 5:hg(e);var s=Ti(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)wx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return xt(e),null}if(t=Ti(ir.current),tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<tl.length;s++)Ne(tl[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Bv(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":Wv(r,i),Ne("invalid",r)}up(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",""+a]):Sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":qc(r),Hv(r,i,!0);break;case"textarea":qc(r),qv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ju)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[Ol]=r,vx(t,e,!1,!1),e.stateNode=t;e:{switch(o=dp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<tl.length;s++)Ne(tl[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":Bv(t,r),s=ip(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Wv(t,r),s=lp(t,r),Ne("invalid",t);break;default:s=r}up(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?X1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",t):l!=null&&Bm(t,i,l,o))}switch(n){case"input":qc(t),Hv(t,r,!1);break;case"textarea":qc(t),qv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Io(t,!!r.multiple,i,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)_x(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ti(Ll.current),Ti(ir.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return xt(e),null;case 13:if(Oe(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&tn!==null&&e.mode&1&&!(e.flags&128))jE(),Go(),e.flags|=98560,i=!1;else if(i=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[nr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else kn!==null&&(Wp(kn),kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?it===0&&(it=3):Ig())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Qo(),Vp(t,e),t===null&&Nl(e.stateNode.containerInfo),xt(e),null;case 10:return lg(e.type._context),xt(e),null;case 17:return qt(e.type)&&Zu(),xt(e),null;case 19:if(Oe(je),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ka(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=od(t),o!==null){for(e.flags|=128,Ka(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(je,je.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Xo&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return xt(e),null}else 2*Ge()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=je.current,Re(je,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Sg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function xR(t,e){switch(sg(e),e.tag){case 1:return qt(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Oe(Wt),Oe(bt),fg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hg(e),null;case 13:if(Oe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(je),null;case 4:return Qo(),null;case 10:return lg(e.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var su=!1,Ct=!1,TR=typeof WeakSet=="function"?WeakSet:Set,J=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function jp(t,e,n){try{n()}catch(r){He(t,e,r)}}var M0=!1;function SR(t,e){if(Ep=Qu,t=IE(),ng(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},Qu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,w=T.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Cn(e.type,v),w);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return T=M0,M0=!1,T}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jp(e,n,i)}s=s.next}while(s!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ex(t){var e=t.alternate;e!==null&&(t.alternate=null,Ex(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[Ol],delete e[Ip],delete e[oR],delete e[aR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xx(t){return t.tag===5||t.tag===3||t.tag===4}function L0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}var pt=null,Pn=!1;function as(t,e,n){for(n=n.child;n!==null;)Tx(t,e,n),n=n.sibling}function Tx(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Bd,n)}catch{}switch(n.tag){case 5:Ct||To(n,e);case 6:var r=pt,s=Pn;pt=null,as(t,e,n),pt=r,Pn=s,pt!==null&&(Pn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Pn?(t=pt,n=n.stateNode,t.nodeType===8?xf(t.parentNode,n):t.nodeType===1&&xf(t,n),Rl(t)):xf(pt,n.stateNode));break;case 4:r=pt,s=Pn,pt=n.stateNode.containerInfo,Pn=!0,as(t,e,n),pt=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jp(n,e,o),s=s.next}while(s!==r)}as(t,e,n);break;case 1:if(!Ct&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,as(t,e,n),Ct=r):as(t,e,n);break;default:as(t,e,n)}}function V0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TR),e.forEach(function(r){var s=DR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Pn=!1;break e;case 3:pt=a.stateNode.containerInfo,Pn=!0;break e;case 4:pt=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(pt===null)throw Error(W(160));Tx(i,o,s),pt=null,Pn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){He(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sx(e,t),e=e.sibling}function Sx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Yn(t),r&4){try{pl(3,t,t.return),Xd(3,t)}catch(v){He(t,t.return,v)}try{pl(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:Sn(e,t),Yn(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Sn(e,t),Yn(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(v){He(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&q1(s,i),dp(a,o);var u=dp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?X1(s,h):d==="dangerouslySetInnerHTML"?Q1(s,h):d==="children"?Il(s,h):Bm(s,d,h,u)}switch(a){case"input":op(s,i);break;case"textarea":G1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Io(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Io(s,!!i.multiple,i.defaultValue,!0):Io(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(v){He(t,t.return,v)}}break;case 6:if(Sn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){He(t,t.return,v)}}break;case 3:if(Sn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:Sn(e,t),Yn(t);break;case 13:Sn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xg=Ge())),r&4&&V0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,Sn(e,t),Ct=u):Sn(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:pl(4,p,p.return);break;case 1:To(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){F0(h);continue}}m!==null?(m.return=p,J=m):F0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y1("display",o))}catch(v){He(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){He(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),Yn(t),r&4&&V0(t);break;case 21:break;default:Sn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xx(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var i=L0(t);$p(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L0(t);Up(t,a,o);break;default:throw Error(W(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IR(t,e,n){J=t,Ix(t)}function Ix(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||su;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=su;var u=Ct;if(su=o,(Ct=l)&&!u)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?U0(s):l!==null?(l.return=o,J=l):U0(s);for(;i!==null;)J=i,Ix(i),i=i.sibling;J=s,su=a,Ct=u}j0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):j0(t)}}function j0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&x0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ct||e.flags&512&&Fp(e)}catch(p){He(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function F0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function U0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){He(e,s,l)}}var i=e.return;try{Fp(e)}catch(l){He(e,i,l)}break;case 5:var o=e.return;try{Fp(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var CR=Math.ceil,cd=Qr.ReactCurrentDispatcher,_g=Qr.ReactCurrentOwner,gn=Qr.ReactCurrentBatchConfig,we=0,ft=null,Ye=null,yt=0,Zt=0,So=ei(0),it=0,Ul=null,Ui=0,Jd=0,Eg=0,ml=null,$t=null,xg=0,Xo=1/0,Cr=null,ud=!1,zp=null,Ns=null,iu=!1,Ss=null,dd=0,gl=0,Bp=null,bu=-1,Ru=0;function Ot(){return we&6?Ge():bu!==-1?bu:bu=Ge()}function Ds(t){return t.mode&1?we&2&&yt!==0?yt&-yt:cR.transition!==null?(Ru===0&&(Ru=cE()),Ru):(t=Te,t!==0||(t=window.event,t=t===void 0?16:gE(t.type)),t):1}function Mn(t,e,n,r){if(50<gl)throw gl=0,Bp=null,Error(W(185));ac(t,n,r),(!(we&2)||t!==ft)&&(t===ft&&(!(we&2)&&(Jd|=n),it===4&&ms(t,yt)),Gt(t,r),n===1&&we===0&&!(e.mode&1)&&(Xo=Ge()+500,Kd&&ti()))}function Gt(t,e){var n=t.callbackNode;cb(t,e);var r=Ku(t,t===ft?yt:0);if(r===0)n!==null&&Qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qv(n),e===1)t.tag===0?lR($0.bind(null,t)):ME($0.bind(null,t)),sR(function(){!(we&6)&&ti()}),n=null;else{switch(uE(r)){case 1:n=Km;break;case 4:n=aE;break;case 16:n=Gu;break;case 536870912:n=lE;break;default:n=Gu}n=Dx(n,Cx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cx(t,e){if(bu=-1,Ru=0,we&6)throw Error(W(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Ku(t,t===ft?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var s=we;we|=2;var i=bx();(ft!==t||yt!==e)&&(Cr=null,Xo=Ge()+500,Ni(t,e));do try{RR();break}catch(a){Ax(t,a)}while(!0);ag(),cd.current=i,we=s,Ye!==null?e=0:(ft=null,yt=0,e=it)}if(e!==0){if(e===2&&(s=gp(t),s!==0&&(r=s,e=Hp(t,s))),e===1)throw n=Ul,Ni(t,0),ms(t,r),Gt(t,Ge()),n;if(e===6)ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!AR(s)&&(e=hd(t,r),e===2&&(i=gp(t),i!==0&&(r=i,e=Hp(t,i))),e===1))throw n=Ul,Ni(t,0),ms(t,r),Gt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:vi(t,$t,Cr);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=xg+500-Ge(),10<e)){if(Ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sp(vi.bind(null,t,$t,Cr),e);break}vi(t,$t,Cr);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-On(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CR(r/1960))-r,10<r){t.timeoutHandle=Sp(vi.bind(null,t,$t,Cr),r);break}vi(t,$t,Cr);break;case 5:vi(t,$t,Cr);break;default:throw Error(W(329))}}}return Gt(t,Ge()),t.callbackNode===n?Cx.bind(null,t):null}function Hp(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(Ni(t,e).flags|=256),t=hd(t,e),t!==2&&(e=$t,$t=n,e!==null&&Wp(e)),t}function Wp(t){$t===null?$t=t:$t.push.apply($t,t)}function AR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~Eg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function $0(t){if(we&6)throw Error(W(327));Po();var e=Ku(t,0);if(!(e&1))return Gt(t,Ge()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var r=gp(t);r!==0&&(e=r,n=Hp(t,r))}if(n===1)throw n=Ul,Ni(t,0),ms(t,e),Gt(t,Ge()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,$t,Cr),Gt(t,Ge()),null}function Tg(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Xo=Ge()+500,Kd&&ti())}}function $i(t){Ss!==null&&Ss.tag===0&&!(we&6)&&Po();var e=we;we|=1;var n=gn.transition,r=Te;try{if(gn.transition=null,Te=1,t)return t()}finally{Te=r,gn.transition=n,we=e,!(we&6)&&ti()}}function Sg(){Zt=So.current,Oe(So)}function Ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(sg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Qo(),Oe(Wt),Oe(bt),fg();break;case 5:hg(r);break;case 4:Qo();break;case 13:Oe(je);break;case 19:Oe(je);break;case 10:lg(r.type._context);break;case 22:case 23:Sg()}n=n.return}if(ft=t,Ye=t=Os(t.current,null),yt=Zt=e,it=0,Ul=null,Eg=Jd=Ui=0,$t=ml=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xi=null}return t}function Ax(t,e){do{var n=Ye;try{if(ag(),Iu.current=ld,ad){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ad=!1}if(Fi=0,ht=rt=Fe=null,fl=!1,Vl=0,_g.current=null,n===null||n.return===null){it=1,Ul=e,Ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=b0(o);if(m!==null){m.flags&=-257,R0(m,o,a,i,e),m.mode&1&&A0(i,u,e),e=m,l=u;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){A0(i,u,e),Ig();break e}l=Error(W(426))}}else if(Le&&a.mode&1){var w=b0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),R0(w,o,a,i,e),ig(Yo(l,a));break e}}i=l=Yo(l,a),it!==4&&(it=2),ml===null?ml=[i]:ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=ux(i,l,e);E0(i,E);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ns===null||!Ns.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=dx(i,a,e);E0(i,k);break e}}i=i.return}while(i!==null)}Px(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function bx(){var t=cd.current;return cd.current=ld,t===null?ld:t}function Ig(){(it===0||it===3||it===2)&&(it=4),ft===null||!(Ui&268435455)&&!(Jd&268435455)||ms(ft,yt)}function hd(t,e){var n=we;we|=2;var r=bx();(ft!==t||yt!==e)&&(Cr=null,Ni(t,e));do try{bR();break}catch(s){Ax(t,s)}while(!0);if(ag(),we=n,cd.current=r,Ye!==null)throw Error(W(261));return ft=null,yt=0,it}function bR(){for(;Ye!==null;)Rx(Ye)}function RR(){for(;Ye!==null&&!eb();)Rx(Ye)}function Rx(t){var e=Nx(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?Px(t):Ye=e,_g.current=null}function Px(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Ye=null;return}}else if(n=ER(n,e,Zt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);it===0&&(it=5)}function vi(t,e,n){var r=Te,s=gn.transition;try{gn.transition=null,Te=1,PR(t,e,n,r)}finally{gn.transition=s,Te=r}return null}function PR(t,e,n,r){do Po();while(Ss!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ub(t,i),t===ft&&(Ye=ft=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,Dx(Gu,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=Te;Te=1;var a=we;we|=4,_g.current=null,SR(t,n),Sx(n,t),Yb(xp),Qu=!!Ep,xp=Ep=null,t.current=n,IR(n),tb(),we=a,Te=o,gn.transition=i}else t.current=n;if(iu&&(iu=!1,Ss=t,dd=s),i=t.pendingLanes,i===0&&(Ns=null),sb(n.stateNode),Gt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ud)throw ud=!1,t=zp,zp=null,t;return dd&1&&t.tag!==0&&Po(),i=t.pendingLanes,i&1?t===Bp?gl++:(gl=0,Bp=t):gl=0,ti(),null}function Po(){if(Ss!==null){var t=uE(dd),e=gn.transition,n=Te;try{if(gn.transition=null,Te=16>t?16:t,Ss===null)var r=!1;else{if(t=Ss,Ss=null,dd=0,we&6)throw Error(W(331));var s=we;for(we|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:pl(8,d,i)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,m=d.return;if(Ex(d),d===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,J=E;break e}J=i.return}}var _=t.current;for(J=_;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=_;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(O){He(a,a.return,O)}if(a===o){J=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break e}J=a.return}}if(we=s,ti(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Bd,t)}catch{}r=!0}return r}finally{Te=n,gn.transition=e}}return!1}function z0(t,e,n){e=Yo(n,e),e=ux(t,e,1),t=ks(t,e,1),e=Ot(),t!==null&&(ac(t,1,e),Gt(t,e))}function He(t,e,n){if(t.tag===3)z0(t,t,n);else for(;e!==null;){if(e.tag===3){z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=Yo(n,t),t=dx(e,t,1),e=ks(e,t,1),t=Ot(),e!==null&&(ac(e,1,t),Gt(e,t));break}}e=e.return}}function kR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>Ge()-xg?Ni(t,0):Eg|=n),Gt(t,e)}function kx(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=Ot();t=Ur(t,e),t!==null&&(ac(t,e,n),Gt(t,n))}function NR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kx(t,n)}function DR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),kx(t,n)}var Nx;Nx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,_R(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Le&&e.flags&1048576&&LE(e,nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var s=qo(e,bt.current);Ro(e,n),s=mg(null,e,r,t,s,n);var i=gg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,ed(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ug(e),s.updater=Yd,e.stateNode=s,s._reactInternals=e,kp(e,r,t,n),e=Op(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&rg(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=MR(r),t=Cn(r,t),s){case 0:e=Dp(null,e,r,t,n);break e;case 1:e=N0(null,e,r,t,n);break e;case 11:e=P0(null,e,r,t,n);break e;case 14:e=k0(null,e,r,Cn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),Dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),N0(t,e,r,s,n);case 3:e:{if(mx(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zE(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(W(423)),e),e=D0(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(W(424)),e),e=D0(t,e,r,n,s);break e}else for(tn=Ps(e.stateNode.containerInfo.firstChild),rn=e,Le=!0,kn=null,n=UE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===s){e=$r(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return BE(e),t===null&&bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Tp(r,s)?o=null:i!==null&&Tp(r,i)&&(e.flags|=32),px(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&bp(e),null;case 13:return gx(t,e,n);case 4:return dg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),P0(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Re(rd,r._currentValue),r._currentValue=o,i!==null)if(Vn(i.value,o)){if(i.children===s.children&&!Wt.current){e=$r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Rp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ro(e,n),s=vn(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=Cn(r,e.pendingProps),s=Cn(r.type,s),k0(t,e,r,s,n);case 15:return hx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),Au(t,e),e.tag=1,qt(r)?(t=!0,ed(e)):t=!1,Ro(e,n),cx(e,r,s),kp(e,r,s,n),Op(null,e,r,!0,t,n);case 19:return yx(t,e,n);case 22:return fx(t,e,n)}throw Error(W(156,e.tag))};function Dx(t,e){return oE(t,e)}function OR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new OR(t,e,n,r)}function Cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MR(t){if(typeof t=="function")return Cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wm)return 11;if(t===qm)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Di(n.children,s,i,e);case Hm:o=8,s|=8;break;case tp:return t=mn(12,n,e,s|2),t.elementType=tp,t.lanes=i,t;case np:return t=mn(13,n,e,s),t.elementType=np,t.lanes=i,t;case rp:return t=mn(19,n,e,s),t.elementType=rp,t.lanes=i,t;case B1:return Zd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $1:o=10;break e;case z1:o=9;break e;case Wm:o=11;break e;case qm:o=14;break e;case hs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=B1,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ag(t,e,n,r,s,i,o,a,l){return t=new LR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ug(i),t}function VR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ox(t){if(!t)return Us;t=t._reactInternals;e:{if(Yi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(qt(n))return OE(t,n,e)}return e}function Mx(t,e,n,r,s,i,o,a,l){return t=Ag(n,r,!0,t,s,i,o,a,l),t.context=Ox(null),n=t.current,r=Ot(),s=Ds(n),i=Mr(r,s),i.callback=e??null,ks(n,i,s),t.current.lanes=s,ac(t,s,r),Gt(t,r),t}function eh(t,e,n,r){var s=e.current,i=Ot(),o=Ds(s);return n=Ox(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(s,e,o),t!==null&&(Mn(t,s,o,i),Su(t,s,o)),o}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bg(t,e){B0(t,e),(t=t.alternate)&&B0(t,e)}function jR(){return null}var Lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rg(t){this._internalRoot=t}th.prototype.render=Rg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));eh(t,e,null,null)};th.prototype.unmount=Rg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){eh(null,t,null,null)}),e[Fr]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=fE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&mE(t)}};function Pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H0(){}function FR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fd(o);i.call(u)}}var o=Mx(e,r,t,0,null,!1,!1,"",H0);return t._reactRootContainer=o,t[Fr]=o.current,Nl(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=fd(l);a.call(u)}}var l=Ag(t,0,!1,null,null,!1,!1,"",H0);return t._reactRootContainer=l,t[Fr]=l.current,Nl(t.nodeType===8?t.parentNode:t),$i(function(){eh(e,l,n,r)}),l}function rh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fd(o);a.call(l)}}eh(e,o,t,s)}else o=FR(n,e,t,s,r);return fd(o)}dE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(Qm(e,n|1),Gt(e,Ge()),!(we&6)&&(Xo=Ge()+500,ti()))}break;case 13:$i(function(){var r=Ur(t,1);if(r!==null){var s=Ot();Mn(r,t,1,s)}}),bg(t,1)}};Ym=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Ot();Mn(e,t,134217728,n)}bg(t,134217728)}};hE=function(t){if(t.tag===13){var e=Ds(t),n=Ur(t,e);if(n!==null){var r=Ot();Mn(n,t,e,r)}bg(t,e)}};fE=function(){return Te};pE=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};fp=function(t,e,n){switch(e){case"input":if(op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gd(r);if(!s)throw Error(W(90));W1(r),op(r,s)}}}break;case"textarea":G1(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};eE=Tg;tE=$i;var UR={usingClientEntryPoint:!1,Events:[cc,vo,Gd,J1,Z1,Tg]},Qa={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$R={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sE(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||jR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Bd=ou.inject($R),sr=ou}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(e))throw Error(W(200));return VR(t,e,null,n)};an.createRoot=function(t,e){if(!Pg(t))throw Error(W(299));var n=!1,r="",s=Lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ag(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,Nl(t.nodeType===8?t.parentNode:t),new Rg(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=sE(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return $i(t)};an.hydrate=function(t,e,n){if(!nh(e))throw Error(W(200));return rh(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!Pg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Lx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mx(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,Nl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new th(e)};an.render=function(t,e,n){if(!nh(e))throw Error(W(200));return rh(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!nh(t))throw Error(W(40));return t._reactRootContainer?($i(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};an.unstable_batchedUpdates=Tg;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return rh(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function Vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vx)}catch(t){console.error(t)}}Vx(),V1.exports=an;var dc=V1.exports;const jx=S1(dc);var Fx,W0=dc;Fx=W0.createRoot,W0.hydrateRoot;const zR=1,BR=1e6;let Nf=0;function HR(){return Nf=(Nf+1)%Number.MAX_SAFE_INTEGER,Nf.toString()}const Df=new Map,q0=t=>{if(Df.has(t))return;const e=setTimeout(()=>{Df.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},BR);Df.set(t,e)},WR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?q0(n):t.toasts.forEach(r=>{q0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ku=[];let Nu={toasts:[]};function yl(t){Nu=WR(Nu,t),ku.forEach(e=>{e(Nu)})}function qR({...t}){const e=HR(),n=s=>yl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function GR(){const[t,e]=I.useState(Nu);return I.useEffect(()=>(ku.push(e),()=>{const n=ku.indexOf(e);n>-1&&ku.splice(n,1)}),[t]),{...t,toast:qR,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ux(...t){return e=>{let n=!1;const r=t.map(s=>{const i=G0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():G0(t[s],null)}}}}function jn(...t){return I.useCallback(Ux(...t),t)}function sh(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:p,children:m,...T}=h,v=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,w=I.useMemo(()=>T,Object.values(T));return g.jsx(v.Provider,{value:w,children:m})};u.displayName=i+"Provider";function d(h,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,T=I.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,KR(s,...e)]}function KR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qp(t){const e=QR(t),n=I.forwardRef((r,s)=>{const{children:i,...o}=r,a=I.Children.toArray(i),l=a.find(XR);if(l){const u=l.props.children,d=a.map(h=>h===l?I.Children.count(u)>1?I.Children.only(null):I.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:s,children:I.isValidElement(u)?I.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function QR(t){const e=I.forwardRef((n,r)=>{const{children:s,...i}=n;if(I.isValidElement(s)){const o=ZR(s),a=JR(i,s.props);return s.type!==I.Fragment&&(a.ref=r?Ux(r,o):o),I.cloneElement(s,a)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $x=Symbol("radix.slottable");function YR(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$x,e}function XR(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$x}function JR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ZR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eP(t){const e=t+"CollectionProvider",[n,r]=sh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:E}=v,_=G.useRef(null),x=G.useRef(new Map).current;return g.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=qp(a),u=G.forwardRef((v,w)=>{const{scope:E,children:_}=v,x=i(a,E),k=jn(w,x.collectionRef);return g.jsx(l,{ref:k,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=qp(d),m=G.forwardRef((v,w)=>{const{scope:E,children:_,...x}=v,k=G.useRef(null),O=jn(w,k),M=i(d,E);return G.useEffect(()=>(M.itemMap.set(k,{ref:k,...x}),()=>void M.itemMap.delete(k))),g.jsx(p,{[h]:"",ref:O,children:_})});m.displayName=d;function T(v){const w=i(t+"CollectionConsumer",v);return G.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((M,C)=>x.indexOf(M.ref.current)-x.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},T,r]}var tP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=tP.reduce((t,e)=>{const n=qp(`Primitive.${e}`),r=I.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zx(t,e){t&&dc.flushSync(()=>t.dispatchEvent(e))}function $s(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nP(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rP="DismissableLayer",Gp="dismissableLayer.update",sP="dismissableLayer.pointerDownOutside",iP="dismissableLayer.focusOutside",K0,Bx=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kg=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=I.useContext(Bx),[d,h]=I.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=I.useState({}),T=jn(e,C=>h(C)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(w),_=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,k=_>=E,O=aP(C=>{const S=C.target,R=[...u.branches].some(P=>P.contains(S));!k||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),M=lP(C=>{const S=C.target;[...u.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return nP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),I.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Q0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=K0)}},[d,p,n,u]),I.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Q0())},[d,u]),I.useEffect(()=>{const C=()=>m({});return document.addEventListener(Gp,C),()=>document.removeEventListener(Gp,C)},[]),g.jsx(Yt.div,{...l,ref:T,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,M.onFocusCapture),onBlurCapture:st(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,O.onPointerDownCapture)})});kg.displayName=rP;var oP="DismissableLayerBranch",Hx=I.forwardRef((t,e)=>{const n=I.useContext(Bx),r=I.useRef(null),s=jn(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Yt.div,{...t,ref:s})});Hx.displayName=oP;function aP(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Wx(sP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lP(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=I.useRef(!1);return I.useEffect(()=>{const s=i=>{i.target&&!r.current&&Wx(iP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const t=new CustomEvent(Gp);document.dispatchEvent(t)}function Wx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zx(s,i):s.dispatchEvent(i)}var cP=kg,uP=Hx,zs=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},dP="Portal",qx=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=I.useState(!1);zs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jx.createPortal(g.jsx(Yt.div,{...r,ref:e}),o):null});qx.displayName=dP;function hP(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var Ng=t=>{const{present:e,children:n}=t,r=fP(e),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=jn(r.ref,pP(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};Ng.displayName="Presence";function fP(t){const[e,n]=I.useState(),r=I.useRef(null),s=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=au(r.current);i.current=a==="mounted"?u:"none"},[a]),zs(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,m=au(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),zs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const v=au(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=au(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function pP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mP=M1[" useInsertionEffect ".trim().toString()]||zs;function gP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=yP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=I.useRef(t!==void 0);I.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=I.useCallback(d=>{var h;if(a){const p=vP(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function yP({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),s=I.useRef(n),i=I.useRef(e);return mP(()=>{i.current=e},[e]),I.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function vP(t){return typeof t=="function"}var wP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_P="VisuallyHidden",ih=I.forwardRef((t,e)=>g.jsx(Yt.span,{...t,ref:e,style:{...wP,...t.style}}));ih.displayName=_P;var EP=ih,Dg="ToastProvider",[Og,xP,TP]=eP("Toast"),[Gx,g5]=sh("Toast",[TP]),[SP,oh]=Gx(Dg),Kx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=I.useState(null),[u,d]=I.useState(0),h=I.useRef(!1),p=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dg}\`. Expected non-empty \`string\`.`),g.jsx(Og.Provider,{scope:e,children:g.jsx(SP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:I.useCallback(()=>d(m=>m+1),[]),onToastRemove:I.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Kx.displayName=Dg;var Qx="ToastViewport",IP=["F8"],Kp="toast.viewportPause",Qp="toast.viewportResume",Yx=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=IP,label:s="Notifications ({hotkey})",...i}=t,o=oh(Qx,n),a=xP(n),l=I.useRef(null),u=I.useRef(null),d=I.useRef(null),h=I.useRef(null),p=jn(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;I.useEffect(()=>{const w=E=>{var x;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),I.useEffect(()=>{const w=l.current,E=h.current;if(T&&w&&E){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Kp);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Qp);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!w.contains(M.relatedTarget)&&x()},O=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",_),w.addEventListener("focusout",k),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",k),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const v=I.useCallback(({tabbingDirection:w})=>{const _=a().map(x=>{const k=x.ref.current,O=[k,...jP(k)];return w==="forwards"?O:O.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return I.useEffect(()=>{const w=h.current;if(w){const E=_=>{var O,M,C;const x=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!x){const S=document.activeElement,R=_.shiftKey;if(_.target===w&&R){(O=u.current)==null||O.focus();return}const D=v({tabbingDirection:R?"backwards":"forwards"}),b=D.findIndex(j=>j===S);Of(D.slice(b+1))?_.preventDefault():R?(M=u.current)==null||M.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",E),()=>w.removeEventListener("keydown",E)}},[a,v]),g.jsxs(uP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&g.jsx(Yp,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Of(w)}}),g.jsx(Og.Slot,{scope:n,children:g.jsx(Yt.ol,{tabIndex:-1,...i,ref:p})}),T&&g.jsx(Yp,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Of(w)}})]})});Yx.displayName=Qx;var Xx="ToastFocusProxy",Yp=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=oh(Xx,n);return g.jsx(ih,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Yp.displayName=Xx;var hc="Toast",CP="toast.swipeStart",AP="toast.swipeMove",bP="toast.swipeCancel",RP="toast.swipeEnd",Jx=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=gP({prop:r,defaultProp:s??!0,onChange:i,caller:hc});return g.jsx(Ng,{present:n||a,children:g.jsx(NP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:$s(t.onPause),onResume:$s(t.onResume),onSwipeStart:st(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:st(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Jx.displayName=hc;var[PP,kP]=Gx(hc,{onClose(){}}),NP=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...T}=t,v=oh(hc,n),[w,E]=I.useState(null),_=jn(e,j=>E(j)),x=I.useRef(null),k=I.useRef(null),O=s||v.duration,M=I.useRef(0),C=I.useRef(O),S=I.useRef(0),{onToastAdd:R,onToastRemove:P}=v,N=$s(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=v.viewport)==null||$.focus()),o()}),D=I.useCallback(j=>{!j||j===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(N,j))},[N]);I.useEffect(()=>{const j=v.viewport;if(j){const $=()=>{D(C.current),u==null||u()},q=()=>{const te=new Date().getTime()-M.current;C.current=C.current-te,window.clearTimeout(S.current),l==null||l()};return j.addEventListener(Kp,q),j.addEventListener(Qp,$),()=>{j.removeEventListener(Kp,q),j.removeEventListener(Qp,$)}}},[v.viewport,O,l,u,D]),I.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(O)},[i,O,v.isClosePausedRef,D]),I.useEffect(()=>(R(),()=>P()),[R,P]);const b=I.useMemo(()=>w?iT(w):null,[w]);return v.viewport?g.jsxs(g.Fragment,{children:[b&&g.jsx(DP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),g.jsx(PP,{scope:n,onClose:N,children:dc.createPortal(g.jsx(Og.ItemSlot,{scope:n,children:g.jsx(cP,{asChild:!0,onEscapeKeyDown:st(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:st(t.onPointerDown,j=>{j.button===0&&(x.current={x:j.clientX,y:j.clientY})}),onPointerMove:st(t.onPointerMove,j=>{if(!x.current)return;const $=j.clientX-x.current.x,q=j.clientY-x.current.y,te=!!k.current,F=["left","right"].includes(v.swipeDirection),H=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=F?H(0,$):0,ie=F?0:H(0,q),Z=j.pointerType==="touch"?10:2,de={x:Y,y:ie},ce={originalEvent:j,delta:de};te?(k.current=de,lu(AP,h,ce,{discrete:!1})):Y0(de,v.swipeDirection,Z)?(k.current=de,lu(CP,d,ce,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs($)>Z||Math.abs(q)>Z)&&(x.current=null)}),onPointerUp:st(t.onPointerUp,j=>{const $=k.current,q=j.target;if(q.hasPointerCapture(j.pointerId)&&q.releasePointerCapture(j.pointerId),k.current=null,x.current=null,$){const te=j.currentTarget,F={originalEvent:j,delta:$};Y0($,v.swipeDirection,v.swipeThreshold)?lu(RP,m,F,{discrete:!0}):lu(bP,p,F,{discrete:!0}),te.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),DP=t=>{const{__scopeToast:e,children:n,...r}=t,s=oh(hc,e),[i,o]=I.useState(!1),[a,l]=I.useState(!1);return LP(()=>o(!0)),I.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(qx,{asChild:!0,children:g.jsx(ih,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},OP="ToastTitle",Zx=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Yt.div,{...r,ref:e})});Zx.displayName=OP;var MP="ToastDescription",eT=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Yt.div,{...r,ref:e})});eT.displayName=MP;var tT="ToastAction",nT=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(sT,{altText:n,asChild:!0,children:g.jsx(Mg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tT}\`. Expected non-empty \`string\`.`),null)});nT.displayName=tT;var rT="ToastClose",Mg=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=kP(rT,n);return g.jsx(sT,{asChild:!0,children:g.jsx(Yt.button,{type:"button",...r,ref:e,onClick:st(t.onClick,s.onClose)})})});Mg.displayName=rT;var sT=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function iT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...iT(r))}}),e}function lu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zx(s,i):s.dispatchEvent(i)}var Y0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function LP(t=()=>{}){const e=$s(t);zs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VP(t){return t.nodeType===t.ELEMENT_NODE}function jP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Of(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var FP=Kx,oT=Yx,aT=Jx,lT=Zx,cT=eT,uT=nT,dT=Mg;function hT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hT(t))&&(r&&(r+=" "),r+=e);return r}const X0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J0=fT,UP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return J0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=X0(d)||X0(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(T=>{let[v,w]=T;return Array.isArray(w)?w.includes({...i,...a}[v]):{...i,...a}[v]===w})?[...u,h,p]:u},[]);return J0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>I.createElement("svg",{ref:l,...zP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pT("lucide",s),...a},[...o.map(([u,d])=>I.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(BP,{ref:i,iconNode:e,className:pT(`lucide-${$P(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Se("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Se("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Se("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Se("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lg="-",ck=t=>{const e=dk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Lg);return a[0]===""&&a.length!==1&&a.shift(),yT(a,e)||uk(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Lg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},rw=/^\[(.+)\]$/,uk=t=>{if(rw.test(t)){const e=rw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Zp(o,r,i,e)}),r},Zp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:sw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(hk(s)){Zp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Zp(o,sw(e,i),n,r)})})},sw=(t,e)=>{let n=t;return e.split(Lg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hk=t=>t.isThemeGetter,fk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vT="!",mk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let E=a[w];if(u===0){if(E===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(E==="/"){h=w;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),m=p.startsWith(vT),T=m?p.substring(1):p,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},gk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yk=t=>({cache:pk(t.cacheSize),parseClassName:mk(t),...ck(t)}),vk=/\s+/,wk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(vk);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let T=!!m,v=r(T?p.substring(0,m):p);if(!v){if(!T){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}T=!1}const w=gk(d).join(":"),E=h?w+vT:w,_=E+v;if(i.includes(_))continue;i.push(_);const x=s(v,T);for(let k=0;k<x.length;++k){const O=x[k];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function _k(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wT(e))&&(r&&(r+=" "),r+=n);return r}const wT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wT(t[r]))&&(n&&(n+=" "),n+=e);return n};function Ek(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=yk(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=wk(l,n);return s(l,d),d}return function(){return i(_k.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_T=/^\[(?:([a-z-]+):)?(.+)\]$/i,xk=/^\d+\/\d+$/,Tk=new Set(["px","full","screen"]),Sk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ik=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ck=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ak=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>ko(t)||Tk.has(t)||xk.test(t),ls=t=>da(t,"length",Lk),ko=t=>!!t&&!Number.isNaN(Number(t)),Mf=t=>da(t,"number",ko),Ya=t=>!!t&&Number.isInteger(Number(t)),Rk=t=>t.endsWith("%")&&ko(t.slice(0,-1)),ue=t=>_T.test(t),cs=t=>Sk.test(t),Pk=new Set(["length","size","percentage"]),kk=t=>da(t,Pk,ET),Nk=t=>da(t,"position",ET),Dk=new Set(["image","url"]),Ok=t=>da(t,Dk,jk),Mk=t=>da(t,"",Vk),Xa=()=>!0,da=(t,e,n)=>{const r=_T.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Lk=t=>Ik.test(t)&&!Ck.test(t),ET=()=>!1,Vk=t=>Ak.test(t),jk=t=>bk.test(t),Fk=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),h=ke("invert"),p=ke("gap"),m=ke("gradientColorStops"),T=ke("gradientColorStopPositions"),v=ke("inset"),w=ke("margin"),E=ke("opacity"),_=ke("padding"),x=ke("saturate"),k=ke("scale"),O=ke("sepia"),M=ke("skew"),C=ke("space"),S=ke("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ue,e],D=()=>[ue,e],b=()=>["",Sr,ls],j=()=>["auto",ko,ue],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ue],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[ko,ue];return{cacheSize:500,separator:":",theme:{colors:[Xa],spacing:[Sr,ls],blur:["none","",cs,ue],brightness:ie(),borderColor:[t],borderRadius:["none","","full",cs,ue],borderSpacing:D(),borderWidth:b(),contrast:ie(),grayscale:H(),hueRotate:ie(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[Rk,ls],inset:N(),margin:N(),opacity:ie(),padding:D(),saturate:ie(),scale:ie(),sepia:H(),skew:ie(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ya,ue]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Ya,ue]}],"grid-cols":[{"grid-cols":[Xa]}],"col-start-end":[{col:["auto",{span:["full",Ya,ue]},ue]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Xa]}],"row-start-end":[{row:["auto",{span:[Ya,ue]},ue]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[Xa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",ko,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,ls]}],"underline-offset":[{"underline-offset":["auto",Sr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Nk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ok]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Sr,ue]}],"outline-w":[{outline:[Sr,ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Sr,ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,Mk]}],"shadow-color":[{shadow:[Xa]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cs,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ya,ue]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,ls,Mf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uk=Ek(Fk);function Xi(...t){return Uk(fT(t))}const $k=FP,xT=I.forwardRef(({className:t,...e},n)=>g.jsx(oT,{ref:n,className:Xi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xT.displayName=oT.displayName;const zk=UP("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TT=I.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(aT,{ref:r,className:Xi(zk({variant:e}),t),...n}));TT.displayName=aT.displayName;const Bk=I.forwardRef(({className:t,...e},n)=>g.jsx(uT,{ref:n,className:Xi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Bk.displayName=uT.displayName;const ST=I.forwardRef(({className:t,...e},n)=>g.jsx(dT,{ref:n,className:Xi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(ua,{className:"h-4 w-4"})}));ST.displayName=dT.displayName;const IT=I.forwardRef(({className:t,...e},n)=>g.jsx(lT,{ref:n,className:Xi("text-sm font-semibold",t),...e}));IT.displayName=lT.displayName;const CT=I.forwardRef(({className:t,...e},n)=>g.jsx(cT,{ref:n,className:Xi("text-sm opacity-90",t),...e}));CT.displayName=cT.displayName;function Hk(){const{toasts:t}=GR();return g.jsxs($k,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(TT,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(IT,{children:n}),r&&g.jsx(CT,{children:r})]}),s,g.jsx(ST,{})]},e)}),g.jsx(xT,{})]})}var iw=["light","dark"],Wk="(prefers-color-scheme: dark)",qk=I.createContext(void 0),Gk={setTheme:t=>{},themes:[]},Kk=()=>{var t;return(t=I.useContext(qk))!=null?t:Gk};I.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?iw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,v=!1,w=!0)=>{let E=o?o[T]:T,_=v?T+"|| ''":`'${E}'`,x="";return s&&w&&!v&&iw.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?v||E?x+=`c.add(${_})`:x+="null":E&&(x+=`d[s](n,${_})`),x},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Wk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return I.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var Qk=t=>{switch(t){case"success":return Jk;case"info":return eN;case"warning":return Zk;case"error":return tN;default:return null}},Yk=Array(12).fill(0),Xk=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},Yk.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Jk=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zk=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eN=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tN=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nN=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rN=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},em=1,sN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:em++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],G.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(oN(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||em++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new sN,iN=(t,e)=>{let n=(e==null?void 0:e.id)||em++;return Ft.addToast({title:t,...e,id:n}),n},oN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aN=iN,lN=()=>Ft.toasts,cN=()=>Ft.getActiveToasts();Object.assign(aN,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:lN,getToasts:cN});function uN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cu(t){return t.label!==void 0}var dN=3,hN="32px",fN="16px",ow=4e3,pN=356,mN=14,gN=20,yN=200;function In(...t){return t.filter(Boolean).join(" ")}function vN(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var wN=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:p,toast:m,unstyled:T,interacting:v,setHeights:w,visibleToasts:E,heights:_,index:x,toasts:k,expanded:O,removeToast:M,defaultRichColors:C,closeButton:S,style:R,cancelButtonStyle:P,actionButtonStyle:N,className:D="",descriptionClassName:b="",duration:j,position:$,gap:q,loadingIcon:te,expandByDefault:F,classNames:H,icons:Y,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:Z}=t,[de,ce]=G.useState(null),[Me,Ke]=G.useState(null),[ye,zn]=G.useState(!1),[En,_r]=G.useState(!1),[Bn,Er]=G.useState(!1),[cn,ci]=G.useState(!1),[Aa,Jr]=G.useState(!1),[ui,Zr]=G.useState(0),[Ve,lt]=G.useState(0),Hn=G.useRef(m.duration||j||ow),Pc=G.useRef(null),Wn=G.useRef(null),zh=x===0,di=x+1<=E,Pt=m.type,xr=m.dismissible!==!1,ba=m.className||"",Bh=m.descriptionClassName||"",no=G.useMemo(()=>_.findIndex(ne=>ne.toastId===m.id)||0,[_,m.id]),kc=G.useMemo(()=>{var ne;return(ne=m.closeButton)!=null?ne:S},[m.closeButton,S]),Ra=G.useMemo(()=>m.duration||j||ow,[m.duration,j]),Tr=G.useRef(0),qn=G.useRef(0),ro=G.useRef(0),Vt=G.useRef(null),[Nc,so]=$.split("-"),Pa=G.useMemo(()=>_.reduce((ne,Ee,Ae)=>Ae>=no?ne:ne+Ee.height,0),[_,no]),es=rN(),Dc=m.invert||p,tt=Pt==="loading";qn.current=G.useMemo(()=>no*q+Pa,[no,Pa]),G.useEffect(()=>{Hn.current=Ra},[Ra]),G.useEffect(()=>{zn(!0)},[]),G.useEffect(()=>{let ne=Wn.current;if(ne){let Ee=ne.getBoundingClientRect().height;return lt(Ee),w(Ae=>[{toastId:m.id,height:Ee,position:m.position},...Ae]),()=>w(Ae=>Ae.filter(ct=>ct.toastId!==m.id))}},[w,m.id]),G.useLayoutEffect(()=>{if(!ye)return;let ne=Wn.current,Ee=ne.style.height;ne.style.height="auto";let Ae=ne.getBoundingClientRect().height;ne.style.height=Ee,lt(Ae),w(ct=>ct.find(Xt=>Xt.toastId===m.id)?ct.map(Xt=>Xt.toastId===m.id?{...Xt,height:Ae}:Xt):[{toastId:m.id,height:Ae,position:m.position},...ct])},[ye,m.title,m.description,w,m.id]);let xn=G.useCallback(()=>{_r(!0),Zr(qn.current),w(ne=>ne.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{M(m)},yN)},[m,M,w,qn]);G.useEffect(()=>{if(m.promise&&Pt==="loading"||m.duration===1/0||m.type==="loading")return;let ne;return O||v||Z&&es?(()=>{if(ro.current<Tr.current){let Ee=new Date().getTime()-Tr.current;Hn.current=Hn.current-Ee}ro.current=new Date().getTime()})():Hn.current!==1/0&&(Tr.current=new Date().getTime(),ne=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),xn()},Hn.current)),()=>clearTimeout(ne)},[O,v,m,Pt,Z,es,xn]),G.useEffect(()=>{m.delete&&xn()},[xn,m.delete]);function hi(){var ne,Ee,Ae;return Y!=null&&Y.loading?G.createElement("div",{className:In(H==null?void 0:H.loader,(ne=m==null?void 0:m.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Pt==="loading"},Y.loading):te?G.createElement("div",{className:In(H==null?void 0:H.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Pt==="loading"},te):G.createElement(Xk,{className:In(H==null?void 0:H.loader,(Ae=m==null?void 0:m.classNames)==null?void 0:Ae.loader),visible:Pt==="loading"})}return G.createElement("li",{tabIndex:0,ref:Wn,className:In(D,ba,H==null?void 0:H.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Pt],(n=m==null?void 0:m.classNames)==null?void 0:n[Pt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":ye,"data-promise":!!m.promise,"data-swiped":Aa,"data-removed":En,"data-visible":di,"data-y-position":Nc,"data-x-position":so,"data-index":x,"data-front":zh,"data-swiping":Bn,"data-dismissible":xr,"data-type":Pt,"data-invert":Dc,"data-swipe-out":cn,"data-swipe-direction":Me,"data-expanded":!!(O||F&&ye),style:{"--index":x,"--toasts-before":x,"--z-index":k.length-x,"--offset":`${En?ui:qn.current}px`,"--initial-height":F?"auto":`${Ve}px`,...R,...m.style},onDragEnd:()=>{Er(!1),ce(null),Vt.current=null},onPointerDown:ne=>{tt||!xr||(Pc.current=new Date,Zr(qn.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Er(!0),Vt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Ee,Ae,ct;if(cn||!xr)return;Vt.current=null;let Xt=Number(((ne=Wn.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gn=Number(((Ee=Wn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((Ae=Pc.current)==null?void 0:Ae.getTime()),jt=de==="x"?Xt:Gn,Tn=Math.abs(jt)/un;if(Math.abs(jt)>=gN||Tn>.11){Zr(qn.current),(ct=m.onDismiss)==null||ct.call(m,m),Ke(de==="x"?Xt>0?"right":"left":Gn>0?"down":"up"),xn(),ci(!0),Jr(!1);return}Er(!1),ce(null)},onPointerMove:ne=>{var Ee,Ae,ct,Xt;if(!Vt.current||!xr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Gn=ne.clientY-Vt.current.y,un=ne.clientX-Vt.current.x,jt=(Ae=t.swipeDirections)!=null?Ae:vN($);!de&&(Math.abs(un)>1||Math.abs(Gn)>1)&&ce(Math.abs(un)>Math.abs(Gn)?"x":"y");let Tn={x:0,y:0};de==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&Gn<0||jt.includes("bottom")&&Gn>0)&&(Tn.y=Gn):de==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&un<0||jt.includes("right")&&un>0)&&(Tn.x=un),(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&Jr(!0),(ct=Wn.current)==null||ct.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(Xt=Wn.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},kc&&!m.jsx?G.createElement("button",{"aria-label":ie,"data-disabled":tt,"data-close-button":!0,onClick:tt||!xr?()=>{}:()=>{var ne;xn(),(ne=m.onDismiss)==null||ne.call(m,m)},className:In(H==null?void 0:H.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:nN):null,m.jsx||I.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Pt||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:In(H==null?void 0:H.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||hi():null,m.type!=="loading"?m.icon||(Y==null?void 0:Y[Pt])||Qk(Pt):null):null,G.createElement("div",{"data-content":"",className:In(H==null?void 0:H.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:In(H==null?void 0:H.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:In(b,Bh,H==null?void 0:H.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),I.isValidElement(m.cancel)?m.cancel:m.cancel&&cu(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ne=>{var Ee,Ae;cu(m.cancel)&&xr&&((Ae=(Ee=m.cancel).onClick)==null||Ae.call(Ee,ne),xn())},className:In(H==null?void 0:H.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,I.isValidElement(m.action)?m.action:m.action&&cu(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:ne=>{var Ee,Ae;cu(m.action)&&((Ae=(Ee=m.action).onClick)==null||Ae.call(Ee,ne),!ne.defaultPrevented&&xn())},className:In(H==null?void 0:H.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function aw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _N(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?fN:hN;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var EN=I.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:T=dN,toastOptions:v,dir:w=aw(),gap:E=mN,loadingIcon:_,icons:x,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:O}=t,[M,C]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([r].concat(M.filter(Z=>Z.position).map(Z=>Z.position)))),[M,r]),[R,P]=G.useState([]),[N,D]=G.useState(!1),[b,j]=G.useState(!1),[$,q]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=G.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=G.useRef(null),Y=G.useRef(!1),ie=G.useCallback(Z=>{C(de=>{var ce;return(ce=de.find(Me=>Me.id===Z.id))!=null&&ce.delete||Ft.dismiss(Z.id),de.filter(({id:Me})=>Me!==Z.id)})},[]);return G.useEffect(()=>Ft.subscribe(Z=>{if(Z.dismiss){C(de=>de.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{jx.flushSync(()=>{C(de=>{let ce=de.findIndex(Me=>Me.id===Z.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...Z},...de.slice(ce+1)]:[Z,...de]})})})}),[]),G.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:de})=>{q(de?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{q(ce?"dark":"light")}catch(Me){console.error(Me)}})}},[d]),G.useEffect(()=>{M.length<=1&&D(!1)},[M]),G.useEffect(()=>{let Z=de=>{var ce,Me;s.every(Ke=>de[Ke]||de.code===Ke)&&(D(!0),(ce=te.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===te.current||(Me=te.current)!=null&&Me.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),G.useEffect(()=>{if(te.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,Y.current=!1)}},[te.current]),G.createElement("section",{ref:e,"aria-label":`${k} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,de)=>{var ce;let[Me,Ke]=Z.split("-");return M.length?G.createElement("ol",{key:Z,dir:w==="auto"?aw():w,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":Me,"data-lifted":N&&M.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ce=R[0])==null?void 0:ce.height)||0}px`,"--width":`${pN}px`,"--gap":`${E}px`,...m,..._N(l,u)},onBlur:ye=>{Y.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(Y.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,H.current=ye.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{b||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},M.filter(ye=>!ye.position&&de===0||ye.position===Z).map((ye,zn)=>{var En,_r;return G.createElement(wN,{key:ye.id,icons:x,index:zn,toast:ye,defaultRichColors:h,duration:(En=v==null?void 0:v.duration)!=null?En:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:T,closeButton:(_r=v==null?void 0:v.closeButton)!=null?_r:o,interacting:b,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ie,toasts:M.filter(Bn=>Bn.position==ye.position),heights:R.filter(Bn=>Bn.position==ye.position),setHeights:P,expandByDefault:i,gap:E,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const xN=({...t})=>{const{theme:e="system"}=Kk();return g.jsx(EN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},TN=["top","right","bottom","left"],Bs=Math.min,en=Math.max,pd=Math.round,uu=Math.floor,or=t=>({x:t,y:t}),SN={left:"right",right:"left",bottom:"top",top:"bottom"},IN={start:"end",end:"start"};function tm(t,e,n){return en(t,Bs(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function ha(t){return t.split("-")[1]}function Vg(t){return t==="x"?"y":"x"}function jg(t){return t==="y"?"height":"width"}const CN=new Set(["top","bottom"]);function rr(t){return CN.has(Br(t))?"y":"x"}function Fg(t){return Vg(rr(t))}function AN(t,e,n){n===void 0&&(n=!1);const r=ha(t),s=Fg(t),i=jg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=md(o)),[o,md(o)]}function bN(t){const e=md(t);return[nm(t),e,nm(e)]}function nm(t){return t.replace(/start|end/g,e=>IN[e])}const lw=["left","right"],cw=["right","left"],RN=["top","bottom"],PN=["bottom","top"];function kN(t,e,n){switch(t){case"top":case"bottom":return n?e?cw:lw:e?lw:cw;case"left":case"right":return e?RN:PN;default:return[]}}function NN(t,e,n,r){const s=ha(t);let i=kN(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(nm)))),i}function md(t){return t.replace(/left|right|bottom|top/g,e=>SN[e])}function DN(t){return{top:0,right:0,bottom:0,left:0,...t}}function AT(t){return typeof t!="number"?DN(t):{top:t,right:t,bottom:t,left:t}}function gd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uw(t,e,n){let{reference:r,floating:s}=t;const i=rr(e),o=Fg(e),a=jg(o),l=Br(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ha(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const ON=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=uw(u,r,l),p=r,m={},T=0;for(let v=0;v<a.length;v++){const{name:w,fn:E}=a[v],{x:_,y:x,data:k,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=x??h,m={...m,[w]:{...m[w],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=uw(u,p,l)),v=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function $l(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=zr(e,t),T=AT(m),w=a[p?h==="floating"?"reference":"floating":h],E=gd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=gd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(E.top-O.top+T.top)/k.y,bottom:(O.bottom-E.bottom+T.bottom)/k.y,left:(E.left-O.left+T.left)/k.x,right:(O.right-E.right+T.right)/k.x}}const MN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=zr(t,e)||{};if(u==null)return{};const h=AT(d),p={x:n,y:r},m=Fg(s),T=jg(m),v=await o.getDimensions(u),w=m==="y",E=w?"top":"left",_=w?"bottom":"right",x=w?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[m]-p[m]-i.floating[T],O=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[x]||i.floating[T]);const S=k/2-O/2,R=C/2-v[T]/2-1,P=Bs(h[E],R),N=Bs(h[_],R),D=P,b=C-v[T]-N,j=C/2-v[T]/2+S,$=tm(D,j,b),q=!l.arrow&&ha(s)!=null&&j!==$&&i.reference[T]/2-(j<D?P:N)-v[T]/2<0,te=q?j<D?j-D:j-b:0;return{[m]:p[m]+te,data:{[m]:$,centerOffset:j-$-te,...q&&{alignmentOffset:te}},reset:q}}}),LN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...w}=zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Br(s),_=rr(a),x=Br(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(x||!v?[md(a)]:bN(a)),M=T!=="none";!p&&M&&O.push(...NN(a,v,T,k));const C=[a,...O],S=await $l(e,w),R=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(S[E]),h){const j=AN(s,o,k);R.push(S[j[0]],S[j[1]])}if(P=[...P,{placement:s,overflows:R}],!R.every(j=>j<=0)){var N,D;const j=(((N=i.flip)==null?void 0:N.index)||0)+1,$=C[j];if($&&(!(h==="alignment"?_!==rr($):!1)||P.every(F=>F.overflows[0]>0&&rr(F.placement)===_)))return{data:{index:j,overflows:P},reset:{placement:$}};let q=(D=P.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(m){case"bestFit":{var b;const te=(b=P.filter(F=>{if(M){const H=rr(F.placement);return H===_||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,Y)=>H+Y,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:b[0];te&&(q=te);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function dw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hw(t){return TN.some(e=>t[e]>=0)}const VN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const i=await $l(e,{...s,elementContext:"reference"}),o=dw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hw(o)}}}case"escaped":{const i=await $l(e,{...s,altBoundary:!0}),o=dw(i,n.floating);return{data:{escapedOffsets:o,escaped:hw(o)}}}default:return{}}}}},bT=new Set(["left","top"]);async function jN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),a=ha(n),l=rr(n)==="y",u=bT.has(o)?-1:1,d=i&&l?-1:1,h=zr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const FN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await jN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},UN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:E,y:_}=w;return{x:E,y:_}}},...l}=zr(t,e),u={x:n,y:r},d=await $l(e,l),h=rr(Br(s)),p=Vg(h);let m=u[p],T=u[h];if(i){const w=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=m+d[w],x=m-d[E];m=tm(_,m,x)}if(o){const w=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=T+d[w],x=T-d[E];T=tm(_,T,x)}const v=a.fn({...e,[p]:m,[h]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},$N=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zr(t,e),d={x:n,y:r},h=rr(s),p=Vg(h);let m=d[p],T=d[h];const v=zr(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=p==="y"?"height":"width",k=i.reference[p]-i.floating[x]+w.mainAxis,O=i.reference[p]+i.reference[x]-w.mainAxis;m<k?m=k:m>O&&(m=O)}if(u){var E,_;const x=p==="y"?"width":"height",k=bT.has(Br(s)),O=i.reference[h]-i.floating[x]+(k&&((E=o.offset)==null?void 0:E[h])||0)+(k?0:w.crossAxis),M=i.reference[h]+i.reference[x]+(k?0:((_=o.offset)==null?void 0:_[h])||0)-(k?w.crossAxis:0);T<O?T=O:T>M&&(T=M)}return{[p]:m,[h]:T}}}},zN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=zr(t,e),d=await $l(e,u),h=Br(s),p=ha(s),m=rr(s)==="y",{width:T,height:v}=i.floating;let w,E;h==="top"||h==="bottom"?(w=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,w=p==="end"?"top":"bottom");const _=v-d.top-d.bottom,x=T-d.left-d.right,k=Bs(v-d[w],_),O=Bs(T-d[E],x),M=!e.middlewareData.shift;let C=k,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),M&&!p){const P=en(d.left,0),N=en(d.right,0),D=en(d.top,0),b=en(d.bottom,0);m?S=T-2*(P!==0||N!==0?P+N:en(d.left,d.right)):C=v-2*(D!==0||b!==0?D+b:en(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const R=await o.getDimensions(a.floating);return T!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function ah(){return typeof window<"u"}function fa(t){return RT(t)?(t.nodeName||"").toLowerCase():"#document"}function sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gr(t){var e;return(e=(RT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RT(t){return ah()?t instanceof Node||t instanceof sn(t).Node:!1}function Fn(t){return ah()?t instanceof Element||t instanceof sn(t).Element:!1}function fr(t){return ah()?t instanceof HTMLElement||t instanceof sn(t).HTMLElement:!1}function fw(t){return!ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sn(t).ShadowRoot}const BN=new Set(["inline","contents"]);function fc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!BN.has(s)}const HN=new Set(["table","td","th"]);function WN(t){return HN.has(fa(t))}const qN=[":popover-open",":modal"];function lh(t){return qN.some(e=>{try{return t.matches(e)}catch{return!1}})}const GN=["transform","translate","scale","rotate","perspective"],KN=["transform","translate","scale","rotate","perspective","filter"],QN=["paint","layout","strict","content"];function Ug(t){const e=$g(),n=Fn(t)?Un(t):t;return GN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KN.some(r=>(n.willChange||"").includes(r))||QN.some(r=>(n.contain||"").includes(r))}function YN(t){let e=Hs(t);for(;fr(e)&&!Jo(e);){if(Ug(e))return e;if(lh(e))return null;e=Hs(e)}return null}function $g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XN=new Set(["html","body","#document"]);function Jo(t){return XN.has(fa(t))}function Un(t){return sn(t).getComputedStyle(t)}function ch(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fw(t)&&t.host||gr(t);return fw(e)?e.host:e}function PT(t){const e=Hs(t);return Jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&fc(e)?e:PT(e)}function zl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=PT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=sn(s);if(i){const a=rm(o);return e.concat(o,o.visualViewport||[],fc(s)?s:[],a&&n?zl(a):[])}return e.concat(s,zl(s,[],n))}function rm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kT(t){const e=Un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=pd(n)!==i||pd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function zg(t){return Fn(t)?t:t.contextElement}function No(t){const e=zg(t);if(!fr(e))return or(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kT(e);let o=(i?pd(n.width):n.width)/r,a=(i?pd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JN=or(0);function NT(t){const e=sn(t);return!$g()||!e.visualViewport?JN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sn(t)?!1:e}function zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=zg(t);let o=or(1);e&&(r?Fn(r)&&(o=No(r)):o=No(t));const a=ZN(i,n,r)?NT(i):or(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=sn(i),m=r&&Fn(r)?sn(r):r;let T=p,v=rm(T);for(;v&&r&&m!==T;){const w=No(v),E=v.getBoundingClientRect(),_=Un(v),x=E.left+(v.clientLeft+parseFloat(_.paddingLeft))*w.x,k=E.top+(v.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,h*=w.y,l+=x,u+=k,T=sn(v),v=rm(T)}}return gd({width:d,height:h,x:l,y:u})}function Bg(t,e){const n=ch(t).scrollLeft;return e?e.left+n:zi(gr(t)).left+n}function DT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Bg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function e2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=gr(r),a=e?lh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=or(1);const d=or(0),h=fr(r);if((h||!h&&!i)&&((fa(r)!=="body"||fc(o))&&(l=ch(r)),fr(r))){const m=zi(r);u=No(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?DT(o,l,!0):or(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function t2(t){return Array.from(t.getClientRects())}function n2(t){const e=gr(t),n=ch(t),r=t.ownerDocument.body,s=en(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=en(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bg(t);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=en(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function r2(t,e){const n=sn(t),r=gr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=$g();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const s2=new Set(["absolute","fixed"]);function i2(t,e){const n=zi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fr(t)?No(t):or(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function pw(t,e,n){let r;if(e==="viewport")r=r2(t,n);else if(e==="document")r=n2(gr(t));else if(Fn(e))r=i2(e,n);else{const s=NT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return gd(r)}function OT(t,e){const n=Hs(t);return n===e||!Fn(n)||Jo(n)?!1:Un(n).position==="fixed"||OT(n,e)}function o2(t,e){const n=e.get(t);if(n)return n;let r=zl(t,[],!1).filter(a=>Fn(a)&&fa(a)!=="body"),s=null;const i=Un(t).position==="fixed";let o=i?Hs(t):t;for(;Fn(o)&&!Jo(o);){const a=Un(o),l=Ug(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&s2.has(s.position)||fc(o)&&!l&&OT(t,o))?r=r.filter(d=>d!==o):s=a,o=Hs(o)}return e.set(t,r),r}function a2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?lh(e)?[]:o2(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=pw(e,d,s);return u.top=en(h.top,u.top),u.right=Bs(h.right,u.right),u.bottom=Bs(h.bottom,u.bottom),u.left=en(h.left,u.left),u},pw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l2(t){const{width:e,height:n}=kT(t);return{width:e,height:n}}function c2(t,e,n){const r=fr(e),s=gr(e),i=n==="fixed",o=zi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=or(0);function u(){l.x=Bg(s)}if(r||!r&&!i)if((fa(e)!=="body"||fc(s))&&(a=ch(e)),r){const m=zi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?DT(s,a):or(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Lf(t){return Un(t).position==="static"}function mw(t,e){if(!fr(t)||Un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gr(t)===n&&(n=n.ownerDocument.body),n}function MT(t,e){const n=sn(t);if(lh(t))return n;if(!fr(t)){let s=Hs(t);for(;s&&!Jo(s);){if(Fn(s)&&!Lf(s))return s;s=Hs(s)}return n}let r=mw(t,e);for(;r&&WN(r)&&Lf(r);)r=mw(r,e);return r&&Jo(r)&&Lf(r)&&!Ug(r)?n:r||YN(t)||n}const u2=async function(t){const e=this.getOffsetParent||MT,n=this.getDimensions,r=await n(t.floating);return{reference:c2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d2(t){return Un(t).direction==="rtl"}const h2={convertOffsetParentRelativeRectToViewportRelativeRect:e2,getDocumentElement:gr,getClippingRect:a2,getOffsetParent:MT,getElementRects:u2,getClientRects:t2,getDimensions:l2,getScale:No,isElement:Fn,isRTL:d2};function LT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function f2(t,e){let n=null,r;const s=gr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||e(),!p||!m)return;const T=uu(h),v=uu(s.clientWidth-(d+p)),w=uu(s.clientHeight-(h+m)),E=uu(d),x={rootMargin:-T+"px "+-v+"px "+-w+"px "+-E+"px",threshold:en(0,Bs(1,l))||1};let k=!0;function O(M){const C=M[0].intersectionRatio;if(C!==l){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!LT(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function p2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=zg(t),d=s||i?[...u?zl(u):[],...zl(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=u&&a?f2(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let T,v=l?zi(t):null;l&&w();function w(){const E=zi(t);v&&!LT(v,E)&&n(),v=E,T=requestAnimationFrame(w)}return n(),()=>{var E;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const m2=FN,g2=UN,y2=LN,v2=zN,w2=VN,gw=MN,_2=$N,E2=(t,e,n)=>{const r=new Map,s={platform:h2,...n},i={...s.platform,_c:r};return ON(t,e,{...s,platform:i})};var x2=typeof document<"u",T2=function(){},Du=x2?I.useLayoutEffect:T2;function yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!yd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yw(t,e){const n=VT(t);return Math.round(e*n)/n}function Vf(t){const e=I.useRef(t);return Du(()=>{e.current=t}),e}function S2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=I.useState(r);yd(p,r)||m(r);const[T,v]=I.useState(null),[w,E]=I.useState(null),_=I.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),x=I.useCallback(F=>{F!==C.current&&(C.current=F,E(F))},[]),k=i||T,O=o||w,M=I.useRef(null),C=I.useRef(null),S=I.useRef(d),R=l!=null,P=Vf(l),N=Vf(s),D=Vf(u),b=I.useCallback(()=>{if(!M.current||!C.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),E2(M.current,C.current,F).then(H=>{const Y={...H,isPositioned:D.current!==!1};j.current&&!yd(S.current,Y)&&(S.current=Y,dc.flushSync(()=>{h(Y)}))})},[p,e,n,N,D]);Du(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const j=I.useRef(!1);Du(()=>(j.current=!0,()=>{j.current=!1}),[]),Du(()=>{if(k&&(M.current=k),O&&(C.current=O),k&&O){if(P.current)return P.current(k,O,b);b()}},[k,O,b,P,R]);const $=I.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:x}),[_,x]),q=I.useMemo(()=>({reference:k,floating:O}),[k,O]),te=I.useMemo(()=>{const F={position:n,left:0,top:0};if(!q.floating)return F;const H=yw(q.floating,d.x),Y=yw(q.floating,d.y);return a?{...F,transform:"translate("+H+"px, "+Y+"px)",...VT(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:Y}},[n,a,q.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:b,refs:$,elements:q,floatingStyles:te}),[d,b,$,q,te])}const I2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gw({element:r.current,padding:s}).fn(n):{}:r?gw({element:r,padding:s}).fn(n):{}}}},C2=(t,e)=>({...m2(t),options:[t,e]}),A2=(t,e)=>({...g2(t),options:[t,e]}),b2=(t,e)=>({..._2(t),options:[t,e]}),R2=(t,e)=>({...y2(t),options:[t,e]}),P2=(t,e)=>({...v2(t),options:[t,e]}),k2=(t,e)=>({...w2(t),options:[t,e]}),N2=(t,e)=>({...I2(t),options:[t,e]});var D2="Arrow",jT=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Yt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});jT.displayName=D2;var O2=jT;function M2(t){const[e,n]=I.useState(void 0);return zs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var FT="Popper",[UT,$T]=sh(FT),[v5,zT]=UT(FT),BT="PopperAnchor",HT=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zT(BT,n),o=I.useRef(null),a=jn(e,o);return I.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Yt.div,{...s,ref:a})});HT.displayName=BT;var Hg="PopperContent",[L2,V2]=UT(Hg),WT=I.forwardRef((t,e)=>{var ye,zn,En,_r,Bn,Er;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:T,...v}=t,w=zT(Hg,n),[E,_]=I.useState(null),x=jn(e,cn=>_(cn)),[k,O]=I.useState(null),M=M2(k),C=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,R=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,b={padding:P,boundary:N.filter(F2),altBoundary:D},{refs:j,floatingStyles:$,placement:q,isPositioned:te,middlewareData:F}=S2({strategy:"fixed",placement:R,whileElementsMounted:(...cn)=>p2(...cn,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[C2({mainAxis:s+S,alignmentAxis:o}),l&&A2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?b2():void 0,...b}),l&&R2({...b}),P2({...b,apply:({elements:cn,rects:ci,availableWidth:Aa,availableHeight:Jr})=>{const{width:ui,height:Zr}=ci.reference,Ve=cn.floating.style;Ve.setProperty("--radix-popper-available-width",`${Aa}px`),Ve.setProperty("--radix-popper-available-height",`${Jr}px`),Ve.setProperty("--radix-popper-anchor-width",`${ui}px`),Ve.setProperty("--radix-popper-anchor-height",`${Zr}px`)}}),k&&N2({element:k,padding:a}),U2({arrowWidth:C,arrowHeight:S}),p&&k2({strategy:"referenceHidden",...b})]}),[H,Y]=KT(q),ie=$s(T);zs(()=>{te&&(ie==null||ie())},[te,ie]);const Z=(ye=F.arrow)==null?void 0:ye.x,de=(zn=F.arrow)==null?void 0:zn.y,ce=((En=F.arrow)==null?void 0:En.centerOffset)!==0,[Me,Ke]=I.useState();return zs(()=>{E&&Ke(window.getComputedStyle(E).zIndex)},[E]),g.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:te?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(_r=F.transformOrigin)==null?void 0:_r.x,(Bn=F.transformOrigin)==null?void 0:Bn.y].join(" "),...((Er=F.hide)==null?void 0:Er.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(L2,{scope:n,placedSide:H,onArrowChange:O,arrowX:Z,arrowY:de,shouldHideArrow:ce,children:g.jsx(Yt.div,{"data-side":H,"data-align":Y,...v,ref:x,style:{...v.style,animation:te?void 0:"none"}})})})});WT.displayName=Hg;var qT="PopperArrow",j2={top:"bottom",right:"left",bottom:"top",left:"right"},GT=I.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=V2(qT,r),o=j2[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(O2,{...s,ref:n,style:{...s.style,display:"block"}})})});GT.displayName=qT;function F2(t){return t!==null}var U2=t=>({name:"transformOrigin",options:t,fn(e){var w,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=KT(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,m=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let T="",v="";return u==="bottom"?(T=o?h:`${p}px`,v=`${-l}px`):u==="top"?(T=o?h:`${p}px`,v=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,v=o?h:`${m}px`):u==="left"&&(T=`${r.floating.width+l}px`,v=o?h:`${m}px`),{data:{x:T,y:v}}}});function KT(t){const[e,n="center"]=t.split("-");return[e,n]}var $2=HT,z2=WT,B2=GT,[uh,w5]=sh("Tooltip",[$T]),Wg=$T(),QT="TooltipProvider",H2=700,vw="tooltip.open",[W2,YT]=uh(QT),XT=t=>{const{__scopeTooltip:e,delayDuration:n=H2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=I.useRef(!0),a=I.useRef(!1),l=I.useRef(0);return I.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),g.jsx(W2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:I.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};XT.displayName=QT;var JT="Tooltip",[_5,dh]=uh(JT),sm="TooltipTrigger",q2=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dh(sm,n),i=YT(sm,n),o=Wg(n),a=I.useRef(null),l=jn(e,a,s.onTriggerChange),u=I.useRef(!1),d=I.useRef(!1),h=I.useCallback(()=>u.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx($2,{asChild:!0,...o,children:g.jsx(Yt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:st(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:st(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:st(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:st(t.onBlur,s.onClose),onClick:st(t.onClick,s.onClose)})})});q2.displayName=sm;var G2="TooltipPortal",[E5,K2]=uh(G2,{forceMount:void 0}),Zo="TooltipContent",ZT=I.forwardRef((t,e)=>{const n=K2(Zo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=dh(Zo,t.__scopeTooltip);return g.jsx(Ng,{present:r||o.open,children:o.disableHoverableContent?g.jsx(eS,{side:s,...i,ref:e}):g.jsx(Q2,{side:s,...i,ref:e})})}),Q2=I.forwardRef((t,e)=>{const n=dh(Zo,t.__scopeTooltip),r=YT(Zo,t.__scopeTooltip),s=I.useRef(null),i=jn(e,s),[o,a]=I.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=I.useCallback(()=>{a(null),h(!1)},[h]),m=I.useCallback((T,v)=>{const w=T.currentTarget,E={x:T.clientX,y:T.clientY},_=eD(E,w.getBoundingClientRect()),x=tD(E,_),k=nD(v.getBoundingClientRect()),O=sD([...x,...k]);a(O),h(!0)},[h]);return I.useEffect(()=>()=>p(),[p]),I.useEffect(()=>{if(l&&d){const T=w=>m(w,d),v=w=>m(w,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",v)}}},[l,d,m,p]),I.useEffect(()=>{if(o){const T=v=>{const w=v.target,E={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),x=!rD(E,o);_?p():x&&(p(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,p]),g.jsx(eS,{...t,ref:i})}),[Y2,X2]=uh(JT,{isInside:!1}),J2=YR("TooltipContent"),eS=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=dh(Zo,n),u=Wg(n),{onClose:d}=l;return I.useEffect(()=>(document.addEventListener(vw,d),()=>document.removeEventListener(vw,d)),[d]),I.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),g.jsx(kg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:g.jsxs(z2,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(J2,{children:r}),g.jsx(Y2,{scope:n,isInside:!0,children:g.jsx(EP,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ZT.displayName=Zo;var tS="TooltipArrow",Z2=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wg(n);return X2(tS,n).isInside?null:g.jsx(B2,{...s,...r,ref:e})});Z2.displayName=tS;function eD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function sD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iD(e)}function iD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oD=XT,nS=ZT;const aD=oD,lD=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(nS,{ref:r,sideOffset:e,className:Xi("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));lD.displayName=nS.displayName;var hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fh=typeof window>"u"||"Deno"in globalThis;function An(){}function cD(t,e){return typeof t=="function"?t(e):t}function uD(t){return typeof t=="number"&&t>=0&&t!==1/0}function dD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function im(t,e){return typeof t=="function"?t(e):t}function hD(t,e){return typeof t=="function"?t(e):t}function ww(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qg(o,e.options))return!1}else if(!Hl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function _w(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bl(e.options.mutationKey)!==Bl(i))return!1}else if(!Hl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bl)(t)}function Bl(t){return JSON.stringify(t,(e,n)=>om(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hl(t[n],e[n])):!1}function rS(t,e){if(t===e)return t;const n=Ew(t)&&Ew(e);if(n||om(t)&&om(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=rS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Ew(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function om(t){if(!xw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xw(t){return Object.prototype.toString.call(t)==="[object Object]"}function fD(t){return new Promise(e=>{setTimeout(e,t)})}function pD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rS(t,e):e}function mD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gg=Symbol();function sS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ci,vs,Vo,g1,yD=(g1=class extends hh{constructor(){super();_e(this,Ci);_e(this,vs);_e(this,Vo);le(this,Vo,e=>{if(!fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,vs)||this.setEventListener(z(this,Vo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vs))==null||e.call(this),le(this,vs,void 0))}setEventListener(e){var n;le(this,Vo,e),(n=z(this,vs))==null||n.call(this),le(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ci)!==e&&(le(this,Ci,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ci)=="boolean"?z(this,Ci):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ci=new WeakMap,vs=new WeakMap,Vo=new WeakMap,g1),iS=new yD,jo,ws,Fo,y1,vD=(y1=class extends hh{constructor(){super();_e(this,jo,!0);_e(this,ws);_e(this,Fo);le(this,Fo,e=>{if(!fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,ws)||this.setEventListener(z(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ws))==null||e.call(this),le(this,ws,void 0))}setEventListener(e){var n;le(this,Fo,e),(n=z(this,ws))==null||n.call(this),le(this,ws,e(this.setOnline.bind(this)))}setOnline(e){z(this,jo)!==e&&(le(this,jo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,jo)}},jo=new WeakMap,ws=new WeakMap,Fo=new WeakMap,y1),vd=new vD;function wD(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _D(t){return Math.min(1e3*2**t,3e4)}function oS(t){return(t??"online")==="online"?vd.isOnline():!0}var aS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jf(t){return t instanceof aS}function lS(t){let e=!1,n=0,r=!1,s;const i=wD(),o=v=>{var w;r||(p(new aS(v)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>iS.isFocused()&&(t.networkMode==="always"||vd.isOnline())&&t.canRun(),d=()=>oS(t.networkMode)&&t.canRun(),h=v=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var w;s=E=>{(r||u())&&v(E)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(h).catch(E=>{var M;if(r)return;const _=t.retry??(fh?0:3),x=t.retryDelay??_D,k=typeof x=="function"?x(n,E):x,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!O){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),fD(k).then(()=>u()?void 0:m()).then(()=>{e?p(E):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),i)}}var ED=t=>setTimeout(t,0);function xD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=ED;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=xD(),Ai,v1,cS=(v1=class{constructor(){_e(this,Ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uD(this.gcTime)&&le(this,Ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fh?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ai)&&(clearTimeout(z(this,Ai)),le(this,Ai,void 0))}},Ai=new WeakMap,v1),Uo,bi,dn,Ri,St,sc,Pi,bn,Ir,w1,TD=(w1=class extends cS{constructor(n){super();_e(this,bn);_e(this,Uo);_e(this,bi);_e(this,dn);_e(this,Ri);_e(this,St);_e(this,sc);_e(this,Pi);le(this,Pi,!1),le(this,sc,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,Ri,n.client),le(this,dn,z(this,Ri).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,Uo,ID(this.options)),this.state=n.state??z(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,St))==null?void 0:n.promise}setOptions(n){this.options={...z(this,sc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,dn).remove(this)}setData(n,r){const s=pD(this.state.data,n,this.options);return _t(this,bn,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,bn,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,St))==null?void 0:s.promise;return(i=z(this,St))==null||i.cancel(n),r?r.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Uo))}isActive(){return this.observers.some(n=>hD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>im(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,St))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,St))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,St)&&(z(this,Pi)?z(this,St).cancel({revert:!0}):z(this,St).cancelRetry()),this.scheduleGc()),z(this,dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,bn,Ir).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,St))return z(this,St).continueRetry(),z(this,St).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,Pi,!0),s.signal)})},o=()=>{const m=sS(this.options,r),v=(()=>{const w={client:z(this,Ri),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return le(this,Pi,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ri),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),le(this,bi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&_t(this,bn,Ir).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var T,v,w,E;jf(m)&&m.silent||_t(this,bn,Ir).call(this,{type:"error",error:m}),jf(m)||((v=(T=z(this,dn).config).onError)==null||v.call(T,m,this),(E=(w=z(this,dn).config).onSettled)==null||E.call(w,this.state.data,m,this)),this.scheduleGc()};return le(this,St,lS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var T,v,w,E;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){u(_);return}(v=(T=z(this,dn).config).onSuccess)==null||v.call(T,m,this),(E=(w=z(this,dn).config).onSettled)==null||E.call(w,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,T)=>{_t(this,bn,Ir).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{_t(this,bn,Ir).call(this,{type:"pause"})},onContinue:()=>{_t(this,bn,Ir).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,St).start()}},Uo=new WeakMap,bi=new WeakMap,dn=new WeakMap,Ri=new WeakMap,St=new WeakMap,sc=new WeakMap,Pi=new WeakMap,bn=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...SD(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,bi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return jf(i)&&i.revert&&z(this,bi)?{...z(this,bi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,dn).notify({query:this,type:"updated",action:n})})},w1);function SD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ID(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,_1,CD=(_1=class extends hh{constructor(e={}){super();_e(this,Zn);this.config=e,le(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qg(s,n);let o=this.get(i);return o||(o=new TD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Zn).has(e.queryHash)||(z(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Zn).get(e)}getAll(){return[...z(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ww(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ww(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,_1),er,kt,ki,tr,ds,E1,AD=(E1=class extends cS{constructor(n){super();_e(this,tr);_e(this,er);_e(this,kt);_e(this,ki);this.mutationId=n.mutationId,le(this,kt,n.mutationCache),le(this,er,[]),this.state=n.state||bD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,er).includes(n)||(z(this,er).push(n),this.clearGcTimeout(),z(this,kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,er,z(this,er).filter(r=>r!==n)),this.scheduleGc(),z(this,kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,er).length||(this.state.status==="pending"?this.scheduleGc():z(this,kt).remove(this))}continue(){var n;return((n=z(this,ki))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,p,m,T,v,w,E,_,x,k,O,M,C,S,R;const r=()=>{_t(this,tr,ds).call(this,{type:"continue"})};le(this,ki,lS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{_t(this,tr,ds).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{_t(this,tr,ds).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,kt).canRun(this)}));const s=this.state.status==="pending",i=!z(this,ki).canStart();try{if(s)r();else{_t(this,tr,ds).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=z(this,kt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&_t(this,tr,ds).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const P=await z(this,ki).start();return await((h=(d=z(this,kt).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,P,n,this.state.context)),await((v=(T=z(this,kt).config).onSettled)==null?void 0:v.call(T,P,null,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,P,null,n,this.state.context)),_t(this,tr,ds).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(_=z(this,kt).config).onError)==null?void 0:x.call(_,P,n,this.state.context,this)),await((O=(k=this.options).onError)==null?void 0:O.call(k,P,n,this.state.context)),await((C=(M=z(this,kt).config).onSettled)==null?void 0:C.call(M,void 0,P,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,void 0,P,n,this.state.context)),P}finally{_t(this,tr,ds).call(this,{type:"error",error:P})}}finally{z(this,kt).runNext(this)}}},er=new WeakMap,kt=new WeakMap,ki=new WeakMap,tr=new WeakSet,ds=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{z(this,er).forEach(s=>{s.onMutationUpdate(n)}),z(this,kt).notify({mutation:this,type:"updated",action:n})})},E1);function bD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var br,Rn,ic,x1,RD=(x1=class extends hh{constructor(e={}){super();_e(this,br);_e(this,Rn);_e(this,ic);this.config=e,le(this,br,new Set),le(this,Rn,new Map),le(this,ic,0)}build(e,n,r){const s=new AD({mutationCache:this,mutationId:++Bc(this,ic)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,br).add(e);const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n);r?r.push(e):z(this,Rn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,br).delete(e)){const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,Rn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=du(e);if(typeof n=="string"){const s=(r=z(this,Rn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{z(this,br).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,br).clear(),z(this,Rn).clear()})}getAll(){return Array.from(z(this,br))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_w(n,r))}findAll(e={}){return this.getAll().filter(n=>_w(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(An))))}},br=new WeakMap,Rn=new WeakMap,ic=new WeakMap,x1);function du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Tw(t){return{onFetch:(e,n)=>{var d,h,p,m,T;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=sS(e.options,e.fetchOptions),_=async(x,k,O)=>{if(v)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};return w(N),N})(),S=await E(C),{maxPages:R}=e.options,P=O?gD:mD;return{pages:P(x.pages,S,R),pageParams:P(x.pageParams,k,R)}};if(s&&i.length){const x=s==="backward",k=x?PD:Sw,O={pages:i,pageParams:o},M=k(r,O);a=await _(O,M,x)}else{const x=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:Sw(r,a);if(l>0&&k==null)break;a=await _(a,k),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Sw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,_s,Es,$o,zo,xs,Bo,Ho,T1,kD=(T1=class{constructor(t={}){_e(this,Be);_e(this,_s);_e(this,Es);_e(this,$o);_e(this,zo);_e(this,xs);_e(this,Bo);_e(this,Ho);le(this,Be,t.queryCache||new CD),le(this,_s,t.mutationCache||new RD),le(this,Es,t.defaultOptions||{}),le(this,$o,new Map),le(this,zo,new Map),le(this,xs,0)}mount(){Bc(this,xs)._++,z(this,xs)===1&&(le(this,Bo,iS.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onFocus())})),le(this,Ho,vd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onOnline())})))}unmount(){var t,e;Bc(this,xs)._--,z(this,xs)===0&&((t=z(this,Bo))==null||t.call(this),le(this,Bo,void 0),(e=z(this,Ho))==null||e.call(this),le(this,Ho,void 0))}isFetching(t){return z(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,_s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(im(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=cD(e,i);if(o!==void 0)return z(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>z(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Be);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Be);return Dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dt.batch(()=>z(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Dt.batch(()=>(z(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dt.batch(()=>z(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Be).build(this,e);return n.isStaleByTime(im(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=Tw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=Tw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vd.isOnline()?z(this,_s).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Be)}getMutationCache(){return z(this,_s)}getDefaultOptions(){return z(this,Es)}setDefaultOptions(t){le(this,Es,t)}setQueryDefaults(t,e){z(this,$o).set(Bl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,$o).values()],n={};return e.forEach(r=>{Hl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,zo).set(Bl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,zo).values()],n={};return e.forEach(r=>{Hl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Es).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Es).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Be).clear(),z(this,_s).clear()}},Be=new WeakMap,_s=new WeakMap,Es=new WeakMap,$o=new WeakMap,zo=new WeakMap,xs=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,T1),ND=I.createContext(void 0),DD=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(ND.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const Iw="popstate";function OD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return am("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:dS(s)}return LD(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MD(){return Math.random().toString(36).substr(2,8)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function am(t,e,n,r){return n===void 0&&(n=null),Wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:n,key:e&&e.key||r||MD()})}function dS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Is.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Is.Pop;let w=d(),E=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:E})}function p(w,E){a=Is.Push;let _=am(v.location,w,E);u=d()+1;let x=Cw(_,u),k=v.createHref(_);try{o.pushState(x,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}i&&l&&l({action:a,location:v.location,delta:1})}function m(w,E){a=Is.Replace;let _=am(v.location,w,E);u=d();let x=Cw(_,u),k=v.createHref(_);o.replaceState(x,"",k),i&&l&&l({action:a,location:v.location,delta:0})}function T(w){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:dS(w);return _=_.replace(/ $/,"%20"),Ze(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let v={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Iw,h),l=w,()=>{s.removeEventListener(Iw,h),l=null}},createHref(w){return e(s,w)},createURL:T,encodeLocation(w){let E=T(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(w){return o.go(w)}};return v}var Aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Aw||(Aw={}));function VD(t,e,n){return n===void 0&&(n="/"),jD(t,e,n,!1)}function jD(t,e,n,r){let s=typeof e=="string"?pa(e):e,i=pS(s.pathname||"/",n);if(i==null)return null;let o=hS(t);FD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=YD(i);a=KD(o[l],u,r)}return a}function hS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hS(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:qD(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of fS(i.path))s(i,o,l)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UD=/^:[\w-]+$/,$D=3,zD=2,BD=1,HD=10,WD=-2,bw=t=>t==="*";function qD(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=WD),e&&(r+=zD),n.filter(s=>!bw(s)).reduce((s,i)=>s+(UD.test(i)?$D:i===""?BD:HD),r)}function GD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function KD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Oi([i,h.pathname]),pathnameBase:eO(Oi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Oi([i,h.pathnameBase]))}return o}function Rw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?u[p]=void 0:u[p]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function QD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pa(t):t;return{pathname:n?n.startsWith("/")?n:JD(n,e):e,search:tO(r),hash:nO(s)}}function JD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mS(t,e){let n=ZD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pa(t):(s=Wl({},t),Ze(!s.pathname||!s.pathname.includes("?"),Ff("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Ff("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Ff("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=XD(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),eO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yS=["post","put","patch","delete"];new Set(yS);const sO=["get",...yS];new Set(sO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}const Kg=I.createContext(null),iO=I.createContext(null),pc=I.createContext(null),ph=I.createContext(null),ni=I.createContext({outlet:null,matches:[],isDataRoute:!1}),vS=I.createContext(null);function mc(){return I.useContext(ph)!=null}function gc(){return mc()||Ze(!1),I.useContext(ph).location}function wS(t){I.useContext(pc).static||I.useLayoutEffect(t)}function ri(){let{isDataRoute:t}=I.useContext(ni);return t?wO():oO()}function oO(){mc()||Ze(!1);let t=I.useContext(Kg),{basename:e,future:n,navigator:r}=I.useContext(pc),{matches:s}=I.useContext(ni),{pathname:i}=gc(),o=JSON.stringify(mS(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return wS(()=>{a.current=!0}),I.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=gS(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function aO(){let{matches:t}=I.useContext(ni),e=t[t.length-1];return e?e.params:{}}function lO(t,e){return cO(t,e)}function cO(t,e,n,r){mc()||Ze(!1);let{navigator:s}=I.useContext(pc),{matches:i}=I.useContext(ni),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=gc(),d;if(e){var h;let w=typeof e=="string"?pa(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Ze(!1),d=w}else d=u;let p=d.pathname||"/",m=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=VD(t,{pathname:m}),v=pO(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&v?I.createElement(ph.Provider,{value:{location:ql({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},v):v}function uO(){let t=vO(),e=rO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const dO=I.createElement(uO,null);class hO extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(ni.Provider,{value:this.props.routeContext},I.createElement(vS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fO(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(Kg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(ni.Provider,{value:e},r)}function pO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,T=!1,v=null,w=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||dO,l&&(u<0&&p===0?(T=!0,w=null):u===p&&(T=!0,w=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),_=()=>{let x;return m?x=v:T?x=w:h.route.Component?x=I.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,I.createElement(fO,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?I.createElement(hO,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var _S=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_S||{}),wd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wd||{});function mO(t){let e=I.useContext(Kg);return e||Ze(!1),e}function gO(t){let e=I.useContext(iO);return e||Ze(!1),e}function yO(t){let e=I.useContext(ni);return e||Ze(!1),e}function ES(t){let e=yO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function vO(){var t;let e=I.useContext(vS),n=gO(wd.UseRouteError),r=ES(wd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wO(){let{router:t}=mO(_S.UseNavigateStable),e=ES(wd.UseNavigateStable),n=I.useRef(!1);return wS(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ql({fromRouteId:e},i)))},[t,e])}function _O(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function EO(t){let{to:e,replace:n,state:r,relative:s}=t;mc()||Ze(!1);let{future:i,static:o}=I.useContext(pc),{matches:a}=I.useContext(ni),{pathname:l}=gc(),u=ri(),d=gS(e,mS(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return I.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function wi(t){Ze(!1)}function xO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Is.Pop,navigator:i,static:o=!1,future:a}=t;mc()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:i,static:o,future:ql({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pa(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:T="default"}=r,v=I.useMemo(()=>{let w=pS(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:m,key:T},navigationType:s}},[l,d,h,p,m,T,s]);return v==null?null:I.createElement(pc.Provider,{value:u},I.createElement(ph.Provider,{children:n,value:v}))}function TO(t){let{children:e,location:n}=t;return lO(lm(e),n)}new Promise(()=>{});function lm(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,lm(r.props.children,i));return}r.type!==wi&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function SO(t,e){let n=cm(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const IO="6";try{window.__reactRouterVersion=IO}catch{}const CO="startTransition",Pw=M1[CO];function AO(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=OD({window:s,v5Compat:!0}));let o=i.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=I.useCallback(h=>{u&&Pw?Pw(()=>l(h)):l(h)},[l,u]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.useEffect(()=>_O(r),[r]),I.createElement(xO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var kw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kw||(kw={}));var Nw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nw||(Nw={}));function bO(t){let e=I.useRef(cm(t)),n=I.useRef(!1),r=gc(),s=I.useMemo(()=>SO(r.search,n.current?null:e.current),[r.search]),i=ri(),o=I.useCallback((a,l)=>{const u=cm(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const RO=()=>{};var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new kO;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NO=function(t){const e=xS(t);return TS.encodeByteArray(e,!0)},_d=function(t){return NO(t).replace(/\./g,"")},SS=function(t){try{return TS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=()=>DO().__FIREBASE_DEFAULTS__,MO=()=>{if(typeof process>"u"||typeof Dw>"u")return;const t=Dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return RO()||OO()||MO()||LO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IS=t=>{var e,n;return(n=(e=mh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},CS=t=>{const e=IS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AS=()=>{var t;return(t=mh())==null?void 0:t.config},bS=t=>{var e;return(e=mh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_d(JSON.stringify(n)),_d(JSON.stringify(o)),""].join(".")}const vl={};function jO(){const t={prod:[],emulator:[]};for(const e of Object.keys(vl))vl[e]?t.emulator.push(e):t.prod.push(e);return t}function FO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ow=!1;function Yg(t,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||vl[t]===e||vl[t]||Ow)return;vl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=jO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ow=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=FO(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(w,v);const k=u();l(_,E),x.append(_,T,w,k),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function $O(){var e;const t=(e=mh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WO(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qO(){return!$O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GO(){try{return typeof indexedDB=="object"}catch{return!1}}function KO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new yr(s,a,r)}}function YO(t,e){return t.replace(XO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XO=/\{\$([^}]+)}/g;function JO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Mw(i)&&Mw(o)){if(!Ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZO(t,e){const n=new eM(t,e);return n.subscribe.bind(n)}class eM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Uf),s.error===void 0&&(s.error=Uf),s.complete===void 0&&(s.complete=Uf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sM(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rM(t){return t===_i?void 0:t}function sM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const oM={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},aM=pe.INFO,lM={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},cM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=aM,this._logHandler=cM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const uM=(t,e)=>e.some(n=>t instanceof n);let Lw,Vw;function dM(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hM(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PS=new WeakMap,um=new WeakMap,kS=new WeakMap,$f=new WeakMap,Jg=new WeakMap;function fM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PS.set(n,t)}).catch(()=>{}),Jg.set(e,t),e}function pM(t){if(um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}let dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mM(t){dm=t(dm)}function gM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zf(this),e,...n);return kS.set(r,e.sort?e.sort():[e]),Ms(r)}:hM().includes(t)?function(...e){return t.apply(zf(this),e),Ms(PS.get(this))}:function(...e){return Ms(t.apply(zf(this),e))}}function yM(t){return typeof t=="function"?gM(t):(t instanceof IDBTransaction&&pM(t),uM(t,dM())?new Proxy(t,dm):t)}function Ms(t){if(t instanceof IDBRequest)return fM(t);if($f.has(t))return $f.get(t);const e=yM(t);return e!==t&&($f.set(t,e),Jg.set(e,t)),e}const zf=t=>Jg.get(t);function vM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],Bf=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Bf.set(e,i),i}mM(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Fw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Xg("@firebase/app"),TM="@firebase/app-compat",SM="@firebase/analytics-compat",IM="@firebase/analytics",CM="@firebase/app-check-compat",AM="@firebase/app-check",bM="@firebase/auth",RM="@firebase/auth-compat",PM="@firebase/database",kM="@firebase/data-connect",NM="@firebase/database-compat",DM="@firebase/functions",OM="@firebase/functions-compat",MM="@firebase/installations",LM="@firebase/installations-compat",VM="@firebase/messaging",jM="@firebase/messaging-compat",FM="@firebase/performance",UM="@firebase/performance-compat",$M="@firebase/remote-config",zM="@firebase/remote-config-compat",BM="@firebase/storage",HM="@firebase/storage-compat",WM="@firebase/firestore",qM="@firebase/ai",GM="@firebase/firestore-compat",KM="firebase",QM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",YM={[hm]:"fire-core",[TM]:"fire-core-compat",[IM]:"fire-analytics",[SM]:"fire-analytics-compat",[AM]:"fire-app-check",[CM]:"fire-app-check-compat",[bM]:"fire-auth",[RM]:"fire-auth-compat",[PM]:"fire-rtdb",[kM]:"fire-data-connect",[NM]:"fire-rtdb-compat",[DM]:"fire-fn",[OM]:"fire-fn-compat",[MM]:"fire-iid",[LM]:"fire-iid-compat",[VM]:"fire-fcm",[jM]:"fire-fcm-compat",[FM]:"fire-perf",[UM]:"fire-perf-compat",[$M]:"fire-rc",[zM]:"fire-rc-compat",[BM]:"fire-gcs",[HM]:"fire-gcs-compat",[WM]:"fire-fst",[GM]:"fire-fst-compat",[qM]:"fire-vertex","fire-js":"fire-js",[KM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,XM=new Map,pm=new Map;function Uw(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(pm.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,t);for(const n of Ed.values())Uw(n,t);for(const n of XM.values())Uw(n,t);return!0}function gh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new yc("app","Firebase",JM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=QM;function NS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:fm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=AS()),!n)throw Ls.create("no-options");const i=Ed.get(s);if(i){if(Ws(n,i.options)&&Ws(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const o=new iM(s);for(const l of pm.values())o.addComponent(l);const a=new ZM(n,r,o);return Ed.set(s,a),a}function Zg(t=fm){const e=Ed.get(t);if(!e&&t===fm&&AS())return NS();if(!e)throw Ls.create("no-app",{appName:t});return e}function ar(t,e,n){let r=YM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(o.join(" "));return}Bi(new qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-heartbeat-database",tL=1,Gl="firebase-heartbeat-store";let Hf=null;function DS(){return Hf||(Hf=vM(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Hf}async function nL(t){try{const n=(await DS()).transaction(Gl),r=await n.objectStore(Gl).get(OS(t));return await n.done,r}catch(e){if(e instanceof yr)Hr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function $w(t,e){try{const r=(await DS()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,OS(t)),await r.done}catch(n){if(n instanceof yr)Hr.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function OS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,sL=30;class iL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>sL){const o=lL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zw(),{heartbeatsToSend:r,unsentEntries:s}=oL(this._heartbeatsCache.heartbeats),i=_d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hr.warn(n),""}}}function zw(){return new Date().toISOString().substring(0,10)}function oL(t,e=rL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Bw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GO()?KO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bw(t){return _d(JSON.stringify({version:2,heartbeats:t})).length}function lL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){Bi(new qs("platform-logger",e=>new EM(e),"PRIVATE")),Bi(new qs("heartbeat",e=>new iL(e),"PRIVATE")),ar(hm,Fw,t),ar(hm,Fw,"esm2020"),ar("fire-js","")}cL("");function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=MS,LS=new yc("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Xg("@firebase/auth");function dL(t,...e){xd.logLevel<=pe.WARN&&xd.warn(`Auth (${Zi}): ${t}`,...e)}function Ou(t,...e){xd.logLevel<=pe.ERROR&&xd.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw ty(t,...e)}function Ln(t,...e){return ty(t,...e)}function ey(t,e,n){const r={...uL(),[e]:n};return new yc("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(t,"argument-error"),ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ty(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LS.create(t,...e)}function re(t,e,...n){if(!t)throw ty(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function Wr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fL(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||BO()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=UO()||HO()}get(){return pL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vL=new wc(3e4,6e4);function si(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ii(t,e,n,r,s={}){return jS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return zO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(u.credentials="include"),VS.fetch()(await FS(t,t.config.apiHost,n,a),u)})}async function jS(t,e,n){t._canInitEmulator=!1;const r={...gL,...e};try{const s=new _L(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ey(t,d,u);_n(t,d)}}catch(s){if(s instanceof yr)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function _c(t,e,n,r,s={}){const i=await ii(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?ny(t.config,s):`${t.config.apiScheme}://${s}`;return yL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function wL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),vL.get())})}}function hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ln(t,e,r);return s.customData._tokenResponse=n,s}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class EL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xL(t,e){return ii(t,"GET","/v2/recaptchaConfig",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function Td(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SL(t,e=!1){const n=et(t),r=await n.getIdToken(e),s=ry(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wl(Wf(s.auth_time)),issuedAtTime:wl(Wf(s.iat)),expirationTime:wl(Wf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wf(t){return Number(t)*1e3}function ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const s=SS(n);return s?JSON.parse(s):(Ou("Failed to decode base64 JWT payload"),null)}catch(s){return Ou("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qw(t){const e=ry(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&IL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Kl(t,Td(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?US(s.providerUserInfo):[],o=bL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function AL(t){const e=et(t);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function US(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){const n=await jS(t,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await FS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(l.credentials="include"),VS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PL(t,e){return ii(t,"POST","/v2/accounts:revokeToken",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=qw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await RL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Do;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new CL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SL(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Kl(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:T,stsTokenManager:v}=n;re(h&&v,e,"internal-error");const w=Do.fromJSON(this.name,v);re(typeof h=="string",e,"internal-error"),us(r,e.name),us(s,e.name),re(typeof p=="boolean",e,"internal-error"),re(typeof m=="boolean",e,"internal-error"),us(i,e.name),us(o,e.name),us(a,e.name),us(l,e.name),us(u,e.name),us(d,e.name);const E=new Nn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:d});return T&&Array.isArray(T)&&(E.providerData=T.map(_=>({..._}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Do;s.updateFromServerResponse(n);const i=new Nn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?US(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Do;a.updateFromIdToken(r);const l=new Nn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function Or(t){Wr(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const Kw=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Td(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Or(Kw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Or(Kw);const o=Mu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Td(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Nn._fromGetAccountInfoResponse(e,p,d)}else h=Nn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Oo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(KS(e))return"Webos";if(BS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(qS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zS(t=Rt()){return/firefox\//i.test(t)}function BS(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=Rt()){return/crios\//i.test(t)}function WS(t=Rt()){return/iemobile/i.test(t)}function qS(t=Rt()){return/android/i.test(t)}function GS(t=Rt()){return/blackberry/i.test(t)}function KS(t=Rt()){return/webos/i.test(t)}function sy(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=Rt()){var e;return sy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NL(){return WO()&&document.documentMode===10}function QS(t=Rt()){return sy(t)||qS(t)||KS(t)||GS(t)||/windows phone/i.test(t)||WS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e=[]){let n;switch(t){case"Browser":n=Qw(Rt());break;case"Worker":n=`${Qw(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e={}){return ii(t,"GET","/v2/passwordPolicy",si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=6;class LL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ML,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Td(this,{idToken:e}),r=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(Lr(this));const n=e?et(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OL(this),n=new LL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&dL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oi(t){return et(t)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZO(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jL(t){yh=t}function XS(t){return yh.loadJS(t)}function FL(){return yh.recaptchaEnterpriseScript}function UL(){return yh.gapiScript}function $L(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zL{constructor(){this.enterprise=new BL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HL="recaptcha-enterprise",JS="NO_RECAPTCHA";class WL{constructor(e){this.type=HL,this.auth=oi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new EL(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ww(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(JS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FL();l.length!==0&&(l+=a),XS(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Xw(t,e,n,r=!1,s=!1){const i=new WL(t);let o;if(s)o=JS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ym(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Xw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Xw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){const n=gh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ws(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function GL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KL(t,e,n){const r=oi(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ZS(e),{host:o,port:a}=QL(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ws(u,r.config.emulator)&&Ws(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ji(o)?(Qg(`${i}//${o}${l}`),Yg("Auth",!0)):YL()}function ZS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QL(t){const e=ZS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Jw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Jw(o)}}}function Jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function XL(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return _c(t,"POST","/v1/accounts:signInWithPassword",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}async function eV(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends iy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,n,"signInWithPassword",JL);case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,r,"signUpPassword",XL);case"emailLink":return eV(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return _c(t,"POST","/v1/accounts:signInWithIdp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class Hi extends iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rV(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class oy{constructor(e){const n=nl(rl(e)),r=n.apiKey??null,s=n.oobCode??null,i=nV(n.mode??null);re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rV(e);try{return new oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oy.parseLink(n);return re(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ec{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ec{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Hi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return _c(t,"POST","/v1/accounts:signUp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Nn._fromIdTokenResponse(e,r,s),o=Zw(r);return new Wi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Zw(r);return new Wi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends yr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Id(e,n,r,s)}}function eI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(t,i,e,r):i})}async function iV(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e,n=!1){const{auth:r}=t;if(zt(r.app))return Promise.reject(Lr(r));const s="reauthenticate";try{const i=await Kl(t,eI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=ry(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Wi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e,n=!1){if(zt(t.app))return Promise.reject(Lr(t));const r="signIn",s=await eI(t,r,e),i=await Wi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function aV(t,e){return tI(oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t){const e=oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lV(t,e,n){if(zt(t.app))return Promise.reject(Lr(t));const r=oi(t),o=await ym(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nI(t),l}),a=await Wi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cV(t,e,n){return zt(t.app)?Promise.reject(Lr(t)):aV(et(t),ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nI(t),r})}function uV(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function dV(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function hV(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function fV(t){return et(t).signOut()}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1e3,mV=10;class sI extends rI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);NL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sI.type="LOCAL";const gV=sI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends rI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iI.type="SESSION";const oI=iI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await yV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=ly("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function wV(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function _V(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function xV(){return aI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firebaseLocalStorageDb",TV=1,Ad="firebaseLocalStorage",cI="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function SV(){const t=indexedDB.deleteDatabase(lI);return new xc(t).toPromise()}function vm(){const t=indexedDB.open(lI,TV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ad,{keyPath:cI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),await SV(),e(await vm()))})})}async function e_(t,e,n){const r=wh(t,!0).put({[cI]:e,value:n});return new xc(r).toPromise()}async function IV(t,e){const n=wh(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function t_(t,e){const n=wh(t,!0).delete(e);return new xc(n).toPromise()}const CV=800,AV=3;class uI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(xV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await _V(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await e_(e,Cd,"1"),await t_(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wh(s,!1).getAll();return new xc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uI.type="LOCAL";const bV=uI;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e){return e?Or(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RV(t){return tI(t.auth,new cy(t),t.bypassAuthState)}function PV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),oV(n,new cy(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),iV(n,new cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return PV;default:_n(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new wc(2e3,1e4);async function fI(t,e,n){if(zt(t.app))return Promise.reject(Ln(t,"operation-not-supported-in-this-environment"));const r=oi(t);hL(t,e,ay);const s=dI(r,n);return new Si(r,"signInViaPopup",e,s).executeNotNull()}class Si extends hI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}Si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",Lu=new Map;class OV extends hI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const r=await MV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MV(t,e){const n=jV(e),r=VV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LV(t,e){Lu.set(t._key(),e)}function VV(t){return Or(t._redirectPersistence)}function jV(t){return Mu(DV,t.config.apiKey,t.name)}async function FV(t,e,n=!1){if(zt(t.app))return Promise.reject(Lr(t));const r=oi(t),s=dI(r,e),o=await new OV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=10*60*1e3;class $V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UV&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function qV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BV(t);for(const n of e)try{if(GV(n))return}catch{}_n(t,"unauthorized-domain")}function GV(t){const e=mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WV.test(n))return!1;if(HV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new wc(3e4,6e4);function r_(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QV(t){return new Promise((e,n)=>{var s,i,o;function r(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(Ln(t,"network-request-failed"))},timeout:KV.get()})}if((i=(s=lr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=lr().gapi)!=null&&o.load)r();else{const a=$L("iframefcb");return lr()[a]=()=>{gapi.load?r():n(Ln(t,"network-request-failed"))},XS(`${UL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function YV(t){return Vu=Vu||QV(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new wc(5e3,15e3),JV="__/auth/iframe",ZV="emulator/auth/iframe",e4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n4(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ny(e,ZV):`https://${t.config.authDomain}/${JV}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},s=t4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vc(r).slice(1)}`}async function r4(t){const e=await YV(t),n=lr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:n4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=lr().setTimeout(()=>{i(o)},XV.get());function l(){lr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,o4=600,a4="_blank",l4="http://localhost";class s_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(t,e,n,r=i4,s=o4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...s4,width:r.toString(),height:s.toString(),top:i,left:o},u=Rt().toLowerCase();n&&(a=HS(u)?a4:n),zS(u)&&(e=e||l4,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,T])=>`${p}${m}=${T},`,"");if(kL(u)&&a!=="_self")return u4(e||"",a),new s_(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new s_(h)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="__/auth/handler",h4="emulator/auth/handler",f4=encodeURIComponent("fac");async function i_(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:s};if(e instanceof ay){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ec){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${f4}=${encodeURIComponent(l)}`:"";return`${p4(t)}?${vc(a).slice(1)}${u}`}function p4({config:t}){return t.emulator?ny(t,h4):`https://${t.authDomain}/${d4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oI,this._completeRedirectFn=FV,this._overrideRedirectResult=LV}async _openPopup(e,n,r,s){var o;Wr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await i_(e,n,r,mm(),s);return c4(e,i,ly())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await i_(e,n,r,mm(),s);return wV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r4(e),r=new $V(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qf,{type:qf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qf];i!==void 0&&n(!!i),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QS()||BS()||sy()}}const g4=m4;var o_="@firebase/auth",a_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(t){Bi(new qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(t)},u=new VL(r,s,i,l);return GL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new qs("auth-internal",e=>{const n=oi(e.getProvider("auth").getImmediate());return(r=>new y4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(o_,a_,v4(t)),ar(o_,a_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=5*60,E4=bS("authIdTokenMaxAge")||_4;let l_=null;const x4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E4)return;const s=n==null?void 0:n.token;l_!==s&&(l_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function T4(t=Zg()){const e=gh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qL(t,{popupRedirectResolver:g4,persistence:[bV,gV,oI]}),r=bS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=x4(i.toString());dV(n,o,()=>o(n.currentUser)),uV(n,a=>o(a))}}const s=IS("auth");return s&&KL(n,`http://${s}`),n}function S4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ln("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",S4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var I4="firebase",C4="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(I4,C4,"app");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,mI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(P,N,D){for(var b=Array(arguments.length-2),j=2;j<arguments.length;j++)b[j-2]=arguments[j];return S.prototype[N].apply(P,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,R){R||(R=0);const P=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)P[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)P[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],N=C.g[2];let D=C.g[3],b;b=S+(D^R&(N^D))+P[0]+3614090360&4294967295,S=R+(b<<7&4294967295|b>>>25),b=D+(N^S&(R^N))+P[1]+3905402710&4294967295,D=S+(b<<12&4294967295|b>>>20),b=N+(R^D&(S^R))+P[2]+606105819&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(S^N&(D^S))+P[3]+3250441966&4294967295,R=N+(b<<22&4294967295|b>>>10),b=S+(D^R&(N^D))+P[4]+4118548399&4294967295,S=R+(b<<7&4294967295|b>>>25),b=D+(N^S&(R^N))+P[5]+1200080426&4294967295,D=S+(b<<12&4294967295|b>>>20),b=N+(R^D&(S^R))+P[6]+2821735955&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(S^N&(D^S))+P[7]+4249261313&4294967295,R=N+(b<<22&4294967295|b>>>10),b=S+(D^R&(N^D))+P[8]+1770035416&4294967295,S=R+(b<<7&4294967295|b>>>25),b=D+(N^S&(R^N))+P[9]+2336552879&4294967295,D=S+(b<<12&4294967295|b>>>20),b=N+(R^D&(S^R))+P[10]+4294925233&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(S^N&(D^S))+P[11]+2304563134&4294967295,R=N+(b<<22&4294967295|b>>>10),b=S+(D^R&(N^D))+P[12]+1804603682&4294967295,S=R+(b<<7&4294967295|b>>>25),b=D+(N^S&(R^N))+P[13]+4254626195&4294967295,D=S+(b<<12&4294967295|b>>>20),b=N+(R^D&(S^R))+P[14]+2792965006&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(S^N&(D^S))+P[15]+1236535329&4294967295,R=N+(b<<22&4294967295|b>>>10),b=S+(N^D&(R^N))+P[1]+4129170786&4294967295,S=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(S^R))+P[6]+3225465664&4294967295,D=S+(b<<9&4294967295|b>>>23),b=N+(S^R&(D^S))+P[11]+643717713&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^S&(N^D))+P[0]+3921069994&4294967295,R=N+(b<<20&4294967295|b>>>12),b=S+(N^D&(R^N))+P[5]+3593408605&4294967295,S=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(S^R))+P[10]+38016083&4294967295,D=S+(b<<9&4294967295|b>>>23),b=N+(S^R&(D^S))+P[15]+3634488961&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^S&(N^D))+P[4]+3889429448&4294967295,R=N+(b<<20&4294967295|b>>>12),b=S+(N^D&(R^N))+P[9]+568446438&4294967295,S=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(S^R))+P[14]+3275163606&4294967295,D=S+(b<<9&4294967295|b>>>23),b=N+(S^R&(D^S))+P[3]+4107603335&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^S&(N^D))+P[8]+1163531501&4294967295,R=N+(b<<20&4294967295|b>>>12),b=S+(N^D&(R^N))+P[13]+2850285829&4294967295,S=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(S^R))+P[2]+4243563512&4294967295,D=S+(b<<9&4294967295|b>>>23),b=N+(S^R&(D^S))+P[7]+1735328473&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^S&(N^D))+P[12]+2368359562&4294967295,R=N+(b<<20&4294967295|b>>>12),b=S+(R^N^D)+P[5]+4294588738&4294967295,S=R+(b<<4&4294967295|b>>>28),b=D+(S^R^N)+P[8]+2272392833&4294967295,D=S+(b<<11&4294967295|b>>>21),b=N+(D^S^R)+P[11]+1839030562&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^S)+P[14]+4259657740&4294967295,R=N+(b<<23&4294967295|b>>>9),b=S+(R^N^D)+P[1]+2763975236&4294967295,S=R+(b<<4&4294967295|b>>>28),b=D+(S^R^N)+P[4]+1272893353&4294967295,D=S+(b<<11&4294967295|b>>>21),b=N+(D^S^R)+P[7]+4139469664&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^S)+P[10]+3200236656&4294967295,R=N+(b<<23&4294967295|b>>>9),b=S+(R^N^D)+P[13]+681279174&4294967295,S=R+(b<<4&4294967295|b>>>28),b=D+(S^R^N)+P[0]+3936430074&4294967295,D=S+(b<<11&4294967295|b>>>21),b=N+(D^S^R)+P[3]+3572445317&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^S)+P[6]+76029189&4294967295,R=N+(b<<23&4294967295|b>>>9),b=S+(R^N^D)+P[9]+3654602809&4294967295,S=R+(b<<4&4294967295|b>>>28),b=D+(S^R^N)+P[12]+3873151461&4294967295,D=S+(b<<11&4294967295|b>>>21),b=N+(D^S^R)+P[15]+530742520&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^S)+P[2]+3299628645&4294967295,R=N+(b<<23&4294967295|b>>>9),b=S+(N^(R|~D))+P[0]+4096336452&4294967295,S=R+(b<<6&4294967295|b>>>26),b=D+(R^(S|~N))+P[7]+1126891415&4294967295,D=S+(b<<10&4294967295|b>>>22),b=N+(S^(D|~R))+P[14]+2878612391&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~S))+P[5]+4237533241&4294967295,R=N+(b<<21&4294967295|b>>>11),b=S+(N^(R|~D))+P[12]+1700485571&4294967295,S=R+(b<<6&4294967295|b>>>26),b=D+(R^(S|~N))+P[3]+2399980690&4294967295,D=S+(b<<10&4294967295|b>>>22),b=N+(S^(D|~R))+P[10]+4293915773&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~S))+P[1]+2240044497&4294967295,R=N+(b<<21&4294967295|b>>>11),b=S+(N^(R|~D))+P[8]+1873313359&4294967295,S=R+(b<<6&4294967295|b>>>26),b=D+(R^(S|~N))+P[15]+4264355552&4294967295,D=S+(b<<10&4294967295|b>>>22),b=N+(S^(D|~R))+P[6]+2734768916&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~S))+P[13]+1309151649&4294967295,R=N+(b<<21&4294967295|b>>>11),b=S+(N^(R|~D))+P[4]+4149444226&4294967295,S=R+(b<<6&4294967295|b>>>26),b=D+(R^(S|~N))+P[11]+3174756917&4294967295,D=S+(b<<10&4294967295|b>>>22),b=N+(S^(D|~R))+P[2]+718787259&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,P=this.C;let N=this.h,D=0;for(;D<S;){if(N==0)for(;D<=R;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<S;)if(P[N++]=C.charCodeAt(D++),N==this.blockSize){s(this,P),N=0;break}}else for(;D<S;)if(P[N++]=C[D++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)C[S++]=this.g[R]>>>P&255;return C};function i(C,S){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function o(C,S){this.h=S;const R=[];let P=!0;for(let N=C.length-1;N>=0;N--){const D=C[N]|0;P&&D==S||(R[N]=D,P=!1)}this.g=R}var a={};function l(C){return-128<=C&&C<128?i(C,function(S){return new o([S|0],S<0?-1:0)}):new o([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return w(u(-C));const S=[];let R=1;for(let P=0;C>=R;P++)S[P]=C/R|0,R*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return w(d(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(S,8));let P=h;for(let D=0;D<C.length;D+=8){var N=Math.min(8,C.length-D);const b=parseInt(C.substring(D,D+N),S);N<8?(N=u(Math.pow(S,N)),P=P.j(N).add(u(b))):(P=P.j(R),P=P.add(u(b)))}return P}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);C+=(P>=0?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(v(this))return"-"+w(this).toString(C);const S=u(Math.pow(C,6));var R=this;let P="";for(;;){const N=k(R,S).g;R=E(R,N.j(S));let D=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,T(R))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=E(this,C),v(C)?-1:T(C)?0:1};function w(C){const S=C.g.length,R=[];for(let P=0;P<S;P++)R[P]=~C.g[P];return new o(R,~C.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let P=0;for(let N=0;N<=S;N++){let D=P+(this.i(N)&65535)+(C.i(N)&65535),b=(D>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=b>>>16,D&=65535,b&=65535,R[N]=b<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(C,S){return C.add(w(S))}t.j=function(C){if(T(this)||T(C))return h;if(v(this))return v(C)?w(this).j(w(C)):w(w(this).j(C));if(v(C))return w(this.j(w(C)));if(this.l(m)<0&&C.l(m)<0)return u(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<C.g.length;N++){const D=this.i(P)>>>16,b=this.i(P)&65535,j=C.i(N)>>>16,$=C.i(N)&65535;R[2*P+2*N]+=b*$,_(R,2*P+2*N),R[2*P+2*N+1]+=D*$,_(R,2*P+2*N+1),R[2*P+2*N+1]+=b*j,_(R,2*P+2*N+1),R[2*P+2*N+2]+=D*j,_(R,2*P+2*N+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new o(R,0)};function _(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function x(C,S){this.g=C,this.h=S}function k(C,S){if(T(S))throw Error("division by zero");if(T(C))return new x(h,h);if(v(C))return S=k(w(C),S),new x(w(S.g),w(S.h));if(v(S))return S=k(C,w(S)),new x(w(S.g),S.h);if(C.g.length>30){if(v(C)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,P=S;P.l(C)<=0;)R=O(R),P=O(P);var N=M(R,1),D=M(P,1);for(P=M(P,2),R=M(R,2);!T(P);){var b=D.add(P);b.l(C)<=0&&(N=N.add(R),D=b),P=M(P,1),R=M(R,1)}return S=E(C,N.j(S)),new x(N,S)}for(N=h;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=u(R),b=D.j(S);v(b)||b.l(C)>0;)R-=P,D=u(R),b=D.j(S);T(D)&&(D=p),N=N.add(D),C=E(C,b)}return new x(N,C)}t.B=function(C){return k(this,C).h},t.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)&C.i(P);return new o(R,this.h&C.h)},t.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)|C.i(P);return new o(R,this.h|C.h)},t.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)^C.i(P);return new o(R,this.h^C.h)};function O(C){const S=C.g.length+1,R=[];for(let P=0;P<S;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(R,C.h)}function M(C,S){const R=S>>5;S%=32;const P=C.g.length-R,N=[];for(let D=0;D<P;D++)N[D]=S>0?C.i(D+R)>>>S|C.i(D+R+1)<<32-S:C.i(D+R);return new o(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Vs=o}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gI,sl,yI,ju,wm,vI,wI,_I;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var f=0;f<c.length;++f){var y=c[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var y=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in y))break e;y=y[L]}c=c[c.length-1],A=y[c],f=f(A),f!=A&&f!=null&&e(y,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var y=[],A;for(A in f)Object.prototype.hasOwnProperty.call(f,A)&&y.push([A,f[A]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,y){return c.call.apply(c.bind,arguments)}function u(c,f,y){return u=l,u.apply(null,arguments)}function d(c,f){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,f){function y(){}y.prototype=f.prototype,c.Z=f.prototype,c.prototype=new y,c.prototype.constructor=c,c.Ob=function(A,L,V){for(var K=Array(arguments.length-2),he=2;he<arguments.length;he++)K[he-2]=arguments[he];return f.prototype[L].apply(A,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function m(c){const f=c.length;if(f>0){const y=Array(f);for(let A=0;A<f;A++)y[A]=c[A];return y}return[]}function T(c,f){for(let A=1;A<arguments.length;A++){const L=arguments[A];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=c.length||0;const V=L.length||0;c.length=y+V;for(let K=0;K<V;K++)c[y+K]=L[K]}else c.push(L)}}class v{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function w(c){o.setTimeout(()=>{throw c},0)}function E(){var c=C;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class _{constructor(){this.h=this.g=null}add(f,y){const A=x.get();A.set(f,y),this.h?this.h.next=A:this.g=A,this.h=A}}var x=new v(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,C=new _,S=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(R)}};function R(){for(var c;c=E();){try{c.h.call(c.g)}catch(y){w(y)}var f=x;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}M=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};o.addEventListener("test",y,f),o.removeEventListener("test",y,f)}catch{}return c}();function b(c){return/^[\s\xa0]*$/.test(c)}function j(c,f){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(j,N),j.prototype.init=function(c,f){const y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(y=="mouseover"?f=c.fromElement:y=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(c,f,y,A,L){this.listener=c,this.proxy=null,this.src=f,this.type=y,this.capture=!!A,this.ha=L,this.key=++q,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function H(c,f,y){for(const A in c)f.call(y,c[A],A,c)}function Y(c,f){for(const y in c)f.call(void 0,c[y],y,c)}function ie(c){const f={};for(const y in c)f[y]=c[y];return f}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(c,f){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)c[y]=A[y];for(let V=0;V<Z.length;V++)y=Z[V],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,f,y,A,L){const V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);const K=Ke(c,f,A,L);return K>-1?(f=c[K],y||(f.fa=!1)):(f=new te(f,this.src,V,!!A,L),f.fa=y,c.push(f)),f};function Me(c,f){const y=f.type;if(y in c.g){var A=c.g[y],L=Array.prototype.indexOf.call(A,f,void 0),V;(V=L>=0)&&Array.prototype.splice.call(A,L,1),V&&(F(f),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Ke(c,f,y,A){for(let L=0;L<c.length;++L){const V=c[L];if(!V.da&&V.listener==f&&V.capture==!!y&&V.ha==A)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),zn={};function En(c,f,y,A,L){if(Array.isArray(f)){for(let V=0;V<f.length;V++)En(c,f[V],y,A,L);return null}return y=Zr(y),c&&c[$]?c.J(f,y,a(A)?!!A.capture:!!A,L):_r(c,f,y,!1,A,L)}function _r(c,f,y,A,L,V){if(!f)throw Error("Invalid event type");const K=a(L)?!!L.capture:!!L;let he=Jr(c);if(he||(c[ye]=he=new ce(c)),y=he.add(f,y,A,K,V),y.proxy)return y;if(A=Bn(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)D||(L=K),L===void 0&&(L=!1),c.addEventListener(f.toString(),A,L);else if(c.attachEvent)c.attachEvent(ci(f.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Bn(){function c(y){return f.call(c.src,c.listener,y)}const f=Aa;return c}function Er(c,f,y,A,L){if(Array.isArray(f))for(var V=0;V<f.length;V++)Er(c,f[V],y,A,L);else A=a(A)?!!A.capture:!!A,y=Zr(y),c&&c[$]?(c=c.i,V=String(f).toString(),V in c.g&&(f=c.g[V],y=Ke(f,y,A,L),y>-1&&(F(f[y]),Array.prototype.splice.call(f,y,1),f.length==0&&(delete c.g[V],c.h--)))):c&&(c=Jr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Ke(f,y,A,L)),(y=c>-1?f[c]:null)&&cn(y))}function cn(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[$])Me(f.i,c);else{var y=c.type,A=c.proxy;f.removeEventListener?f.removeEventListener(y,A,c.capture):f.detachEvent?f.detachEvent(ci(y),A):f.addListener&&f.removeListener&&f.removeListener(A),(y=Jr(f))?(Me(y,c),y.h==0&&(y.src=null,f[ye]=null)):F(c)}}}function ci(c){return c in zn?zn[c]:zn[c]="on"+c}function Aa(c,f){if(c.da)c=!0;else{f=new j(f,this);const y=c.listener,A=c.ha||c.src;c.fa&&cn(c),c=y.call(A,f)}return c}function Jr(c){return c=c[ye],c instanceof ce?c:null}var ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zr(c){return typeof c=="function"?c:(c[ui]||(c[ui]=function(f){return c.handleEvent(f)}),c[ui])}function Ve(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}h(Ve,P),Ve.prototype[$]=!0,Ve.prototype.removeEventListener=function(c,f,y,A){Er(this,c,f,y,A)};function lt(c,f){var y,A=c.G;if(A)for(y=[];A;A=A.G)y.push(A);if(c=c.M,A=f.type||f,typeof f=="string")f=new N(f,c);else if(f instanceof N)f.target=f.target||c;else{var L=f;f=new N(A,c),de(f,L)}L=!0;let V,K;if(y)for(K=y.length-1;K>=0;K--)V=f.g=y[K],L=Hn(V,A,!0,f)&&L;if(V=f.g=c,L=Hn(V,A,!0,f)&&L,L=Hn(V,A,!1,f)&&L,y)for(K=0;K<y.length;K++)V=f.g=y[K],L=Hn(V,A,!1,f)&&L}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const y=c.g[f];for(let A=0;A<y.length;A++)F(y[A]);delete c.g[f],c.h--}}this.G=null},Ve.prototype.J=function(c,f,y,A){return this.i.add(String(c),f,!1,y,A)},Ve.prototype.K=function(c,f,y,A){return this.i.add(String(c),f,!0,y,A)};function Hn(c,f,y,A){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let V=0;V<f.length;++V){const K=f[V];if(K&&!K.da&&K.capture==y){const he=K.listener,nt=K.ha||K.src;K.fa&&Me(c.i,K),L=he.call(nt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Pc(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function Wn(c){c.g=Pc(()=>{c.g=null,c.i&&(c.i=!1,Wn(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class zh extends P{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(c){P.call(this),this.h=c,this.g={}}h(di,P);var Pt=[];function xr(c){H(c.g,function(f,y){this.g.hasOwnProperty(y)&&cn(f)},c),c.g={}}di.prototype.N=function(){di.Z.N.call(this),xr(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=o.JSON.stringify,Bh=o.JSON.parse,no=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function kc(){}function Ra(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qn(){N.call(this,"d")}h(qn,N);function ro(){N.call(this,"c")}h(ro,N);var Vt={},Nc=null;function so(){return Nc=Nc||new Ve}Vt.Ia="serverreachability";function Pa(c){N.call(this,Vt.Ia,c)}h(Pa,N);function es(c){const f=so();lt(f,new Pa(f))}Vt.STAT_EVENT="statevent";function Dc(c,f){N.call(this,Vt.STAT_EVENT,c),this.stat=f}h(Dc,N);function tt(c){const f=so();lt(f,new Dc(f,c))}Vt.Ja="timingevent";function xn(c,f){N.call(this,Vt.Ja,c),this.size=f}h(xn,N);function hi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function Ee(c,f,y,A,L,V){c.info(function(){if(c.g)if(V){var K="",he=V.split("&");for(let Ie=0;Ie<he.length;Ie++){var nt=he[Ie].split("=");if(nt.length>1){const ut=nt[0];nt=nt[1];const Qn=ut.split("_");K=Qn.length>=2&&Qn[1]=="type"?K+(ut+"="+nt+"&"):K+(ut+"=redacted&")}}}else K=null;else K=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+f+`
`+y+`
`+K})}function Ae(c,f,y,A,L,V,K){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+f+`
`+y+`
`+V+" "+K})}function ct(c,f,y,A){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Gn(c,y)+(A?" "+A:"")})}function Xt(c,f){c.info(function(){return"TIMEOUT: "+f})}ne.prototype.info=function(){};function Gn(c,f){if(!c.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var y=V[c];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let K=1;K<A.length;K++)A[K]=""}}}}return ba(V)}catch{return f}}var un={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Hh(){}h(Hh,kc),Hh.prototype.g=function(){return new XMLHttpRequest},Tn=new Hh;function ka(c){return encodeURIComponent(String(c))}function JC(c){var f=1;c=c.split(":");const y=[];for(;f>0&&c.length;)y.push(c.shift()),f--;return c.length&&y.push(c.join(":")),y}function ts(c,f,y,A){this.j=c,this.i=f,this.l=y,this.S=A||1,this.V=new di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zy}function Zy(){this.i=null,this.g="",this.h=!1}var ev={},Wh={};function qh(c,f,y){c.M=1,c.A=Mc(Kn(f)),c.u=y,c.R=!0,tv(c,null)}function tv(c,f){c.F=Date.now(),Oc(c),c.B=Kn(c.A);var y=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),pv(y.i,"t",A),c.C=0,y=c.j.L,c.h=new Zy,c.g=Nv(c.j,y?f:null,!c.u),c.P>0&&(c.O=new zh(u(c.Y,c,c.g),c.P)),f=c.V,y=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Pt[0]=L.toString()),L=Pt);for(let V=0;V<L.length;V++){const K=En(y,L[V],A||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=c.J?ie(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),es(),Ee(c.i,c.v,c.B,c.l,c.S,c.u)}ts.prototype.ba=function(c){c=c.target;const f=this.O;f&&ss(c)==3?f.j():this.Y(c)},ts.prototype.Y=function(c){try{if(c==this.g)e:{const he=ss(this.g),nt=this.g.ya(),Ie=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||Ev(this.g)))){this.K||he!=4||nt==7||(nt==8||Ie<=0?es(3):es(2)),Gh(this);var f=this.g.ca();this.X=f;var y=ZC(this);if(this.o=f==200,Ae(this.i,this.v,this.B,this.l,this.S,he,f),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var V=A;break t}}V=null}if(c=V)ct(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kh(this,c);else{this.o=!1,this.m=3,tt(12),fi(this),Na(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<y.length;)if(ut=eA(this,y),ut==Wh){he==4&&(this.m=4,tt(14),c=!1),ct(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==ev){this.m=4,tt(15),ct(this.i,this.l,y,"[Invalid Chunk]"),c=!1;break}else ct(this.i,this.l,ut,null),Kh(this,ut);if(nv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,tt(16),c=!1),this.o=this.o&&c,!c)ct(this.i,this.l,y,"[Invalid Chunked Response]"),fi(this),Na(this);else if(y.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),nf(K),K.P=!0,tt(11))}}else ct(this.i,this.l,y,null),Kh(this,y);he==4&&fi(this),this.o&&!this.K&&(he==4?bv(this.j,this):(this.o=!1,Oc(this)))}else pA(this.g),f==400&&y.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),fi(this),Na(this)}}}catch{}finally{}};function ZC(c){if(!nv(c))return c.g.la();const f=Ev(c.g);if(f==="")return"";let y="";const A=f.length,L=ss(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fi(c),Na(c),"";c.h.i=new o.TextDecoder}for(let V=0;V<A;V++)c.h.h=!0,y+=c.h.i.decode(f[V],{stream:!(L&&V==A-1)});return f.length=0,c.h.g+=y,c.C=0,c.h.g}function nv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function eA(c,f){var y=c.C,A=f.indexOf(`
`,y);return A==-1?Wh:(y=Number(f.substring(y,A)),isNaN(y)?ev:(A+=1,A+y>f.length?Wh:(f=f.slice(A,A+y),c.C=A+y,f)))}ts.prototype.cancel=function(){this.K=!0,fi(this)};function Oc(c){c.T=Date.now()+c.H,rv(c,c.H)}function rv(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(u(c.aa,c),f)}function Gh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}ts.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Xt(this.i,this.B),this.M!=2&&(es(),tt(17)),fi(this),this.m=2,Na(this)):rv(this,this.T-c)};function Na(c){c.j.I==0||c.K||bv(c.j,c)}function fi(c){Gh(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,xr(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Kh(c,f){try{var y=c.j;if(y.I!=0&&(y.g==c||Qh(y.h,c))){if(!c.L&&Qh(y.h,c)&&y.I==3){try{var A=y.Ba.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<c.F)Uc(y),jc(y);else break e;tf(y),tt(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=hi(u(y.Va,y),6e3));ov(y.h)<=1&&y.ta&&(y.ta=void 0)}else mi(y,11)}else if((c.L||y.g==c)&&Uc(y),!b(f))for(L=y.Ba.g.parse(f),f=0;f<L.length;f++){let Ie=L[f];const ut=Ie[0];if(!(ut<=y.K))if(y.K=ut,Ie=Ie[1],y.I==2)if(Ie[0]=="c"){y.M=Ie[1],y.ba=Ie[2];const Qn=Ie[3];Qn!=null&&(y.ka=Qn,y.j.info("VER="+y.ka));const gi=Ie[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const is=Ie[5];is!=null&&typeof is=="number"&&is>0&&(A=1.5*is,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const os=c.g;if(os){const zc=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var V=A.h;V.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Yh(V,V.h),V.h=null))}if(A.G){const rf=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;rf&&(A.wa=rf,Pe(A.J,A.G,rf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-c.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var K=c;if(A.na=kv(A,A.L?A.ba:null,A.W),K.L){av(A.h,K);var he=K,nt=A.O;nt&&(he.H=nt),he.D&&(Gh(he),Oc(he)),A.g=K}else Cv(A);y.i.length>0&&Fc(y)}else Ie[0]!="stop"&&Ie[0]!="close"||mi(y,7);else y.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?mi(y,7):ef(y):Ie[0]!="noop"&&y.l&&y.l.qa(Ie),y.A=0)}}es(4)}catch{}}var tA=class{constructor(c,f){this.g=c,this.map=f}};function sv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function iv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ov(c){return c.h?1:c.g?c.g.size:0}function Qh(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Yh(c,f){c.g?c.g.add(f):c.h=f}function av(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}sv.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function lv(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const y of c.g.values())f=f.concat(y.G);return f}return m(c.i)}var cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nA(c,f){if(c){c=c.split("&");for(let y=0;y<c.length;y++){const A=c[y].indexOf("=");let L,V=null;A>=0?(L=c[y].substring(0,A),V=c[y].substring(A+1)):L=c[y],f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ns(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof ns?(this.l=c.l,Da(this,c.j),this.o=c.o,this.g=c.g,Oa(this,c.u),this.h=c.h,Xh(this,mv(c.i)),this.m=c.m):c&&(f=String(c).match(cv))?(this.l=!1,Da(this,f[1]||"",!0),this.o=Ma(f[2]||""),this.g=Ma(f[3]||"",!0),Oa(this,f[4]),this.h=Ma(f[5]||"",!0),Xh(this,f[6]||"",!0),this.m=Ma(f[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}ns.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(La(f,uv,!0),":");var y=this.g;return(y||f=="file")&&(c.push("//"),(f=this.o)&&c.push(La(f,uv,!0),"@"),c.push(ka(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&c.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(La(y,y.charAt(0)=="/"?iA:sA,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",La(y,aA)),c.join("")},ns.prototype.resolve=function(c){const f=Kn(this);let y=!!c.j;y?Da(f,c.j):y=!!c.o,y?f.o=c.o:y=!!c.g,y?f.g=c.g:y=c.u!=null;var A=c.h;if(y)Oa(f,c.u);else if(y=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=f.h.lastIndexOf("/");L!=-1&&(A=f.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let K=0;K<L.length;){const he=L[K++];he=="."?A&&K==L.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),A&&K==L.length&&V.push("")):(V.push(he),A=!0)}A=V.join("/")}else A=L}return y?f.h=A:y=c.i.toString()!=="",y?Xh(f,mv(c.i)):y=!!c.m,y&&(f.m=c.m),f};function Kn(c){return new ns(c)}function Da(c,f,y){c.j=y?Ma(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Oa(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Xh(c,f,y){f instanceof Va?(c.i=f,lA(c.i,c.l)):(y||(f=La(f,oA)),c.i=new Va(f,c.l))}function Pe(c,f,y){c.i.set(f,y)}function Mc(c){return Pe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ma(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,f,y){return typeof c=="string"?(c=encodeURI(c).replace(f,rA),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uv=/[#\/\?@]/g,sA=/[#\?:]/g,iA=/[#\?]/g,oA=/[#\?@]/g,aA=/#/g;function Va(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function pi(c){c.g||(c.g=new Map,c.h=0,c.i&&nA(c.i,function(f,y){c.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=Va.prototype,t.add=function(c,f){pi(this),this.i=null,c=io(this,c);let y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(f),this.h+=1,this};function dv(c,f){pi(c),f=io(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function hv(c,f){return pi(c),f=io(c,f),c.g.has(f)}t.forEach=function(c,f){pi(this),this.g.forEach(function(y,A){y.forEach(function(L){c.call(f,L,A,this)},this)},this)};function fv(c,f){pi(c);let y=[];if(typeof f=="string")hv(c,f)&&(y=y.concat(c.g.get(io(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)y=y.concat(c[f]);return y}t.set=function(c,f){return pi(this),this.i=null,c=io(this,c),hv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=fv(this,c),c.length>0?String(c[0]):f):f};function pv(c,f,y){dv(c,f),y.length>0&&(c.i=null,c.g.set(io(c,f),m(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let A=0;A<f.length;A++){var y=f[A];const L=ka(y);y=fv(this,y);for(let V=0;V<y.length;V++){let K=L;y[V]!==""&&(K+="="+ka(y[V])),c.push(K)}}return this.i=c.join("&")};function mv(c){const f=new Va;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function io(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function lA(c,f){f&&!c.j&&(pi(c),c.i=null,c.g.forEach(function(y,A){const L=A.toLowerCase();A!=L&&(dv(this,A),pv(this,L,y))},c)),c.j=f}function cA(c,f){const y=new ne;if(o.Image){const A=new Image;A.onload=d(rs,y,"TestLoadImage: loaded",!0,f,A),A.onerror=d(rs,y,"TestLoadImage: error",!1,f,A),A.onabort=d(rs,y,"TestLoadImage: abort",!1,f,A),A.ontimeout=d(rs,y,"TestLoadImage: timeout",!1,f,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else f(!1)}function uA(c,f){const y=new ne,A=new AbortController,L=setTimeout(()=>{A.abort(),rs(y,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?rs(y,"TestPingServer: ok",!0,f):rs(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),rs(y,"TestPingServer: error",!1,f)})}function rs(c,f,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function dA(){this.g=new no}function Jh(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Jh,kc),Jh.prototype.g=function(){return new Lc(this.i,this.h)};function Lc(c,f){Ve.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Lc,Ve),t=Lc.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gv(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function gv(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?ja(this):Fa(this),this.readyState==3&&gv(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ja(this))},t.Na=function(c){this.g&&(this.response=c,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fa(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=f.next();return c.join(`\r
`)};function Fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yv(c){let f="";return H(c,function(y,A){f+=A,f+=":",f+=y,f+=`\r
`}),f}function Zh(c,f,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=yv(y),typeof c=="string"?y!=null&&ka(y):Pe(c,f,y))}function ze(c){Ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(ze,Ve);var hA=/^https?$/i,fA=["POST","PUT"];t=ze.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(V){vv(this,V);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())y.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(fA,f,void 0)>=0)||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,K]of y)this.g.setRequestHeader(V,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(V){vv(this,V)}};function vv(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,wv(c),Vc(c)}function wv(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),Vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_v(this):this.Xa())},t.Xa=function(){_v(this)};function _v(c){if(c.h&&typeof i<"u"){if(c.v&&ss(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),ss(c)==4){c.h=!1;try{const V=c.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var A;if(A=V===0){let K=String(c.D).match(cv)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),A=!hA.test(K?K.toLowerCase():"")}y=A}if(y)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var L=ss(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",wv(c)}}finally{Vc(c)}}}}function Vc(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const y=c.g;c.g=null,f||lt(c,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Bh(f)}};function Ev(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pA(c){const f={};c=(c.g&&ss(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(b(c[A]))continue;var y=JC(c[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=f[L]||[];f[L]=V,V.push(y)}Y(f,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(c,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||f}function xv(c){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ua("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ua("baseRetryDelayMs",5e3,c),this.Za=Ua("retryDelaySeedMs",1e4,c),this.Ta=Ua("forwardChannelMaxRetries",2,c),this.va=Ua("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new sv(c&&c.concurrentRequestLimit),this.Ba=new dA,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xv.prototype,t.ka=8,t.I=1,t.connect=function(c,f,y,A){tt(0),this.W=c,this.H=f||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=kv(this,null,this.W),Fc(this)};function ef(c){if(Tv(c),c.I==3){var f=c.V++,y=Kn(c.J);if(Pe(y,"SID",c.M),Pe(y,"RID",f),Pe(y,"TYPE","terminate"),$a(c,y),f=new ts(c,c.j,f),f.M=2,f.A=Mc(Kn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=f.A,y=!0),y||(f.g=Nv(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Oc(f)}Pv(c)}function jc(c){c.g&&(nf(c),c.g.cancel(),c.g=null)}function Tv(c){jc(c),c.v&&(o.clearTimeout(c.v),c.v=null),Uc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Fc(c){if(!iv(c.h)&&!c.m){c.m=!0;var f=c.Ea;O||S(),M||(O(),M=!0),C.add(f,c),c.D=0}}function mA(c,f){return ov(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(u(c.Ea,c,f),Rv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ts(this,this.j,c);let V=this.o;if(this.U&&(V?(V=ie(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,f>4096){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Iv(this,L,f),y=Kn(this.J),Pe(y,"RID",c),Pe(y,"CVER",22),this.G&&Pe(y,"X-HTTP-Session-Id",this.G),$a(this,y),V&&(this.R?f="headers="+ka(yv(V))+"&"+f:this.u&&Zh(y,this.u,V)),Yh(this.h,L),this.Ra&&Pe(y,"TYPE","init"),this.S?(Pe(y,"$req",f),Pe(y,"SID","null"),L.U=!0,qh(L,y,null)):qh(L,y,f),this.I=2}}else this.I==3&&(c?Sv(this,c):this.i.length==0||iv(this.h)||Sv(this))};function Sv(c,f){var y;f?y=f.l:y=c.V++;const A=Kn(c.J);Pe(A,"SID",c.M),Pe(A,"RID",y),Pe(A,"AID",c.K),$a(c,A),c.u&&c.o&&Zh(A,c.u,c.o),y=new ts(c,c.j,y,c.D+1),c.u===null&&(y.J=c.o),f&&(c.i=f.G.concat(c.i)),f=Iv(c,y,1e3),y.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yh(c.h,y),qh(y,A,f)}function $a(c,f){c.H&&H(c.H,function(y,A){Pe(f,A,y)}),c.l&&H({},function(y,A){Pe(f,A,y)})}function Iv(c,f,y){y=Math.min(c.i.length,y);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let he=-1;for(;;){const nt=["count="+y];he==-1?y>0?(he=L[0].g,nt.push("ofs="+he)):he=0:nt.push("ofs="+he);let Ie=!0;for(let ut=0;ut<y;ut++){var V=L[ut].g;const Qn=L[ut].map;if(V-=he,V<0)he=Math.max(0,L[ut].g-100),Ie=!1;else try{V="req"+V+"_"||"";try{var K=Qn instanceof Map?Qn:Object.entries(Qn);for(const[gi,is]of K){let os=is;a(is)&&(os=ba(is)),nt.push(V+gi+"="+encodeURIComponent(os))}}catch(gi){throw nt.push(V+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Qn)}}if(Ie){K=nt.join("&");break e}}K=void 0}return c=c.i.splice(0,y),f.G=c,K}function Cv(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;O||S(),M||(O(),M=!0),C.add(f,c),c.A=0}}function tf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(u(c.Da,c),Rv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Av(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),jc(this),Av(this))};function nf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Av(c){c.g=new ts(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=Kn(c.na);Pe(f,"RID","rpc"),Pe(f,"SID",c.M),Pe(f,"AID",c.K),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&Pe(f,"TO",c.ia),Pe(f,"TYPE","xmlhttp"),$a(c,f),c.u&&c.o&&Zh(f,c.u,c.o),c.O&&(c.g.H=c.O);var y=c.g;c=c.ba,y.M=1,y.A=Mc(Kn(f)),y.u=null,y.R=!0,tv(y,c)}t.Va=function(){this.C!=null&&(this.C=null,jc(this),tf(this),tt(19))};function Uc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function bv(c,f){var y=null;if(c.g==f){Uc(c),nf(c),c.g=null;var A=2}else if(Qh(c.h,f))y=f.G,av(c.h,f),A=1;else return;if(c.I!=0){if(f.o)if(A==1){y=f.u?f.u.length:0,f=Date.now()-f.F;var L=c.D;A=so(),lt(A,new xn(A,y)),Fc(c)}else Cv(c);else if(L=f.m,L==3||L==0&&f.X>0||!(A==1&&mA(c,f)||A==2&&tf(c)))switch(y&&y.length>0&&(f=c.h,f.i=f.i.concat(y)),L){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function Rv(c,f){let y=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(y*=2),y*f}function mi(c,f){if(c.j.info("Error code "+f),f==2){var y=u(c.bb,c),A=c.Ua;const L=!A;A=new ns(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Da(A,"https"),Mc(A),L?cA(A.toString(),y):uA(A.toString(),y)}else tt(2);c.I=0,c.l&&c.l.pa(f),Pv(c),Tv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Pv(c){if(c.I=0,c.ja=[],c.l){const f=lv(c.h);(f.length!=0||c.i.length!=0)&&(T(c.ja,f),T(c.ja,c.i),c.h.i.length=0,m(c.i),c.i.length=0),c.l.oa()}}function kv(c,f,y){var A=y instanceof ns?Kn(y):new ns(y);if(A.g!="")f&&(A.g=f+"."+A.g),Oa(A,A.u);else{var L=o.location;A=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const V=new ns(null);A&&Da(V,A),f&&(V.g=f),L&&Oa(V,L),y&&(V.h=y),A=V}return y=c.G,f=c.wa,y&&f&&Pe(A,y,f),Pe(A,"VER",c.ka),$a(c,A),A}function Nv(c,f,y){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new ze(new Jh({ab:y})):new ze(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dv(){}t=Dv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $c(){}$c.prototype.g=function(c,f){return new Jt(c,f)};function Jt(c,f){Ve.call(this),this.g=new xv(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!b(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!b(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new oo(this)}h(Jt,Ve),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){ef(this.g)},Jt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.v&&(y={},y.__data__=ba(c),c=y);f.i.push(new tA(f.Ya++,c)),f.I==3&&Fc(f)},Jt.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Jt.Z.N.call(this)};function Ov(c){qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const y in f){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(Ov,qn);function Mv(){ro.call(this),this.status=1}h(Mv,ro);function oo(c){this.g=c}h(oo,Dv),oo.prototype.ra=function(){lt(this.g,"a")},oo.prototype.qa=function(c){lt(this.g,new Ov(c))},oo.prototype.pa=function(c){lt(this.g,new Mv)},oo.prototype.oa=function(){lt(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,_I=function(){return new $c},wI=function(){return so()},vI=Vt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,ju=un,jt.COMPLETE="complete",yI=jt,Ra.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,sl=Ra,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,gI=ze}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",d_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Xg("@firebase/firestore");function lo(){return qi.logLevel}function X(t,...e){if(qi.logLevel<=pe.DEBUG){const n=e.map(uy);qi.debug(`Firestore (${ga}): ${t}`,...n)}}function qr(t,...e){if(qi.logLevel<=pe.ERROR){const n=e.map(uy);qi.error(`Firestore (${ga}): ${t}`,...n)}}function ea(t,...e){if(qi.logLevel<=pe.WARN){const n=e.map(uy);qi.warn(`Firestore (${ga}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EI(t,r,n)}function EI(t,e,n){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||EI(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R4{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new xI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class P4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=D4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function _m(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Gf(s)===Gf(i)?me(s,i):Gf(s)?1:-1}return me(t.length,e.length)}const O4=55296,M4=57343;function Gf(t){const e=t.charCodeAt(0);return e>=O4&&e<=M4}function ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class be extends Jn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const L4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Jn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return L4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new gt([f_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(be.fromString(e))}static fromName(e){return new ee(be.fromString(e).popFirst(5))}static empty(){return new ee(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V4(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p_(t){if(!ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m_(t){if(ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!SI(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,y_=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*y_);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g_)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:Je("string",De._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new De(0,0))}static max(){return new oe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function j4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new Gs(s,ee.empty(),e)}function F4(t){return new Gs(t.readTime,t.key,Yl)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(oe.min(),ee.empty(),Yl)}static max(){return new Gs(oe.max(),ee.empty(),Yl)}}function U4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==$4)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function B4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function xh(t){return t==null}function bd(t){return t===0&&1/t==-1/0}function H4(t){return typeof t=="number"&&Number.isInteger(t)&&!bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="";function W4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v_(e)),e=q4(t.get(n),e);return v_(e)}function q4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case II:n+="";break;default:n+=i}}return n}function v_(t){return t+II+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mt.RED,this.left=s??mt.EMPTY,this.right=i??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new ot(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AI("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const G4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=G4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="server_timestamp",RI="__type__",PI="__previous_value__",kI="__local_write_time__";function fy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RI])==null?void 0:r.stringValue)===bI}function Th(t){const e=t.mapValue.fields[PI];return fy(e)?Th(e):e}function Xl(t){const e=Ks(t.mapValue.fields[kI].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Rd="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Rd}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="__type__",DI="__max__",mu={mapValue:{fields:{__type__:{stringValue:DI}}}},OI="__vector__",Pd="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fy(t)?4:Y4(t)?9007199254740991:Q4(t)?10:11:se(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ks(s.timestampValue),a=Ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qs(s.bytesValue).isEqual(Qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),a=qe(i.doubleValue);return o===a?bd(o)===bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(w_(o)!==w_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=qe(i.integerValue||i.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(Xl(t),Xl(e));case 5:return _m(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Qs(i),l=Qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=me(a[u],l[u]);if(d!==0)return d}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(qe(i.latitude),qe(o.latitude));return a!==0?a:me(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,T,v;const a=i.fields||{},l=o.fields||{},u=(p=a[Pd])==null?void 0:p.arrayValue,d=(m=l[Pd])==null?void 0:m.arrayValue,h=me(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:x_(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mu.mapValue&&o===mu.mapValue)return 0;if(i===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=_m(l[h],d[h]);if(p!==0)return p;const m=na(a[l[h]],u[d[h]]);if(m!==0)return m}return me(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Ks(t),r=Ks(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function x_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=na(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function ra(t){return Em(t)}function Em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Em(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Em(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Fu(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ai(r.fields,(i,o)=>{s+=i.length+Fu(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xm(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function S_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function Q4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NI])==null?void 0:r.stringValue)===OI}function _l(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return{...t}}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_l(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ai(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(_l(this.value))}}function MI(t){const e=[];return ai(t.fields,(n,r)=>{const s=new gt([n]);if(Uu(r)){const i=MI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.position=e,this.inclusive=n}}function C_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function A_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function X4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class Xe extends LI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z4(e,n,r):n==="array-contains"?new nj(e,r):n==="in"?new rj(e,r):n==="not-in"?new sj(e,r):n==="array-contains-any"?new ij(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ej(e,r):new tj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends LI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $n(e,n)}matches(e){return VI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VI(t){return t.op==="and"}function jI(t){return J4(t)&&VI(t)}function J4(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function Tm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(jI(t))return t.filters.map(e=>Tm(e)).join(",");{const e=t.filters.map(n=>Tm(n)).join(",");return`${t.op}(${e})`}}function FI(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(t,e):t instanceof $n?function(r,s){return s instanceof $n&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&FI(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function UI(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(UI).join(" ,")+"}"}(t):"Filter"}class Z4 extends Xe{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class ej extends Xe{constructor(e,n){super(e,"in",n),this.keys=$I("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tj extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=$I("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $I(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class nj extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return py(n)&&Zl(n.arrayValue,this.value)}}class rj extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class sj extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class ij extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function b_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new oj(t,e,n,r,s,i,o)}function my(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.Te=n}return e.Te}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A_(t.startAt,e.startAt)&&A_(t.endAt,e.endAt)}function Sm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aj(t,e,n,r,s,i,o,a){return new wa(t,e,n,r,s,i,o,a)}function Sh(t){return new wa(t)}function R_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zI(t){return t.collectionGroup!==null}function El(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ec(i,r))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new ec(gt.keyField(),r))}return e.Ie}function cr(t){const e=ae(t);return e.Ee||(e.Ee=lj(e,El(t))),e.Ee}function lj(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ec(s.field,i)});const n=t.endAt?new kd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kd(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Im(t,e){const n=t.filters.concat([e]);return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nd(t,e,n){return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return gy(cr(t),cr(e))&&t.limitType===e.limitType}function BI(t){return`${my(cr(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>UI(s)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ra(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of El(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=C_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,El(r),s)||r.endAt&&!function(o,a,l){const u=C_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,El(r),s))}(t,e)}function cj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HI(t){return(e,n)=>{let r=!1;for(const s of El(t)){const i=uj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uj(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?na(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new $e(ee.comparator);function Gr(){return dj}const WI=new $e(ee.comparator);function il(...t){let e=WI;for(const n of t)e=e.insert(n.key,n);return e}function qI(t){let e=WI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return xl()}function GI(){return xl()}function xl(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const hj=new $e(ee.comparator),fj=new ot(ee.comparator);function ge(...t){let e=fj;for(const n of t)e=e.add(n);return e}const pj=new ot(me);function mj(){return pj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function KI(t){return{integerValue:""+t}}function QI(t,e){return H4(e)?KI(e):yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function gj(t,e,n){return t instanceof tc?function(s,i){const o={fields:{[RI]:{stringValue:bI},[kI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&fy(i)&&(i=Th(i)),i&&(o.fields[PI]=i),{mapValue:o}}(n,e):t instanceof sa?XI(t,e):t instanceof nc?JI(t,e):function(s,i){const o=YI(s,i),a=P_(o)+P_(s.Ae);return xm(o)&&xm(s.Ae)?KI(a):yy(s.serializer,a)}(t,e)}function yj(t,e,n){return t instanceof sa?XI(t,e):t instanceof nc?JI(t,e):n}function YI(t,e){return t instanceof rc?function(r){return xm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tc extends Ah{}class sa extends Ah{constructor(e){super(),this.elements=e}}function XI(t,e){const n=ZI(e);for(const r of t.elements)n.some(s=>pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends Ah{constructor(e){super(),this.elements=e}}function JI(t,e){let n=ZI(e);for(const r of t.elements)n=n.filter(s=>!pr(s,r));return{arrayValue:{values:n}}}class rc extends Ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P_(t){return qe(t.integerValue||t.doubleValue)}function ZI(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.field=e,this.transform=n}}function vj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sa&&s instanceof sa||r instanceof nc&&s instanceof nc?ta(r.elements,s.elements,pr):r instanceof rc&&s instanceof rc?pr(r.Ae,s.Ae):r instanceof tc&&s instanceof tc}(t.transform,e.transform)}class wj{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wy(t.key,yn.none()):new Sc(t.key,t.data,yn.none());{const n=t.data,r=Bt.empty();let s=new ot(gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new li(t.key,r,new nn(s.toArray()),yn.none())}}function _j(t,e,n){t instanceof Sc?function(s,i,o){const a=s.value.clone(),l=N_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof li?function(s,i,o){if(!$u(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=N_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(tC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof Sc?function(i,o,a,l){if(!$u(i.precondition,o))return a;const u=i.value.clone(),d=D_(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(i,o,a,l){if(!$u(i.precondition,o))return a;const u=D_(i.fieldTransforms,l,o),d=o.data;return d.setAll(tC(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return $u(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Ej(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=YI(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(i,o)=>vj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends bh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class li extends bh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N_(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yj(o,a,n[s]))}return r}function D_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gj(i,o,e))}return r}class wy extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_j(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=eC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>k_(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>k_(n,r))}}class _y{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return hj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _y(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ve;function Cj(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function nC(t){if(t===void 0)return qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(ve=Qe||(Qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new Vs([4294967295,4294967295],0);function O_(t){const e=Aj().encode(t),n=new mI;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class Ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vs.fromNumber(r)));return s.compare(bj)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ey(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(oe.min(),s,new $e(me),Gr(),ge())}}class Ic{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ic(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rC{constructor(e,n){this.targetId=e,this.Ce=n}}class sC{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class L_{constructor(){this.ve=0,this.Fe=V_(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Ic(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.Je=gu(),this.He=gu(),this.Ye=new $e(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Sm(i))if(r===0){const o=new ee(i.path);this.et(n,o,At.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Qs(r).toUint8Array()}catch(l){if(l instanceof AI)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ey(o,s,i)}catch(l){return ea(l instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Sm(a.target)){const l=new ee(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,At.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Rh(e,n,this.Ye,this.je,r);return this.je=Gr(),this.Je=gu(),this.He=gu(),this.Ye=new $e(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gu(){return new $e(ee.comparator)}function V_(){return new $e(ee.comparator)}const Pj={asc:"ASCENDING",desc:"DESCENDING"},kj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nj={and:"AND",or:"OR"};class Dj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function Dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oj(t,e){return Dd(t,e.toTimestamp())}function ur(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=Ks(n);return new De(r.seconds,r.nanos)}(t))}function xy(t,e){return Am(t,e).canonicalString()}function Am(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oC(t){const e=be.fromString(t);return xe(dC(e),10190,{key:e.toString()}),e}function bm(t,e){return xy(t.databaseId,e.path)}function Kf(t,e){const n=oC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(lC(n))}function aC(t,e){return xy(t.databaseId,e)}function Mj(t){const e=oC(t);return e.length===4?be.emptyPath():lC(e)}function Rm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lC(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j_(t,e,n){return{name:bm(t,e),fields:n.value.mapValue.fields}}function Lj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:nC(u.code);return new Q(d,u.message||"")}(o);n=new sC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Kf(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):oe.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new zu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Kf(t,r.document),i=r.readTime?ur(r.readTime):oe.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Kf(t,r.document),i=r.removedTargetIds||[];n=new zu([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Ij(s,i),a=r.targetId;n=new rC(a,o)}}return n}function Vj(t,e){let n;if(e instanceof Sc)n={update:j_(t,e.key,e.value)};else if(e instanceof wy)n={delete:bm(t,e.key)};else if(e instanceof li)n={update:j_(t,e.key,e.data),updateMask:qj(e.fieldMask)};else{if(!(e instanceof xj))return se(16599,{Vt:e.type});n={verify:bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Oj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function jj(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(oe.min())&&(o=ur(i)),new wj(o,s.transformResults||[])}(n,e))):[]}function Fj(t,e){return{documents:[aC(t,e.path)]}}function Uj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aC(t,s);const i=function(u){if(u.length!==0)return uC($n.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:uo(p.field),direction:Bj(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function $j(t){let e=Mj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=cC(h);return p instanceof $n&&jI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new ec(ho(T.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,xh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new kd(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new kd(m,p)}(n.endAt)),aj(e,s,o,i,a,"F",l,u)}function zj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>cC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function Bj(t){return Pj[t]}function Hj(t){return kj[t]}function Wj(t){return Nj[t]}function uo(t){return{fieldPath:t.canonicalString()}}function ho(t){return gt.fromServerFormat(t.fieldPath)}function uC(t){return t instanceof Xe?function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:Hj(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(s=>uC(s));return r.length===1?r[0]:{compositeFilter:{op:Wj(n.op),filters:r}}}(t):se(54877,{filter:t})}function qj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.yt=e}}function Kj(t){const e=$j({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Cn=new Yj}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hC=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(hC,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ia(0)}static cr(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="LruGarbageCollector",Xj=1048576;function $_([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class Jj{constructor(e){this.Ir=e,this.buffer=new ot($_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(U_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?X(U_,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Vr(3e5)})}}class e3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Eh.ce);const r=new Jj(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(F_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),lo()<=pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function t3(t,e){return new e3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Tl(r.mutation,s,nn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=Ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=il();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gr();const o=xl(),a=function(){return xl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof li)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Tl(d.mutation,u,d.mutation.getFieldMask(),De.now())):o.set(u.key,nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new r3(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=xl();let s=new $e((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||nn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=GI();d.forEach(p=>{if(!i.has(p)){const m=eC(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ii());let a=Yl,l=i;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:qI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=il();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(h,p){return new wa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=il();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Tl(d.mutation,u,nn.empty(),De.now()),Ch(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Kj(s.bundledQuery),readTime:ur(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.overlays=new $e(ee.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ii(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new $e((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ii(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ii(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Sj(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Qr=new ot(dt.$r),this.Ur=new ot(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new be([])),r=new dt(n,e),s=new dt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new be([])),r=new dt(n,e),s=new dt(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(dt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?hy:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(me);return n.forEach(s=>{const i=new dt(s,0),o=new dt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new dt(new ee(i),0);let a=new ot(me);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new dt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.ri=e,this.docs=function(){return new $e(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U4(F4(d),r)<=0||(s.has(d.key)||Ch(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u3(this)}getSize(e){return B.resolve(this.size)}}class u3 extends n3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.persistence=e,this.si=new eo(n=>my(n),gy),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ty,this.targetCount=0,this.ai=ia.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new a3,this.referenceDelegate=e(this),this.Pi=new d3(this),this.indexManager=new Qj,this.remoteDocumentCache=function(s){return new c3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Gj(n),this.Ii=new i3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new l3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new h3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class h3 extends z4{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new Ty,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ee.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Od{constructor(e,n){this.persistence=e,this.pi=new eo(r=>W4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=t3(this,n)}static mi(e,n){return new Od(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Iy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qO()?8:B4(Rt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new f3;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(lo()<=pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(lo()<=pe.DEBUG&&X("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(lo()<=pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):B.resolve())}ys(e,n){if(R_(n))return B.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nd(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Nd(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return R_(n)||s.isEqual(oe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(lo()<=pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),co(n)),this.vs(e,o,n,j4(s,Yl)).next(a=>a))})}Ds(e,n){let r=new ot(HI(e));return n.forEach((s,i)=>{Ch(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return lo()<=pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,Gs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",m3=3e8;class g3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new $e(me),this.xs=new eo(i=>my(i),gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function y3(t,e,n,r){return new g3(t,e,n,r)}async function pC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function v3(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let m=B.resolve();return p.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(v=>{const w=u.docVersions.get(T);xe(w!==null,48541),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function mC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function w3(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,w,E){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=m3?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=Gr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(_3(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function _3(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(Cy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function E3(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x3(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pm(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!va(o))throw o;X(Cy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function z_(t,e,n){const r=ae(t);let s=oe.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ae(l),p=h.xs.get(d);return p!==void 0?B.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ge())).next(a=>(T3(r,cj(e),a),{documents:a,Qs:i})))}function T3(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class B_{constructor(){this.activeTargetIds=mj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S3{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(H_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function km(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",C3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=km(),a=this.zo(e,n.toUriEncodedString());X(Qf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Ji(u);return this.Jo(e,a,l,r,d).then(h=>(X(Qf,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ea(Qf,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=C3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class R3 extends A3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=km();return new Promise((a,l)=>{const u=new gI;u.setWithCredentials(!0),u.listenOnce(yI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ju.NO_ERROR:const h=u.getResponseJson();X(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ju.TIMEOUT:X(Tt,`RPC '${e}' ${o} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const p=u.getStatus();if(X(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const v=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(T.status);l(new Q(v,T.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);X(Tt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=km(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_I(),a=wI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,m=!1;const T=new b3({Yo:w=>{m?X(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(X(Tt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),X(Tt,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},Zo:()=>h.close()}),v=(w,E,_)=>{w.listen(E,x=>{try{_(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(h,sl.EventType.OPEN,()=>{m||(X(Tt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),v(h,sl.EventType.CLOSE,()=>{m||(m=!0,X(Tt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(h))}),v(h,sl.EventType.ERROR,w=>{m||(m=!0,ea(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),T.a_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,sl.EventType.MESSAGE,w=>{var E;if(!m){const _=w.data[0];xe(!!_,16349);const x=_,k=(x==null?void 0:x.error)||((E=x[0])==null?void 0:E.error);if(k){X(Tt,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let M=function(R){const P=Qe[R];if(P!==void 0)return nC(P)}(O),C=k.message;M===void 0&&(M=U.INTERNAL,C="Unknown error status: "+O+" with message "+k.message),m=!0,T.a_(new Q(M,C)),h.close()}else X(Tt,`RPC '${e}' stream ${s} received:`,_),T.u_(_)}}),v(a,vI.STAT_EVENT,w=>{w.stat===wm.PROXY?X(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===wm.NOPROXY&&X(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new Dj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="PersistentStream";class yC{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P3 extends yC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Lj(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ur(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Sm(l)?{documents:Fj(i,l)}:{query:Uj(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iC(i,o.resumeToken);const u=Cm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Dd(i,o.snapshotVersion.toTimestamp());const u=Cm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=zj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rm(this.serializer),n.removeTarget=e,this.q_(n)}}class k3 extends yC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jj(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{}class D3 extends N3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Am(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Am(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class O3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class M3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{to(this)&&(X(Gi,"Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.Ea.add(4),await Cc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kh(u)}(this))})}),this.Ra=new O3(r,s)}}async function kh(t){if(to(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function vC(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Py(n)?Ry(n):_a(n).O_()&&by(n,e))}function Ay(t,e){const n=ae(t),r=_a(n);n.Ia.delete(e),r.O_()&&wC(n,e),n.Ia.size===0&&(r.O_()?r.L_():to(n)&&n.Ra.set("Unknown"))}function by(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).Y_(e)}function wC(t,e){t.Va.Ue(e),_a(t).Z_(e)}function Ry(t){t.Va=new Rj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.Ra.ua()}function Py(t){return to(t)&&!_a(t).x_()&&t.Ia.size>0}function to(t){return ae(t).Ea.size===0}function _C(t){t.Va=void 0}async function L3(t){t.Ra.set("Online")}async function V3(t){t.Ia.forEach((e,n)=>{by(t,e)})}async function j3(t,e){_C(t),Py(t)?(t.Ra.ha(e),Ry(t)):t.Ra.set("Unknown")}async function F3(t,e,n){if(t.Ra.set("Online"),e instanceof sC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){X(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(t,r)}else if(e instanceof zu?t.Va.Ze(e):e instanceof rC?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await mC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),wC(i,l);const h=new Cs(d.target,l,u,d.sequenceNumber);by(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Gi,"Failed to raise snapshot:",r),await Md(t,r)}}async function Md(t,e,n){if(!va(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>mC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Gi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kh(t)})}function EC(t,e){return e().catch(n=>Md(t,n,e))}async function Nh(t){const e=ae(t),n=Xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hy;for(;U3(e);)try{const s=await E3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,$3(e,s)}catch(s){await Md(e,s)}xC(e)&&TC(e)}function U3(t){return to(t)&&t.Ta.length<10}function $3(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xC(t){return to(t)&&!Xs(t).x_()&&t.Ta.length>0}function TC(t){Xs(t).start()}async function z3(t){Xs(t).ra()}async function B3(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function H3(t,e,n){const r=t.Ta.shift(),s=_y.from(r,e,n);await EC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nh(t)}async function W3(t,e){e&&Xs(t).X_&&await async function(r,s){if(function(o){return Cj(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Xs(r).B_(),await EC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nh(r)}}(t,e),xC(t)&&TC(t)}async function G_(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X(Gi,"RemoteStore received new credentials");const r=to(n);n.Ea.add(3),await Cc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function q3(t,e){const n=ae(t);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function _a(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new P3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:L3.bind(null,t),t_:V3.bind(null,t),r_:j3.bind(null,t),H_:F3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Py(t)?Ry(t):t.Ra.set("Unknown")):(await t.ma.stop(),_C(t))})),t.ma}function Xs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new k3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:z3.bind(null,t),r_:W3.bind(null,t),ta:B3.bind(null,t),na:H3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nh(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Gi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ky(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(t,e){if(qr("AsyncQueue",`${e}: ${t}`),va(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ga=new $e(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oa(e,n,Lo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class K3{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Q_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function Q_(){return new eo(t=>BI(t),Ih)}async function Dy(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new G3,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ny(o,`Initialization of query '${co(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&My(n)}async function Oy(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Q3(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&My(n)}function Y3(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function My(t){t.Ca.forEach(e=>{e.next()})}var Nm,Y_;(Y_=Nm||(Nm={})).Ma="default",Y_.Cache="cache";class Ly{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.key=e}}class IC{constructor(e){this.key=e}}class X3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=HI(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new K_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=Ch(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?T!==v&&(r.track({type:3,doc:m}),w=!0):this.su(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||u)&&(a=!0)),w&&(m?(o=o.add(m),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,T){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:w})}};return v(m)-v(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new oa(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new IC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vy="SyncEngine";class J3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z3{constructor(e){this.key=e,this.hu=!1}}class eF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new eo(a=>BI(a),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new $e(ee.comparator),this.Au=new Map,this.Ru=new Ty,this.Vu={},this.mu=new Map,this.fu=ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tF(t,e,n=!0){const r=kC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await CC(r,e,n,!0),s}async function nF(t,e){const n=kC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,r){const s=await x3(t.localStore,cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&vC(t.remoteStore,s),a}async function rF(t,e,n,r,s){t.pu=(h,p,m)=>async function(v,w,E,_){let x=w.view.ru(E);x.Cs&&(x=await z_(v.localStore,w.query,!1).then(({documents:C})=>w.view.ru(C,x)));const k=_&&_.targetChanges.get(w.targetId),O=_&&_.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(x,v.isPrimaryClient,k,O);return J_(v,w.targetId,M.au),M.snapshot}(t,h,p,m);const i=await z_(t.localStore,e,!0),o=new X3(e,i.Qs),a=o.ru(i.documents),l=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);J_(t,n,u.au);const d=new J3(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function sF(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ih(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Pm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ay(r.remoteStore,s.targetId),Dm(r,s.targetId)}).catch(ya)):(Dm(r,s.targetId),await Pm(r.localStore,s.targetId,!0))}async function iF(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ay(n.remoteStore,r.targetId))}async function oF(t,e,n){const r=fF(t);try{const s=await function(o,a){const l=ae(o),u=De.now(),d=a.reduce((m,T)=>m.add(T.key),ge());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Gr(),v=ge();return l.Ns.getEntries(m,d).next(w=>{T=w,T.forEach((E,_)=>{_.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(w=>{h=w;const E=[];for(const _ of a){const x=Ej(_,h.get(_.key).overlayedDocument);x!=null&&E.push(new li(_.key,x,MI(x.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,a)}).next(w=>{p=w;const E=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,w.batchId,E)})}).then(()=>({batchId:p.batchId,changes:qI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new $e(me)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Ac(r,s.changes),await Nh(r.remoteStore)}catch(s){const i=Ny(s,"Failed to persist write");n.reject(i)}}async function AC(t,e){const n=ae(t);try{const r=await w3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await Ac(n,r,e)}catch(r){await ya(r)}}function X_(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&My(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new $e(ee.comparator);o=o.insert(i,At.newNoDocument(i,oe.min()));const a=ge().add(i),l=new Rh(oe.min(),new Map,new $e(me),o,a);await AC(r,l),r.du=r.du.remove(i),r.Au.delete(e),jy(r)}else await Pm(r.localStore,e,!1).then(()=>Dm(r,e,n)).catch(ya)}async function lF(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await v3(n.localStore,e);RC(n,r,null),bC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,s)}catch(s){await ya(s)}}async function cF(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(xe(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);RC(r,e,n),bC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,s)}catch(s){await ya(s)}}function bC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function RC(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||PC(t,r)})}function PC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),jy(t))}function J_(t,e,n){for(const r of n)r instanceof SC?(t.Ru.addReference(r.key,e),uF(t,r)):r instanceof IC?(X(Vy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PC(t,r.key)):se(19791,{wu:r})}function uF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(Vy,"New document in limbo: "+n),t.Eu.add(r),jy(t))}function jy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(be.fromString(e)),r=t.fu.next();t.Au.set(r,new Z3(n)),t.du=t.du.insert(n,r),vC(t.remoteStore,new Cs(cr(Sh(n.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function Ac(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Iy.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,p=>B.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>B.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!va(h))throw h;X(Cy,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.Ms.get(p),T=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(p,v)}}}(r.localStore,i))}async function dF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X(Vy,"User change. New user:",e.toKey());const r=await pC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.Ls)}}function hF(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function kC(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aF.bind(null,e),e.Pu.H_=Q3.bind(null,e.eventManager),e.Pu.yu=Y3.bind(null,e.eventManager),e}function fF(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cF.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return y3(this.persistence,new p3,e.initialUser,this.serializer)}Cu(e){return new fC(Sy.mi,this.serializer)}Du(e){return new S3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class pF extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Zj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new fC(r=>Od.mi(r,n),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dF.bind(null,this.syncEngine),await q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K3}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(i){return new R3(i)}(e.databaseInfo);return function(i,o,a,l){return new D3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new M3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return W_.v()?new W_:new I3}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new eF(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);X(Gi,"RemoteStore shutting down."),i.Ea.add(5),await Cc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class mF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X(Js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ny(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xf(t,e){t.asyncQueue.verifyOperationInProgress(),X(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gF(t);X(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>G_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>G_(e.remoteStore,s)),t._onlineComponents=e}async function gF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Js,"Using user provided OfflineComponentProvider");try{await Xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Xf(t,new Ld)}}else X(Js,"Using default OfflineComponentProvider"),await Xf(t,new pF(void 0));return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Js,"Using user provided OnlineComponentProvider"),await Z_(t,t._uninitializedComponentsProvider._online)):(X(Js,"Using default OnlineComponentProvider"),await Z_(t,new Om))),t._onlineComponents}function yF(t){return NC(t).then(e=>e.syncEngine)}async function Vd(t){const e=await NC(t),n=e.eventManager;return n.onListen=tF.bind(null,e.syncEngine),n.onUnlisten=sF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iF.bind(null,e.syncEngine),n}function vF(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Fy({next:p=>{d.Nu(),o.enqueueAndForget(()=>Oy(i,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Ly(Sh(a.path),d,{includeMetadataChanges:!0,qa:!0});return Dy(i,h)}(await Vd(t),t.asyncQueue,e,n,r)),r.promise}function wF(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Fy({next:p=>{d.Nu(),o.enqueueAndForget(()=>Oy(i,h)),p.fromCache&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Ly(a,d,{includeMetadataChanges:!0,qa:!0});return Dy(i,h)}(await Vd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firestore.googleapis.com",t1=!0;class n1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OC,this.ssl=t1}else this.host=e.host,this.ssl=e.ssl??t1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xj)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A4;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e1.get(n);r&&(X("ComponentProvider","Removing Datastore"),e1.delete(n),r.terminate())}(this),Promise.resolve()}}function _F(t,e,n,r={}){var u;t=Kt(t,Dh);const s=Ji(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Qg(`https://${a}`),Yg("Firestore",!0)),i.host!==OC&&i.host!==a&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ws(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=It.MOCK_USER;else{d=RS(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new It(p)}t._authCredentials=new b4(new xI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,We._jsonSchema))return new We(e,r||null,new ee(be.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Je("string",We._jsonSchemaVersion),referencePath:Je("string")};class js extends Yr{constructor(e,n,r){super(e,n,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new ee(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Xr(t,e,...n){if(t=et(t),TI("collection","path",e),t instanceof Dh){const r=be.fromString(e,...n);return m_(r),new js(t,null,r)}{if(!(t instanceof We||t instanceof js))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return m_(r),new js(t.firestore,null,r)}}function at(t,e,...n){if(t=et(t),arguments.length===1&&(e=dy.newId()),TI("doc","path",e),t instanceof Dh){const r=be.fromString(e,...n);return p_(r),new We(t,null,new ee(r))}{if(!(t instanceof We||t instanceof js))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return p_(r),new We(t.firestore,t instanceof js?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="AsyncQueue";class s1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gC(this,"async_queue_retry"),this._c=()=>{const r=Yf();r&&X(r1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;X(r1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",i1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ky.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:i1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function i1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Kr extends Dh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new s1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s1(e),this._firestoreClient=void 0,await e}}}function EF(t,e){const n=typeof t=="object"?t:Zg(),r=typeof t=="string"?t:Rd,s=gh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CS("firestore");i&&_F(s,...i)}return s}function Oh(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xF(t),t._firestoreClient}function xF(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new K4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(wt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Je("string",pn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Je("string",dr._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Je("string",hr._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=/^__.*__$/;class SF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Lh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LC(this.Ac)&&TF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Cc(e,n,r,s=!1){return new Lh({Ac:e,methodName:n,Dc:r,path:gt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new IF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VC(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);By("Data must be an object, but it was:",o,r);const a=jC(r,o);let l,u;if(i.merge)l=new nn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Mm(e,h,n);if(!o.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);UC(d,p)||d.push(p)}l=new nn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new SF(new Bt(a),l,u)}class jh extends Ea{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function CF(t,e,n){return new Lh({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Uy extends Ea{_toFieldTransform(e){return new vy(e.path,new tc)}isEqual(e){return e instanceof Uy}}class $y extends Ea{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=CF(this,e,!0),r=this.vc.map(i=>xa(i,n)),s=new sa(r);return new vy(e.path,s)}isEqual(e){return e instanceof $y&&Ws(this.vc,e.vc)}}class zy extends Ea{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new rc(e.serializer,QI(e.serializer,this.Fc));return new vy(e.path,n)}isEqual(e){return e instanceof zy&&this.Fc===e.Fc}}function AF(t,e,n,r){const s=t.Cc(1,e,n);By("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();ai(r,(l,u)=>{const d=Hy(e,l,n);u=et(u);const h=s.yc(d);if(u instanceof jh)i.push(d);else{const p=xa(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new nn(i);return new MC(o,a,s.fieldTransforms)}function bF(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Mm(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Mm(e,i[p])),l.push(i[p+1]);const u=[],d=Bt.empty();for(let p=a.length-1;p>=0;--p)if(!UC(u,a[p])){const m=a[p];let T=l[p];T=et(T);const v=o.yc(m);if(T instanceof jh)u.push(m);else{const w=xa(T,v);w!=null&&(u.push(m),d.set(m,w))}}const h=new nn(u);return new MC(d,h,o.fieldTransforms)}function RF(t,e,n,r=!1){return xa(n,t.Cc(r?4:3,e))}function xa(t,e){if(FC(t=et(t)))return By("Unsupported field value:",e,t),jC(t,e);if(t instanceof Ea)return function(r,s){if(!LC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xa(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=De.fromDate(r);return{timestampValue:Dd(s.serializer,i)}}if(r instanceof De){const i=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(s.serializer,i)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:iC(s.serializer,r._byteString)};if(r instanceof We){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,a){return{mapValue:{fields:{[NI]:{stringValue:OI},[Pd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return yy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${_h(r)}`)}(t,e)}function jC(t,e){const n={};return CI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,(r,s)=>{const i=xa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof dr||t instanceof pn||t instanceof We||t instanceof Ea||t instanceof hr)}function By(t,e,n){if(!FC(n)||!SI(n)){const r=_h(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Mm(t,e,n){if((e=et(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return Hy(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const PF=new RegExp("[~\\*/\\[\\]]");function Hy(t,e,n){if(e.search(PF)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+t+l)}function UC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kF extends $C{data(){return super.data()}}function Fh(t,e){return typeof e=="string"?Hy(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class qy extends Wy{}function Ta(t,e,...n){let r=[];e instanceof Wy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Gy).length,a=i.filter(l=>l instanceof Uh).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Uh extends qy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uh(e,n,r)}_apply(e){const n=this._parse(e);return BC(e._query,n),new Yr(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=Vh(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){l1(h,d);const T=[];for(const v of h)T.push(a1(l,i,v));p={arrayValue:{values:T}}}else p=a1(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||l1(h,d),p=RF(a,o,h,d==="in"||d==="not-in");return Xe.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ki(t,e,n){const r=e,s=Fh("where",t);return Uh._create(s,r,n)}class Gy extends Wy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)BC(o,l),o=Im(o,l)}(e._query,n),new Yr(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ky extends qy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ky(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(i,o)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new wa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function NF(t,e="asc"){const n=e,r=Fh("orderBy",t);return Ky._create(r,n)}class Qy extends qy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qy(e,n,r)}_apply(e){return new Yr(e.firestore,e.converter,Nd(e._query,this._limit,this._limitType))}}function DF(t){return Qy._create("limit",t,"F")}function a1(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zI(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!ee.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T_(t,new ee(r))}if(n instanceof We)return T_(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function l1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OF{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ai(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Pd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>qe(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new dr(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);xe(dC(r),9688,{name:e});const s=new Jl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mi extends $C{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mi._jsonSchema={type:Je("string",Mi._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Bu extends Mi{data(e={}){return super.data(e)}}class Li{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new al(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bu(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Bu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new al(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Bu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new al(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:MF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Li._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){t=Kt(t,We);const e=Kt(t.firestore,Kr);return vF(Oh(e),t._key).then(n=>WC(e,t,n))}Li._jsonSchemaVersion="firestore/querySnapshot/1.0",Li._jsonSchema={type:Je("string",Li._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class Yy extends OF{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function LF(t){t=Kt(t,Yr);const e=Kt(t.firestore,Kr),n=Oh(e),r=new Yy(e);return zC(t._query),wF(n,t._query).then(s=>new Li(e,r,t,s))}function Sa(t,e,n){t=Kt(t,We);const r=Kt(t.firestore,Kr),s=HC(t.converter,e);return $h(r,[VC(Vh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yn.none())])}function vr(t,e,n,...r){t=Kt(t,We);const s=Kt(t.firestore,Kr),i=Vh(s);let o;return o=typeof(e=et(e))=="string"||e instanceof Mh?bF(i,"updateDoc",t._key,e,n,r):AF(i,"updateDoc",t._key,e),$h(s,[o.toMutation(t._key,yn.exists(!0))])}function VF(t){return $h(Kt(t.firestore,Kr),[new wy(t._key,yn.none())])}function Xy(t,e){const n=Kt(t.firestore,Kr),r=at(t),s=HC(t.converter,e);return $h(n,[VC(Vh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function Rc(t,...e){var l,u,d;t=et(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||o1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(o1(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof We)o=Kt(t.firestore,Kr),a=Sh(t._key.path),i={next:h=>{e[r]&&e[r](WC(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Kt(t,Yr);o=Kt(h.firestore,Kr),a=h._query;const p=new Yy(o);i={next:m=>{e[r]&&e[r](new Li(o,p,h,m))},error:e[r+1],complete:e[r+2]},zC(t._query)}return function(p,m,T,v){const w=new Fy(v),E=new Ly(m,w,T);return p.asyncQueue.enqueueAndForget(async()=>Dy(await Vd(p),E)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>Oy(await Vd(p),E))}}(Oh(o),a,s,i)}function $h(t,e){return function(r,s){const i=new Vr;return r.asyncQueue.enqueueAndForget(async()=>oF(await yF(r),s,i)),i.promise}(Oh(t),e)}function WC(t,e,n){const r=n.docs.get(e._key),s=new Yy(t);return new Mi(t,s,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}function Qt(){return new Uy("serverTimestamp")}function qC(...t){return new $y("arrayUnion",t)}function Lm(t){return new zy("increment",t)}(function(e,n=!0){(function(s){ga=s})(Zi),Bi(new qs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Kr(new R4(r.getProvider("auth-internal")),new N4(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ar(u_,d_,e),ar(u_,d_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebasestorage.googleapis.com",jF="storageBucket",FF=2*60*1e3,UF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends yr{constructor(e,n,r=0){super(Jf(e),`Firebase Storage: ${n} (${Jf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mr||(mr={}));function Jf(t){return"storage/"+t}function $F(){const t="An unknown error occurred, please check the error payload for server response.";return new wr(mr.UNKNOWN,t)}function zF(){return new wr(mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BF(){return new wr(mr.CANCELED,"User canceled the upload/download.")}function HF(t){return new wr(mr.INVALID_URL,"Invalid URL '"+t+"'.")}function WF(t){return new wr(mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c1(t){return new wr(mr.INVALID_ARGUMENT,t)}function KC(){return new wr(mr.APP_DELETED,"The Firebase app was deleted.")}function qF(t){return new wr(mr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw WF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),T={bucket:1,path:3},v=n===GC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",E=new RegExp(`^https?://${v}/${s}/${w}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:T,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<x.length;k++){const O=x[k],M=O.regex.exec(e);if(M){const C=M[O.indices.bucket];let S=M[O.indices.path];S||(S=""),r=new Dn(C,S),O.postModify(r);break}}if(r==null)throw HF(e);return r}}class GF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function p(){i&&clearTimeout(i)}function m(w,...E){if(u){p();return}if(w){p(),d.call(null,w,...E);return}if(l()||o){p(),d.call(null,w,...E);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let T=!1;function v(w){T||(T=!0,p(),!u&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function QF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){return t!==void 0}function u1(t,e,n,r){if(r<e)throw c1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw c1(`Invalid value for '${t}'. Expected ${n} or less.`)}function XF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Fd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fd||(Fd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r,s,i,o,a,l,u,d,h,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,v)=>{this.resolve_=T,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fd.NO_ERROR,l=i.getStatus();if(!a||JF(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Fd.ABORT;r(!1,new vu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new vu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());YF(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=$F();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?KC():BF();o(l)}else{const l=zF();o(l)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=KF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function e6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function s6(t,e,n,r,s,i,o=!0,a=!1){const l=XF(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return n6(d,e),e6(d,n),t6(d,i),r6(d,r),new ZF(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ud(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o6(this._location.path)}get storage(){return this._service}get parent(){const e=i6(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new Ud(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qF(e)}}function d1(t,e){const n=e==null?void 0:e[jF];return n==null?null:Dn.makeFromBucketSpec(n,t)}function a6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ji(e);s&&(Qg(`https://${t.host}/b`),Yg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:RS(i,t.app.options.projectId))}class l6{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=GC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FF,this._maxUploadRetryTime=UF,this._requests=new Set,s!=null?this._bucket=Dn.makeFromBucketSpec(s,this._host):this._bucket=d1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=d1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ud(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new GF(KC());{const o=s6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const h1="@firebase/storage",f1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="storage";function c6(t=Zg(),e){t=et(t);const r=gh(t,QC).getImmediate({identifier:e}),s=CS("storage");return s&&u6(r,...s),r}function u6(t,e,n,r={}){a6(t,e,n,r)}function d6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new l6(n,r,s,e,Zi)}function h6(){Bi(new qs(QC,d6,"PUBLIC").setMultipleInstances(!0)),ar(h1,f1,""),ar(h1,f1,"esm2020")}h6();const f6={apiKey:"AIzaSyA8EReX4t2Qu85WGKNCe8Gvg_yAjoHbXfE",authDomain:"contrimeter-techsprint.firebaseapp.com",databaseURL:"https://contrimeter-techsprint-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"contrimeter-techsprint",storageBucket:"contrimeter-techsprint.firebasestorage.app",messagingSenderId:"593952245188",appId:"1:593952245188:web:f90dc4bce198a2d946d091"},Jy=NS(f6),Ia=T4(Jy),Ce=EF(Jy);c6(Jy);const Ca=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!0);return I.useEffect(()=>hV(Ia,i=>{e(i),r(!1)}),[]),{user:t,loading:n}};function Zf({children:t}){const{user:e,loading:n}=Ca();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?t:g.jsx(EO,{to:"/auth",replace:!0})}const p6=async(t,e,n,r)=>{console.log("createUserProfile called with:",{uid:t,name:e,email:n,role:r});try{const s=at(Ce,"users",t);console.log("User ref created:",s.path);const i={uid:t,name:e,email:n,role:r||"",joinedTeams:[],createdAt:Qt()};console.log("User data:",i),await Sa(s,i),console.log("User profile created successfully")}catch(s){throw console.error("Error in createUserProfile:",s),s}},$d=async t=>{const e=at(Ce,"users",t),n=await bc(e);return n.exists()?n.data():null},p1=async(t,e)=>{const n=at(Ce,"users",t);(await bc(n)).exists()?await vr(n,{joinedTeams:qC(e)}):await Sa(n,{uid:t,name:"User",email:"",joinedTeams:[e],createdAt:Qt()})},m6=async(t,e)=>{const n=at(Ce,"users",t);await vr(n,e)},g6=new Rr,y6=new Pr,v6=(t,e)=>lV(Ia,t,e),w6=(t,e)=>cV(Ia,t,e),_6=()=>fI(Ia,g6),E6=()=>fI(Ia,y6),x6=()=>fV(Ia),T6=({isOpen:t,onToggle:e})=>{const{user:n}=Ca(),[r,s]=I.useState(null),[i,o]=I.useState(!1),[a,l]=I.useState(""),[u,d]=I.useState(""),[h,p]=I.useState(!1),[m,T]=I.useState(!1),v=async()=>{try{await x6()}catch(_){console.error("Error signing out:",_)}},w=()=>{T(!m),document.documentElement.classList.toggle("dark")};I.useEffect(()=>{n!=null&&n.uid&&t&&(async()=>{try{const x=await $d(n.uid);s(x),l((x==null?void 0:x.name)||""),d((x==null?void 0:x.role)||"")}catch(x){console.error("Error loading profile:",x)}})()},[n==null?void 0:n.uid,t]);const E=async()=>{if(n!=null&&n.uid){p(!0);try{await m6(n.uid,{name:a,role:u});const _=await $d(n.uid);s(_),o(!1)}catch(_){console.error("Error updating profile:",_),alert("Failed to update profile")}finally{p(!1)}}};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:`fixed left-0 top-0 h-full w-80 bg-card border-r shadow-lg z-50 transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-64"}`,children:[g.jsx("button",{onClick:e,className:"absolute bottom-4 right-4 p-3 bg-primary rounded-full shadow-lg hover:shadow-xl transition-all duration-300",title:"Toggle profile",children:g.jsx(ew,{className:"w-5 h-5 text-primary-foreground"})}),g.jsxs("div",{className:"flex items-center justify-between p-6 pb-0",children:[g.jsx("h2",{className:`text-lg font-semibold text-foreground transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,children:"Profile"}),g.jsx("button",{onClick:e,className:"p-1 text-muted-foreground hover:text-foreground",children:g.jsx(HP,{className:"w-4 h-4"})})]}),g.jsx("div",{className:`p-6 pt-6 transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 bg-background rounded-lg",children:[g.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:g.jsx(ew,{className:"w-6 h-6 text-primary"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-foreground",children:(r==null?void 0:r.name)||"User"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:n==null?void 0:n.email})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-medium text-foreground",children:"Details"}),g.jsxs("button",{onClick:()=>o(!i),className:"text-sm text-primary hover:text-primary/80 flex items-center gap-1",children:[g.jsx(ZP,{className:"w-3 h-3"}),"Edit"]})]}),i?g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground",children:"Name"}),g.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground",children:"Role"}),g.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Your role"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:E,disabled:h,className:"px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm disabled:opacity-50",children:h?"Saving...":"Save"}),g.jsx("button",{onClick:()=>o(!1),className:"px-3 py-1.5 border rounded text-sm",children:"Cancel"})]})]}):g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Name: "}),g.jsx("span",{className:"text-sm text-foreground",children:(r==null?void 0:r.name)||"Not set"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Role: "}),g.jsx("span",{className:"text-sm text-foreground",children:(r==null?void 0:r.role)||"Not set"})]})]})]})]})}),g.jsx("button",{onClick:w,className:"absolute bottom-4 right-20 p-3 bg-card border rounded-full shadow-lg hover:shadow-xl transition-all duration-300",title:m?"Switch to Light Mode":"Switch to Dark Mode",children:m?g.jsx(ok,{className:"w-5 h-5"}):g.jsx(JP,{className:"w-5 h-5"})}),g.jsxs("button",{onClick:v,className:"absolute bottom-4 left-4 flex items-center gap-2 p-4 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm",children:[g.jsx(gT,{className:"w-4 h-4"}),"Sign Out"]})]})})},S6=({children:t})=>{const{user:e}=Ca(),[n,r]=I.useState(!1);return e?g.jsxs(g.Fragment,{children:[t,g.jsx(T6,{isOpen:n,onToggle:()=>r(!n)})]}):g.jsx(g.Fragment,{children:t})},I6=()=>{const t=ri();return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6",children:g.jsxs("div",{className:"text-center animate-fade-in",children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground mb-4 tracking-tight",children:"ContriMeter"}),g.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"Measure contribution. Ensure fairness."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx("button",{onClick:()=>t("/auth?mode=login"),className:"btn-primary min-w-[140px]",children:"Log In"}),g.jsx("button",{onClick:()=>t("/auth?mode=signup"),className:"btn-secondary min-w-[140px]",children:"Sign Up"})]})]})})},C6=()=>g.jsx(I6,{}),A6=()=>{const t=ri(),[e]=bO(),r=(e.get("mode")||"login")==="login",[s,i]=I.useState(""),[o,a]=I.useState(""),[l,u]=I.useState(""),[d,h]=I.useState(!1),[p,m]=I.useState(""),T=E=>{switch(E.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":return"Incorrect login ID or password";case"auth/email-already-in-use":return"Email already in use";case"auth/weak-password":return"Password is too weak";case"auth/invalid-email":return"Invalid email address";default:return"Authentication failed"}},v=async E=>{if(E.preventDefault(),!(!s||!o)){h(!0),m("");try{r?await w6(s,o):await v6(s,o),t("/dashboard")}catch(_){console.error("Auth error:",_),m(T(_))}finally{h(!1)}}},w=async E=>{h(!0),m("");try{E==="google"?await _6():await E6(),t("/dashboard")}catch(_){console.error("Social auth error:",_),m(T(_))}finally{h(!1)}};return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6",children:g.jsxs("div",{className:"w-full max-w-sm animate-fade-in",children:[g.jsx("button",{onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground transition-colors mb-8 text-sm",children:" Back"}),g.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:r?"Welcome back":"Create account"}),g.jsx("p",{className:"text-muted-foreground mb-8",children:r?"Enter your credentials to continue":"Get started with ContriMeter"}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!r&&g.jsx("input",{type:"text",placeholder:"Full name",value:l,onChange:E=>u(E.target.value),className:"input-clean w-full"}),g.jsx("input",{type:"email",placeholder:"Email address",value:s,onChange:E=>i(E.target.value),className:"input-clean w-full"}),g.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:E=>a(E.target.value),className:`input-clean w-full ${p?"border-red-500 text-red-600":""}`}),p&&g.jsx("div",{className:"text-red-500 text-sm mt-2",children:p}),g.jsx("button",{type:"submit",disabled:d||!s||!o,className:"btn-primary w-full mt-6",children:d?"Loading...":r?"Log In":"Sign Up"})]}),g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("span",{className:"w-full border-t"})}),g.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:g.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{type:"button",onClick:()=>w("google"),disabled:d,className:"btn-secondary text-sm",children:"Google"}),g.jsx("button",{type:"button",onClick:()=>w("github"),disabled:d,className:"btn-secondary text-sm",children:"GitHub"})]})]}),g.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[r?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>t(`/auth?mode=${r?"signup":"login"}`),className:"text-foreground hover:underline",children:r?"Sign up":"Log in"})]})]})})},b6=()=>{const t=ri(),{user:e}=Ca(),[n,r]=I.useState((e==null?void 0:e.displayName)||""),[s,i]=I.useState(""),[o,a]=I.useState(!1),l=async u=>{if(u.preventDefault(),!(!n.trim()||!e)){a(!0);try{await p6(e.uid,n.trim(),e.email||"",s.trim()),t("/dashboard")}catch(d){console.error("Error creating profile:",d),alert("Failed to create profile. Please try again.")}finally{a(!1)}}};return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6",children:g.jsxs("div",{className:"w-full max-w-sm animate-fade-in",children:[g.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Complete Your Profile"}),g.jsx("p",{className:"text-muted-foreground mb-8",children:"Tell us a bit about yourself to get started"}),g.jsxs("form",{onSubmit:l,className:"space-y-4",children:[g.jsx("input",{type:"text",placeholder:"Full name",value:n,onChange:u=>r(u.target.value),className:"input-clean w-full",required:!0}),g.jsx("input",{type:"text",placeholder:"Role (optional)",value:s,onChange:u=>i(u.target.value),className:"input-clean w-full"}),g.jsx("button",{type:"submit",disabled:o||!n.trim(),className:"btn-primary w-full mt-6",children:o?"Setting up...":"Complete Setup"})]}),g.jsx("p",{className:"text-xs text-muted-foreground text-center mt-6",children:"You can update this information later"})]})})},R6=t=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0);return I.useEffect(()=>{if(!t){s(!1);return}const i=setTimeout(()=>{console.log("Teams loading timeout - showing empty state"),n([]),s(!1)},3e3);try{const o=Ta(Xr(Ce,"teams"),Ki("members","array-contains",t)),a=Rc(o,l=>{console.log("Teams loaded:",l.docs.length);const u=l.docs.map(d=>({id:d.id,...d.data()}));n(u),s(!1),clearTimeout(i)},l=>{console.error("Firestore error:",l),n([]),s(!1),clearTimeout(i)});return()=>{a(),clearTimeout(i)}}catch(o){console.error("Setup error:",o),n([]),s(!1),clearTimeout(i)}},[t]),{teams:e,loading:r}},P6=async(t,e,n)=>{console.log("createTeam called with:",{teamName:t,leaderUid:e,teamCode:n});try{const r=at(Ce,"teams",n);console.log("Team ref created:",r.path);const s={name:t,code:n,leader:e,members:[e],createdAt:Qt()};console.log("Team data:",s),await Sa(r,s),console.log("Team document created successfully")}catch(r){throw console.error("Error in createTeam:",r),r}},k6=async(t,e)=>{const n=at(Ce,"teams",t);if(!(await bc(n)).exists())throw new Error("Team does not exist");await vr(n,{members:qC(e)})},N6=async t=>{const e=at(Ce,"teams",t),n=await bc(e);return n.exists()?{id:n.id,...n.data()}:null},D6=async(t,e)=>{const n=at(Ce,"teams",t);await vr(n,e)},O6=({id:t,name:e,code:n,isLeader:r=!1})=>{const s=ri();return g.jsx("div",{onClick:()=>s(`/team/${t}`),className:"card-soft cursor-pointer hover:shadow-soft-lg transition-all duration-200 group",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h3",{className:"font-medium text-foreground group-hover:text-primary transition-colors",children:e}),r&&g.jsx(mT,{className:"w-3.5 h-3.5 text-accent"})]}),g.jsx("p",{className:"text-sm text-muted-foreground font-mono mt-1",children:n})]}),g.jsx("span",{className:"text-muted-foreground/50 group-hover:text-muted-foreground transition-colors",children:""})]})})},M6=()=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},L6=({isOpen:t,onClose:e,onCreateTeam:n})=>{const[r,s]=I.useState(""),[i]=I.useState(()=>M6());if(!t)return null;const o=async()=>{if(r.trim())try{await n(r.trim(),i),s(""),e()}catch(a){console.error("Error creating team:",a)}};return g.jsx("div",{className:"fixed inset-0 bg-foreground/10 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:"bg-background border border-border rounded-xl shadow-soft-lg p-6 w-full max-w-md mx-4 animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Create Team"}),g.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(ua,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team Name"}),g.jsx("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"e.g., Product Design",className:"input-clean w-full",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team Code"}),g.jsx("div",{className:"bg-muted rounded-lg px-4 py-3 font-mono text-lg tracking-widest text-foreground text-center",children:i}),g.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Share this code with your team"})]})]}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{onClick:e,className:"btn-secondary flex-1",children:"Cancel"}),g.jsx("button",{onClick:o,disabled:!r.trim(),className:`btn-primary flex-1 ${r.trim()?"":"opacity-50 cursor-not-allowed"}`,children:"Create"})]}),g.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"You'll be the team leader"})]})})},V6=({isOpen:t,onClose:e,onJoinTeam:n})=>{const[r,s]=I.useState("");if(!t)return null;const i=()=>{r.trim()&&(n(r.trim().toUpperCase()),s(""),e())};return g.jsx("div",{className:"fixed inset-0 bg-foreground/10 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:"bg-background border border-border rounded-xl shadow-soft-lg p-6 w-full max-w-md mx-4 animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Join Team"}),g.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(ua,{className:"w-5 h-5"})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team Code"}),g.jsx("input",{type:"text",value:r,onChange:o=>s(o.target.value.toUpperCase()),placeholder:"Enter 6-character code",className:"input-clean w-full text-center font-mono text-lg tracking-widest uppercase",maxLength:6,autoFocus:!0})]}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{onClick:e,className:"btn-secondary flex-1",children:"Cancel"}),g.jsx("button",{onClick:i,disabled:r.length!==6,className:`btn-primary flex-1 ${r.length!==6?"opacity-50 cursor-not-allowed":""}`,children:"Join"})]})]})})},j6=()=>{const t=ri(),{user:e}=Ca(),{teams:n,loading:r}=R6(e==null?void 0:e.uid),[s,i]=I.useState(!1),[o,a]=I.useState(!1),[l,u]=I.useState(!1),[d,h]=I.useState(!1);I.useEffect(()=>{if(!e)return;(async()=>{try{if(!await $d(e.uid)){t("/profile-setup");return}i(!0)}catch(w){console.error("Error initializing user:",w),i(!0)}})()},[e,t]);const p=n.map(v=>({id:v.id,name:v.name,code:v.code,isLeader:v.leader===(e==null?void 0:e.uid)})),m=async(v,w)=>{if(e){console.log("Creating team:",{name:v,code:w,uid:e.uid}),a(!0);try{console.log("Calling createTeam..."),await P6(v,e.uid,w),console.log("Team created successfully"),console.log("Adding team to user..."),await p1(e.uid,w),console.log("Team added to user successfully"),console.log("Team creation complete")}catch(E){console.error("Error creating team:",E),alert(`Failed to create team: ${E}`)}finally{a(!1)}}},T=async v=>{if(e)try{await k6(v,e.uid),await p1(e.uid,v)}catch(w){console.error("Error joining team:",w),alert("Failed to join team. Please check the code and try again.")}};return r&&s?g.jsx("div",{className:"min-h-screen bg-background px-6 py-12",children:g.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[g.jsx("div",{className:"h-4 w-16 bg-muted rounded mb-8 animate-pulse"}),g.jsx("div",{className:"h-8 w-48 bg-muted rounded mb-8 animate-pulse"}),g.jsxs("div",{className:"flex gap-3 mb-10",children:[g.jsx("div",{className:"h-10 w-24 bg-muted rounded animate-pulse"}),g.jsx("div",{className:"h-10 w-24 bg-muted rounded animate-pulse"})]}),g.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>g.jsx("div",{className:"h-16 bg-muted rounded animate-pulse"},v))})]})}):s?g.jsxs("div",{className:"min-h-screen bg-background px-6 py-12",children:[g.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[g.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-8",children:"Your Teams"}),g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsx("button",{onClick:()=>u(!0),disabled:o,className:"btn-primary",children:o?"Creating...":"Create Team"}),g.jsx("button",{onClick:()=>h(!0),className:"btn-secondary",children:"Join Team"}),g.jsx("button",{onClick:async()=>{try{const v=at(Ce,"test","connection");await Sa(v,{test:!0,timestamp:new Date}),alert("Firestore connection works!")}catch(v){alert(`Firestore error: ${v}`)}},className:"btn-secondary text-xs",children:"Test DB"})]}),g.jsxs("div",{className:"flex gap-6 mb-10",children:[g.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Start something fair."}),g.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Step into the action."})]}),g.jsx("div",{className:"space-y-4",children:p.map((v,w)=>g.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${w*100}ms`},children:g.jsx(O6,{...v})},v.id))}),p.length===0&&g.jsx("div",{className:"text-center py-16",children:g.jsx("p",{className:"text-muted-foreground",children:"No teams yet. Create or join one to get started."})})]}),g.jsx(L6,{isOpen:l,onClose:()=>u(!1),onCreateTeam:m}),g.jsx(V6,{isOpen:d,onClose:()=>h(!1),onJoinTeam:T})]}):g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsx("div",{className:"text-muted-foreground",children:"Initializing..."})})},F6=t=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0);return I.useEffect(()=>{if(!t){s(!1);return}const i=Ta(Xr(Ce,"tasks"),Ki("teamId","==",t)),o=Rc(i,a=>{const l=a.docs.map(u=>{var d,h;return{id:u.id,...u.data(),createdAt:(d=u.data().createdAt)==null?void 0:d.toDate(),lastActivity:(h=u.data().lastActivity)==null?void 0:h.toDate()}});n(l),s(!1)});return()=>o()},[t]),{tasks:e,loading:r}},YC=t=>{const[e,n]=I.useState({}),[r,s]=I.useState(!0);return I.useEffect(()=>{if(!t.length){s(!1);return}(async()=>{try{const o={};await Promise.all(t.map(async a=>{const l=await $d(a);l&&(o[a]=l)})),n(o)}catch(o){console.error("Error fetching member profiles:",o)}finally{s(!1)}})()},[t]),{memberProfiles:e,loading:r}},U6=async t=>{const e=Xr(Ce,"tasks");return(await Xy(e,{...t,createdAt:Qt(),lastActivity:Qt()})).id},$6=async(t,e)=>{const n=at(Ce,"tasks",t);await vr(n,{...e,lastActivity:Qt()})},z6=async t=>{const e=at(Ce,"tasks",t);await VF(e)},m1=async t=>{const e=at(Ce,"tasks",t);await vr(e,{archived:!0,lastActivity:Qt()})},B6=async t=>{const e=at(Ce,"tasks",t);await vr(e,{archived:!1,lastActivity:Qt()})},H6={active:"bg-primary/10 text-primary","at-risk":"bg-accent/30 text-muted-foreground",inactive:"bg-muted text-muted-foreground/60"},W6={active:"Active","at-risk":"At Risk",inactive:"Inactive"},q6=({status:t,className:e=""})=>g.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${H6[t]} ${e}`,children:W6[t]}),G6=(t,e,n)=>n>60||t===0&&e===0?"inactive":t<2&&e<30?"at-risk":"active",XC=async(t,e,n=0,r=0)=>{const s=at(Ce,"contributions",`${t}_${e}`);try{await vr(s,{tasksCompleted:Lm(r),totalTimeSpent:Lm(n),lastActive:Qt()})}catch{await Sa(s,{teamId:t,userId:e,tasksCompleted:Math.max(0,r),totalTimeSpent:Math.max(0,n),lastActive:Qt(),createdAt:Qt()})}},K6=async(t,e,n=0)=>{const r=at(Ce,"contributions",`${t}_${e}`);try{await vr(r,{tasksCompleted:Lm(-n),lastActive:Qt()})}catch(s){console.error("Error decrementing contribution:",s)}},Q6=({onTaskSelect:t,selectedTask:e,tasks:n,onTaskUpdate:r,onTaskDelete:s,onTaskArchive:i,onArchiveAllCompleted:o,onMarkDone:a,user:l,teamMembers:u,teamId:d})=>{const[h,p]=I.useState(""),[m,T]=I.useState(""),[v,w]=I.useState("all"),[E,_]=I.useState(!1),[x,k]=I.useState(null),O=u||[l==null?void 0:l.uid].filter(Boolean),{memberProfiles:M}=YC(O);I.useEffect(()=>{l!=null&&l.uid&&!m&&T(l.uid)},[l==null?void 0:l.uid,m]);const C=$=>{if($===(l==null?void 0:l.uid))return"You";const q=M[$];return(q==null?void 0:q.name)||$.slice(0,8)+"..."},S=I.useCallback(()=>{if(!h.trim())return;const $=new Date,q={id:Date.now().toString(),name:h,assignee:m,status:"pending",timeSpent:0,isActive:!1,lastActivity:$,createdAt:$,manuallyMarkedAtRisk:!1};r(q.id,q),p("")},[h,m,r]),R=async $=>{const q=n.find(te=>te.id===$);if(q){if(q.assignee!==(l==null?void 0:l.uid))return;const te=q.status==="pending"?"done":"pending";if(r($,{status:te,isActive:!1,lastActivity:new Date}),d&&q.assignee)try{te==="done"?await XC(d,q.assignee,0,1):await K6(d,q.assignee,1)}catch(F){console.error("Error updating contribution:",F)}}},P=$=>{const q=n.find(te=>te.id===$);q&&r($,{manuallyMarkedAtRisk:!q.manuallyMarkedAtRisk,lastActivity:new Date})},N=I.useCallback(()=>{e&&e.status==="pending"&&e.assignee===(l==null?void 0:l.uid)&&R(e.id)},[e,l==null?void 0:l.uid]);I.useEffect(()=>{const $=q=>{var te;q.target instanceof HTMLInputElement||q.target instanceof HTMLTextAreaElement||(q.key.toLowerCase()==="n"&&(q.preventDefault(),(te=document.querySelector("[data-task-input]"))==null||te.focus()),q.key.toLowerCase()==="d"&&e&&e.status==="pending"&&(q.preventDefault(),N()))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[N]),I.useEffect(()=>{a&&a()},[a]);const D=$=>$.status==="done"?"completed":$.manuallyMarkedAtRisk?"at-risk":$.isActive?"active":"inactive",b=$=>{if($.status==="done")return!1;const q=D({...$,manuallyMarkedAtRisk:!1});return q==="active"||q==="inactive"},j=n.filter($=>{if(E&&$.assignee!==((l==null?void 0:l.uid)||"You"))return!1;const q=D($);return v==="active"?q==="active":v==="completed"?q==="completed":v==="at-risk"?q==="at-risk":v==="inactive"?q==="inactive":!0});return g.jsxs("div",{className:"card-soft",children:[g.jsx("div",{className:"flex items-center justify-between mb-6",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("label",{className:"flex cursor-pointer select-none items-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"checkbox",checked:E,onChange:()=>_(!E),className:"sr-only"}),g.jsx("div",{className:`box block h-8 w-14 rounded-full border-2 ${E?"bg-primary border-primary":"bg-muted border-border"}`}),g.jsx("div",{className:`absolute left-1 top-1 flex h-6 w-6 items-center justify-center rounded-full bg-white shadow-sm transition ${E?"translate-x-full":""}`})]})}),g.jsx("span",{className:"text-lg font-semibold text-foreground",children:E?"MY TASKS":"ALL TASKS"})]})}),g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("div",{className:"flex gap-1 p-1 bg-background rounded-lg w-fit",children:["all","active","completed","at-risk","inactive"].map($=>g.jsx("button",{onClick:()=>w($),className:`px-3 py-1.5 text-xs rounded-md transition-all duration-200 capitalize
                         ${v===$?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:$},$))}),v==="completed"&&j.length>0&&g.jsxs("button",{onClick:()=>o==null?void 0:o(),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:[g.jsx(Xp,{className:"w-3 h-3"}),"Archive All"]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[g.jsx("input",{type:"text","data-task-input":!0,placeholder:"New task...",value:h,onChange:$=>p($.target.value),onKeyDown:$=>$.key==="Enter"&&S(),className:"input-clean flex-1"}),g.jsx("select",{value:m,onChange:$=>T($.target.value),className:"input-clean sm:w-40",children:O.map($=>g.jsx("option",{value:$,children:C($)},$))}),g.jsx("button",{onClick:S,className:"btn-primary",children:"Add"})]}),g.jsxs("div",{className:"space-y-2",children:[j.map($=>g.jsxs("div",{onClick:()=>t((e==null?void 0:e.id)===$.id?null:$),className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-200 cursor-pointer
                       ${(e==null?void 0:e.id)===$.id?"bg-primary/5 ring-1 ring-primary/20":"bg-background hover:bg-background/80"}`,children:[g.jsx("button",{onClick:q=>{q.stopPropagation(),R($.id)},className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0
                         ${$.status==="done"?"bg-primary border-primary":"border-muted-foreground/40 hover:border-primary"}`,children:$.status==="done"&&g.jsx(WP,{className:"w-3 h-3 text-primary-foreground"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:`font-medium truncate ${$.status==="done"?"text-muted-foreground line-through":"text-foreground"}`,children:$.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[C($.assignee),"  ",$.timeSpent||0,"min",$.isActive&&"  Running"]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b($)&&g.jsx("button",{onClick:q=>{q.stopPropagation(),P($.id)},className:`p-1 rounded transition-colors ${$.manuallyMarkedAtRisk?"text-orange-500 bg-orange-50":"text-muted-foreground hover:text-orange-500"}`,title:"Mark as at-risk",children:g.jsx(lk,{className:"w-3 h-3"})}),g.jsx(q6,{status:D($)}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:q=>{q.stopPropagation(),k(x===$.id?null:$.id)},className:"p-1 text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(GP,{className:"w-3 h-3"})}),x===$.id&&g.jsxs("div",{className:"absolute right-0 top-6 bg-card border rounded-lg shadow-lg py-1 z-10 min-w-32",children:[g.jsxs("button",{onClick:q=>{q.stopPropagation(),$.assignee===(l==null?void 0:l.uid)&&(i==null||i($.id)),k(null)},disabled:$.assignee!==(l==null?void 0:l.uid),className:`w-full px-3 py-1.5 text-left text-sm hover:bg-muted flex items-center gap-2 ${$.assignee!==(l==null?void 0:l.uid)?"opacity-50 cursor-not-allowed":""}`,children:[g.jsx(Xp,{className:"w-3 h-3"}),"Archive"]}),g.jsxs("button",{onClick:q=>{q.stopPropagation(),s==null||s($.id),k(null)},className:"w-full px-3 py-1.5 text-left text-sm hover:bg-muted text-red-600 flex items-center gap-2",children:[g.jsx(ak,{className:"w-3 h-3"}),"Delete"]})]})]})]})]},$.id)),j.length===0&&g.jsxs("p",{className:"text-sm text-muted-foreground text-center py-8",children:["No ",v==="all"?"":v," tasks"]})]})]})},Y6=({sessions:t})=>{const e=r=>{const s=Math.floor(r/60),i=r%60;return s===0?`${i}s`:`${s}m ${i}s`},n=r=>{const i=new Date().getTime()-r.getTime(),o=Math.floor(i/(1e3*60*60*24));return o===0?"Today":o===1?"Yesterday":r.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return t.length===0?g.jsx("div",{className:"text-center py-6",children:g.jsx("p",{className:"text-sm text-muted-foreground",children:"No sessions yet"})}):g.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(r=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg",children:[g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm text-foreground truncate",children:r.taskName}),g.jsx("p",{className:"text-xs text-muted-foreground",children:n(r.createdAt)})]}),g.jsx("span",{className:"text-sm font-medium text-muted-foreground ml-3",children:e(r.duration)})]},r.id))})},X6=async(t,e,n,r)=>{const s=Xr(Ce,"sessions");await Xy(s,{userId:t,teamId:e,taskName:n,duration:r,createdAt:Qt()})},J6=async t=>{const e=Xr(Ce,"sessions"),n=Ta(e,Ki("teamId","==",t),NF("createdAt","desc"),DF(20));return(await LF(n)).docs.map(s=>{var i;return{id:s.id,...s.data(),createdAt:(i=s.data().createdAt)==null?void 0:i.toDate()}})},Z6=({selectedTask:t,onTaskUpdate:e,teamId:n,userId:r,tasks:s})=>{const[i,o]=I.useState({}),[a,l]=I.useState(new Set),[u,d]=I.useState([]),[h,p]=I.useState(!1),m=I.useRef(null);I.useEffect(()=>{if(!n)return;const x=async()=>{try{const k=await J6(n);d(k)}catch(k){console.error("Error loading sessions:",k)}};if(x(),h){const k=setInterval(x,5e3);return()=>clearInterval(k)}},[n,h]),I.useEffect(()=>(a.size>0?m.current=window.setInterval(()=>{o(x=>{const k={...x};return a.forEach(O=>{k[O]=(k[O]||0)+1}),k})},1e3):m.current&&clearInterval(m.current),()=>{m.current&&clearInterval(m.current)}),[a]);const T=x=>{const k=Math.floor(x/3600),O=Math.floor(x%3600/60),M=x%60;return`${k.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},v=I.useCallback(()=>{t&&t.assignee===r&&l(x=>x.has(t.id)?x:(e(t.id,{isActive:!0,lastActivity:new Date}),new Set([...x,t.id])))},[t,e,r]),w=I.useCallback(async()=>{if(!t||!a.has(t.id))return;const x=i[t.id]||0;if(x>0){const k={id:Date.now().toString(),userId:r||"",teamId:n||"",taskName:t.name,duration:x,createdAt:new Date};d(M=>[k,...M]),n&&r&&await X6(r,n,t.name,x);const O=Math.floor(x/60);e(t.id,{timeSpent:(t.timeSpent||0)+O,isActive:!1,lastActivity:new Date}),n&&t.assignee&&await XC(n,t.assignee,x,0)}l(k=>{const O=new Set(k);return O.delete(t.id),O}),o(k=>({...k,[t.id]:0}))},[t,a,i,e]);I.useCallback(x=>{a.has(x)&&(l(k=>{const O=new Set(k);return O.delete(x),O}),o(k=>({...k,[x]:0})))},[a]),I.useEffect(()=>{a.forEach(x=>{const k=s.find(O=>O.id===x);k&&k.isActive===!1&&(l(O=>{const M=new Set(O);return M.delete(x),M}),o(O=>({...O,[x]:0})))})},[s,a]),I.useEffect(()=>{const x=k=>{k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement||k.key.toLowerCase()==="s"&&t&&!a.has(t.id)&&(k.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t,a,v]);const E=t&&i[t.id]||0,_=t?a.has(t.id):!1;return g.jsxs("div",{className:"card-soft text-center",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Timer"}),g.jsx("button",{onClick:()=>p(!h),className:`p-2 rounded-lg transition-colors ${h?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground"}`,title:"Session history",children:g.jsx(KP,{className:"w-4 h-4"})})]}),h?g.jsx(Y6,{sessions:u}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-5xl font-light text-foreground tracking-wider font-mono mb-4",children:T(E)}),t?g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Working on: ",g.jsx("span",{className:"text-foreground font-medium",children:t.name})]}):g.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a task to start tracking"}),a.size>1&&g.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[a.size," tasks running"]})]}),g.jsxs("div",{className:"flex justify-center gap-3",children:[g.jsxs("button",{onClick:v,disabled:!t||_,className:`btn-primary flex items-center gap-2 
                         ${!t||_?"opacity-50 cursor-not-allowed":""}`,children:[g.jsx(tk,{className:"w-4 h-4"}),"Start"]}),g.jsxs("button",{onClick:w,disabled:!_,className:`btn-secondary flex items-center gap-2
                         ${_?"":"opacity-50 cursor-not-allowed"}`,children:[g.jsx(ik,{className:"w-4 h-4"}),"Stop"]})]})]})]})},e5=({percentage:t,size:e=80,strokeWidth:n=6})=>{const[r,s]=I.useState(0),i=(e-n)/2,o=i*2*Math.PI,a=o-r/100*o;return I.useEffect(()=>{const l=setTimeout(()=>{s(t)},100);return()=>clearTimeout(l)},[t]),g.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[g.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[g.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",stroke:"hsl(var(--border))",strokeWidth:n}),g.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:n,strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:a,className:"transition-all duration-1000 ease-out"})]}),g.jsxs("span",{className:"absolute text-sm font-medium text-foreground",children:[Math.round(t),"%"]})]})},t5=({minutes:t,className:e=""})=>{const n=r=>{if(r<1)return"Just now";if(r<60)return`${r} min${r===1?"":"s"} ago`;const s=Math.floor(r/60);if(s<24)return`${s} hour${s===1?"":"s"} ago`;const i=Math.floor(s/24);return`${i} day${i===1?"":"s"} ago`};return g.jsxs("span",{className:`text-xs text-muted-foreground/70 ${e}`,children:["Last active: ",n(t)]})},n5=t=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0);return I.useEffect(()=>{if(!t){s(!1);return}const i=Xr(Ce,"contributions"),o=Ta(i,Ki("teamId","==",t)),a=Rc(o,l=>{const u=l.docs.map(d=>{var h,p;return{id:d.id,...d.data(),lastActive:(h=d.data().lastActive)==null?void 0:h.toDate(),createdAt:(p=d.data().createdAt)==null?void 0:p.toDate()}});n(u),s(!1)});return()=>a()},[t]),{contributions:e,loading:r}},r5=({teamId:t,teamMembers:e=[],memberProfiles:n={},tasks:r=[],user:s})=>{const{contributions:i,loading:o}=n5(t),a=e.map(l=>{const u=i.find(E=>E.userId===l),d=n[l],h=(u==null?void 0:u.tasksCompleted)||0,p=r.filter(E=>E.assignee===l).length,m=(u==null?void 0:u.totalTimeSpent)||0,T=(u==null?void 0:u.lastActive)||new Date,v=Math.floor((Date.now()-T.getTime())/(1e3*60)),w=p>0?h/p*100:0;return{id:l,name:l===(s==null?void 0:s.uid)?`${(d==null?void 0:d.name)||`User ${l.slice(-4)}`} (You)`:(d==null?void 0:d.name)||`User ${l.slice(-4)}`,tasksCompleted:h,tasksAssigned:p,timeSpent:m,lastActiveMinutes:v,progressPercentage:w,score:h*10+m,status:G6(h,m,v)}});return Math.max(...a.map(l=>l.score),1),o?g.jsxs("div",{className:"card-soft",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground mb-6",children:"Contributions"}),g.jsx("div",{className:"space-y-4",children:[1,2,3].map(l=>g.jsx("div",{className:"h-20 bg-muted rounded animate-pulse"},l))})]}):g.jsxs("div",{className:"card-soft",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground mb-6",children:"Contributions"}),g.jsxs("div",{className:"space-y-4",children:[a.map((l,u)=>g.jsxs("div",{className:"flex items-center gap-5 p-4 bg-background rounded-lg animate-slide-up",style:{animationDelay:`${u*100}ms`},children:[g.jsx(e5,{percentage:l.progressPercentage,size:64,strokeWidth:5}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:g.jsx("h3",{className:"font-medium text-foreground truncate",children:l.name})}),g.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[g.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.tasksCompleted,"/",l.tasksAssigned," tasks"]}),g.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.floor(l.timeSpent/3600),"h ",Math.floor(l.timeSpent%3600/60),"m ",l.timeSpent%60,"s"]})]}),g.jsx(t5,{minutes:l.lastActiveMinutes,className:"mt-1"})]}),g.jsxs("div",{className:"text-right flex-shrink-0",children:[g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[Math.round(l.progressPercentage),"%"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"progress"})]})]},l.id)),a.length===0&&g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No team members found"})]})]})},s5=({isOpen:t,onClose:e,teamName:n,teamCode:r,members:s,isLeader:i,onRemoveMember:o,onLeaveTeam:a,onDeleteTeam:l})=>t?g.jsx("div",{className:"fixed inset-0 bg-foreground/10 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:"bg-background border border-border rounded-xl shadow-soft-lg p-6 w-full max-w-md mx-4 animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:n}),g.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:r})]}),g.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(ua,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Members"}),g.jsx("div",{className:"space-y-2",children:s.map(u=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-foreground",children:u.name}),u.isLeader&&g.jsx(mT,{className:"w-3.5 h-3.5 text-accent"})]}),i&&!u.isLeader&&g.jsx("button",{onClick:()=>o(u.id),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Remove"})]},u.id))})]}),g.jsx("div",{className:"border-t border-border pt-4 space-y-2",children:i?g.jsx("button",{onClick:l,className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center justify-center gap-2",children:"Delete Team"}):g.jsxs("button",{onClick:a,className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center justify-center gap-2",children:[g.jsx(gT,{className:"w-4 h-4"}),"Leave Team"]})})]})}):null,i5=({isOpen:t,onClose:e,teamId:n,memberProfiles:r})=>{const[s,i]=I.useState([]),[o,a]=I.useState(!0);I.useEffect(()=>{if(!t||!n)return;const u=Xr(Ce,"tasks"),d=Ta(u,Ki("teamId","==",n),Ki("archived","==",!0)),h=Rc(d,p=>{const m=p.docs.map(T=>{var v,w;return{id:T.id,...T.data(),createdAt:(v=T.data().createdAt)==null?void 0:v.toDate(),lastActivity:(w=T.data().lastActivity)==null?void 0:w.toDate()}});i(m),a(!1)});return()=>h()},[t,n]);const l=async u=>{try{await B6(u)}catch(d){console.error("Error unarchiving task:",d)}};return t?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:e}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-card border rounded-lg shadow-lg w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Archived Tasks"}),g.jsx("button",{onClick:e,className:"p-1 text-muted-foreground hover:text-foreground",children:g.jsx(ua,{className:"w-4 h-4"})})]}),g.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:o?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):s.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No archived tasks"}):g.jsx("div",{className:"space-y-3",children:s.map(u=>{var d;return g.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-medium text-foreground",children:u.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to: ",((d=r[u.assignee])==null?void 0:d.name)||"Unknown"," ",u.status==="done"?"  Completed":" Pending"," ",u.timeSpent||0,"min"]})]}),g.jsx("button",{onClick:()=>l(u.id),className:"ml-4 p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded",title:"Unarchive task",children:g.jsx(nk,{className:"w-4 h-4"})})]},u.id)})})})]})})]}):null},o5=async(t,e,n,r,s,i,o)=>{const a=Xr(Ce,"messages"),l={teamId:t,userId:e,userName:n,message:r,createdAt:Qt()};await Xy(a,l)},a5=(t,e)=>{const n=Xr(Ce,"messages"),r=Ta(n,Ki("teamId","==",t));return Rc(r,s=>{const i=s.docs.map(o=>{var a;return{id:o.id,...o.data(),createdAt:((a=o.data().createdAt)==null?void 0:a.toDate())||new Date}});i.sort((o,a)=>o.createdAt.getTime()-a.createdAt.getTime()),e(i)})},l5=({isOpen:t,onClose:e,teamId:n,userId:r,userName:s})=>{const[i,o]=I.useState([]),[a,l]=I.useState(""),[u,d]=I.useState(!1),h=I.useRef(null),p=I.useRef(null);I.useEffect(()=>{if(!t||!n)return;const w=a5(n,o);return()=>w()},[t,n]),I.useEffect(()=>{var w;(w=h.current)==null||w.scrollIntoView({behavior:"smooth"})},[i]);const m=async()=>{if(a.trim())try{await o5(n,r,s,a),l("")}catch(w){console.error("Error sending message:",w)}},T=async w=>{p.current&&(p.current.value="")},v=w=>w<1024?w+" B":w<1024*1024?(w/1024).toFixed(1)+" KB":(w/(1024*1024)).toFixed(1)+" MB";return t?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:e}),g.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-card border-l shadow-lg z-50 rounded-l-lg flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[g.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Team Chat"}),g.jsx("button",{onClick:e,className:"p-1 text-muted-foreground hover:text-foreground",children:g.jsx(ua,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[i.map(w=>g.jsx("div",{className:`flex ${w.userId===r?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-xs rounded-lg p-3 ${w.userId===r?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[w.userId!==r&&g.jsx("p",{className:"text-xs opacity-70 mb-1",children:w.userName}),w.fileUrl?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm",children:w.message}),g.jsxs("div",{className:"flex items-center gap-2 p-2 bg-black/10 rounded",children:[g.jsx(Z0,{className:"w-3 h-3"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs truncate",children:w.fileName}),g.jsx("p",{className:"text-xs opacity-70",children:v(w.fileSize||0)})]}),g.jsx("a",{href:w.fileUrl,download:w.fileName,className:"p-1 hover:bg-black/10 rounded",children:g.jsx(qP,{className:"w-3 h-3"})})]})]}):g.jsx("p",{className:"text-sm",children:w.message}),g.jsx("p",{className:"text-xs opacity-70 mt-1",children:w.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},w.id)),g.jsx("div",{ref:h})]}),g.jsxs("div",{className:"p-4 border-t",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:a,onChange:w=>l(w.target.value),onKeyDown:w=>w.key==="Enter"&&m(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 border rounded-lg text-sm",disabled:u}),g.jsx("input",{ref:p,type:"file",onChange:T,className:"hidden",accept:"*/*"}),g.jsx("button",{onClick:w=>{w.preventDefault()},disabled:u,className:"p-2 text-muted-foreground hover:text-foreground disabled:opacity-50",title:"File upload - Coming Soon",children:g.jsx(Z0,{className:"w-4 h-4"})}),g.jsx("button",{onClick:m,disabled:!a.trim()||u,className:"p-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50",children:g.jsx(rk,{className:"w-4 h-4"})})]}),u&&g.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Uploading file..."})]})]})]}):null},c5=(t,e,n)=>{const[r,s]=I.useState({status:"idle",roomId:null,isAudioMuted:!1,isVideoMuted:!1}),i=I.useRef(null),o=I.useCallback(async h=>{try{s(T=>({...T,status:"connecting",roomId:h})),await Sa(at(Ce,"calls",t),{roomId:h,active:!0,createdBy:e,createdAt:new Date});const p="meet.jit.si",m={roomName:h,width:"100%",height:"100%",parentNode:document.querySelector("#jitsi-container"),userInfo:{displayName:n},configOverwrite:{startWithAudioMuted:!1,startWithVideoMuted:!1}};i.current=new window.JitsiMeetExternalAPI(p,m),i.current.addEventListener("videoConferenceJoined",()=>{s(T=>({...T,status:"connected"}))}),i.current.addEventListener("videoConferenceLeft",()=>{s(T=>({...T,status:"ended"}))}),i.current.addEventListener("audioMuteStatusChanged",T=>{s(v=>({...v,isAudioMuted:T.muted}))}),i.current.addEventListener("videoMuteStatusChanged",T=>{s(v=>({...v,isVideoMuted:T.muted}))})}catch(p){console.error("Error starting call:",p),s(m=>({...m,status:"ended"}))}},[t,e,n]),a=I.useCallback(async h=>{try{s(v=>({...v,status:"connecting",roomId:h}));const p=await bc(at(Ce,"calls",t));if(!p.exists()||!p.data().active)throw new Error("No active call found");const m="meet.jit.si",T={roomName:h,width:"100%",height:"100%",parentNode:document.querySelector("#jitsi-container"),userInfo:{displayName:n},configOverwrite:{startWithAudioMuted:!1,startWithVideoMuted:!1}};i.current=new window.JitsiMeetExternalAPI(m,T),i.current.addEventListener("videoConferenceJoined",()=>{s(v=>({...v,status:"connected"}))}),i.current.addEventListener("videoConferenceLeft",()=>{s(v=>({...v,status:"ended"}))}),i.current.addEventListener("audioMuteStatusChanged",v=>{s(w=>({...w,isAudioMuted:v.muted}))}),i.current.addEventListener("videoMuteStatusChanged",v=>{s(w=>({...w,isVideoMuted:v.muted}))})}catch(p){console.error("Error joining call:",p),s(m=>({...m,status:"ended"}))}},[t,n]),l=I.useCallback(async()=>{i.current&&(i.current.dispose(),i.current=null);try{await vr(at(Ce,"calls",t),{active:!1})}catch(h){console.error("Error updating call status:",h)}s({status:"idle",roomId:null,isAudioMuted:!1,isVideoMuted:!1})},[t]),u=I.useCallback(()=>{i.current&&i.current.executeCommand("toggleAudio")},[]),d=I.useCallback(()=>{i.current&&i.current.executeCommand("toggleVideo")},[]);return{...r,startCall:o,joinCall:a,leaveCall:l,toggleAudio:u,toggleVideo:d}},u5=({teamId:t,userId:e,displayName:n,isOpen:r,onClose:s})=>{const[i,o]=I.useState(!0),{status:a,roomId:l,isAudioMuted:u,isVideoMuted:d,startCall:h,joinCall:p,leaveCall:m,toggleAudio:T,toggleVideo:v}=c5(t,e,n);if(!r)return null;const w=()=>{const k=`team-${t}-${Date.now()}`;h(k)},E=()=>{const k=`team-${t}`;p(k)},_=()=>{m(),s()},x=()=>{switch(a){case"connecting":return"Connecting...";case"connected":return"In call";case"ended":return"Call ended";default:return""}};return a==="connecting"||a==="connected"?g.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[g.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center text-white",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Team Call"}),g.jsx("p",{className:"text-sm text-gray-300",children:x()})]}),g.jsx("button",{onClick:_,className:"text-gray-300 hover:text-white",children:""})]}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{id:"jitsi-container",className:"w-full h-full"})}),g.jsxs("div",{className:"bg-gray-800 p-4 flex justify-center gap-4",children:[g.jsx("button",{onClick:T,className:`p-3 rounded-full ${u?"bg-red-600":"bg-gray-600"} text-white hover:opacity-80`,title:u?"Unmute":"Mute",children:u?g.jsx(YP,{size:20}):g.jsx(XP,{size:20})}),g.jsx("button",{onClick:v,className:`p-3 rounded-full ${d?"bg-red-600":"bg-gray-600"} text-white hover:opacity-80`,title:d?"Turn on video":"Turn off video",children:d?g.jsx(tw,{size:20}):g.jsx(nw,{size:20})}),g.jsx("button",{onClick:_,className:"p-3 rounded-full bg-red-600 text-white hover:bg-red-700",title:"Leave call",children:g.jsx(ek,{size:20})})]})]}):g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Team Call"}),a==="ended"&&g.jsx("div",{className:"mb-4 p-2 bg-red-100 rounded text-sm text-red-800",children:"Call ended"}),g.jsx("div",{className:"mb-4",children:g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:i,onChange:k=>o(k.target.checked)}),i?g.jsx(nw,{size:16}):g.jsx(tw,{size:16}),"Enable video"]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:w,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2 hover:bg-green-700",children:[g.jsx(Jp,{size:16}),"Start Call"]}),g.jsxs("button",{onClick:E,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2 hover:bg-blue-700",children:[g.jsx(Jp,{size:16}),"Join Call"]})]}),g.jsx("button",{onClick:s,className:"w-full mt-2 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",children:"Cancel"})]})})},d5=()=>{var P,N,D;const t=ri(),{teamId:e}=aO(),{user:n}=Ca(),[r,s]=I.useState(null),[i,o]=I.useState(!1),[a,l]=I.useState(null),[u,d]=I.useState(!1),[h,p]=I.useState(!1),[m,T]=I.useState(!1),{tasks:v,loading:w}=F6(e),{memberProfiles:E}=YC((a==null?void 0:a.members)||[]);I.useEffect(()=>{if(!e)return;(async()=>{try{const j=await N6(e);l(j)}catch(j){console.error("Error loading team:",j),t("/dashboard")}})()},[e,t]);const _=async(b,j)=>{if(e)try{v.find($=>$.id===b)?await $6(b,j):await U6({teamId:e,name:j.name||"New Task",assignee:j.assignee||(n==null?void 0:n.uid)||"Unknown",status:j.status||"pending",timeSpent:j.timeSpent||0,isActive:j.isActive||!1,manuallyMarkedAtRisk:j.manuallyMarkedAtRisk||!1})}catch($){console.error("Error updating task:",$)}},x=async b=>{if(confirm("Are you sure you want to delete this task?"))try{await z6(b)}catch(j){console.error("Error deleting task:",j)}},k=async b=>{try{await m1(b)}catch(j){console.error("Error archiving task:",j)}},O=async()=>{const b=v.filter(j=>j.status==="done");if(b.length!==0&&confirm(`Archive ${b.length} completed tasks?`))try{await Promise.all(b.map(j=>m1(j.id)))}catch(j){console.error("Error archiving tasks:",j)}},M=((P=a==null?void 0:a.members)==null?void 0:P.map(b=>{var j;return{id:b,name:b===(n==null?void 0:n.uid)?"You":((j=E[b])==null?void 0:j.name)||b.slice(0,8)+"...",isLeader:(a==null?void 0:a.leader)===b}}))||[],C=async b=>{if(!(!a||a.leader!==(n==null?void 0:n.uid)))try{const j=a.members.filter($=>$!==b);await D6(a.code,{members:j}),l({...a,members:j})}catch(j){console.error("Error removing member:",j),alert("Failed to remove member. Please try again.")}},S=()=>{t("/dashboard")},R=()=>{t("/dashboard")};return a?g.jsxs("div",{className:"min-h-screen bg-background px-6 py-12",children:[g.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx("button",{onClick:()=>t("/dashboard"),className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:" Back to teams"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>T(!0),className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Start team call",children:g.jsx(Jp,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>p(!0),className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Team chat",children:g.jsx(QP,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>d(!0),className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Archived tasks",children:g.jsx(Xp,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>o(!0),className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Team settings",children:g.jsx(sk,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[g.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:a.name}),g.jsx("span",{className:"text-sm text-muted-foreground font-mono bg-card px-2 py-1 rounded",children:a.code})]}),g.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[g.jsx("div",{className:"lg:col-span-2",children:g.jsx(Q6,{onTaskSelect:s,selectedTask:r,tasks:v,onTaskUpdate:_,onTaskDelete:x,onTaskArchive:k,onArchiveAllCompleted:O,user:n,teamMembers:(a==null?void 0:a.members)||[],teamId:e})}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(Z6,{selectedTask:r,onTaskUpdate:_,teamId:e,userId:n==null?void 0:n.uid,tasks:v}),g.jsx(r5,{teamId:e,teamMembers:(a==null?void 0:a.members)||[],memberProfiles:E,tasks:v,user:n})]})]})]}),g.jsx(s5,{isOpen:i,onClose:()=>o(!1),teamName:a.name,teamCode:a.code,members:M,isLeader:a.leader===(n==null?void 0:n.uid),onRemoveMember:C,onLeaveTeam:S,onDeleteTeam:R}),g.jsx(i5,{isOpen:u,onClose:()=>d(!1),teamId:e||"",memberProfiles:E}),g.jsx(l5,{isOpen:h,onClose:()=>p(!1),teamId:e||"",userId:(n==null?void 0:n.uid)||"",userName:((N=E[(n==null?void 0:n.uid)||""])==null?void 0:N.name)||"User"}),g.jsx(u5,{isOpen:m,onClose:()=>T(!1),teamId:e||"",userId:(n==null?void 0:n.uid)||"",displayName:((D=E[(n==null?void 0:n.uid)||""])==null?void 0:D.name)||(n==null?void 0:n.displayName)||"User"})]}):g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsx("div",{className:"text-muted-foreground",children:"Loading team..."})})},h5=()=>{const t=gc();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},f5=new kD,p5=()=>g.jsx(DD,{client:f5,children:g.jsxs(aD,{children:[g.jsx(Hk,{}),g.jsx(xN,{}),g.jsx(AO,{children:g.jsx(S6,{children:g.jsxs(TO,{children:[g.jsx(wi,{path:"/",element:g.jsx(C6,{})}),g.jsx(wi,{path:"/auth",element:g.jsx(A6,{})}),g.jsx(wi,{path:"/profile-setup",element:g.jsx(Zf,{children:g.jsx(b6,{})})}),g.jsx(wi,{path:"/dashboard",element:g.jsx(Zf,{children:g.jsx(j6,{})})}),g.jsx(wi,{path:"/team/:teamId",element:g.jsx(Zf,{children:g.jsx(d5,{})})}),g.jsx(wi,{path:"*",element:g.jsx(h5,{})})]})})})]})});Fx(document.getElementById("root")).render(g.jsx(p5,{}));
